{"version":3,"sources":["webpack:///src/pages/message/examine/examine.vue","webpack:///./src/pages/message/examine/examine.vue?da0f","webpack:///./src/pages/message/examine/examine.vue"],"names":["examine","beforeRouteEnter","to","from","next","vm","path","selectedIndex","_getDatalist","activated","_this","this","eventBus","$off","$on","data","PLANE_ORDER","HOTEL_ORDER","INTL_PLANE_ORDER","INTL_HOTEL_ORDER","TRAIN_ORDER","tableViewOptions","pullDownRefresh","threshold","pullUpLoad","tabOptions","$t","datalist","currentPageIndex","currentPageSize","showAlert","vettingObject","ID","undefined","vettingContent","vettingMemo","BusinessType","InstanceID","TemplateNodeID","methods","_selectTab","index","_this2","params","StartDate","beTimeNumber","beTime","Date","setMonth","getMonth","EndDate","PageIndex","PageSize","VettingStatus","QuerySource","Number","$route","query","Object","api","then","res","ResultData","Schedules","length","$refs","tableView","forceUpdate","_getDatalistMore","_this3","concat","_gotoDetails","item","OrderBusinessType","$router","push","Id","OrderID","isExamine","isOwner","_showVettingAlert","InstanceId","TemplateNodeId","_examineSubmit","_this4","extends_default","$toast","components","CHeader","c_header","HsTab","hs_tab","HsScroll","hs_scroll","HsSection","hs_section","HsCell1","hs_cell_1","HsNull","hs_null","HsAlert","hs_alert","examine_examine","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","isBackNav","fixedBackPath","_v","options","on","select","ref","pulling-down","pulling-up","noValue","JSON","stringify","_l","key","click","$event","BookDate","_s","_e","style","background-image","itemChild","indexChild","DepartureCity","ArrivalCity","DepartTime","AirLine","Flight","staticStyle","margin-bottom","Names","HotelOrderInfo","HotelName","RoomType","CheckInDate","CheckOutDate","NightAmount","RoomAmount","DepartStationName","ArrivalStationName","TrainCode","DepartDate","TotalPrice","VettingStatusDesc","stopPropagation","show","cancelBtn","maskClose","update:show","confirm","slot","directives","name","rawName","value","expression","maxlength","placeholder","domProps","input","target","composing","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/28.062aeb2aa743050c545e.js","sourcesContent":["<template>\n  <div class=\"hs-container\">\n     <c-header :title=\"Number($route.query.QuerySource) === 0 ? $t('base.MyApprovals') : $t('base.MyInitiations')\" isBackNav fixedBackPath=\"/management\"></c-header>\n     <hs-tab :selectedIndex=\"selectedIndex\" :options=\"tabOptions\" @select=\"_selectTab\"></hs-tab>\n     <hs-scroll\n      class=\"table-view\"\n      ref=\"tableView\"\n      :data=\"datalist\"\n      :options=\"tableViewOptions\"\n      @pulling-down=\"_getDatalist\"\n      @pulling-up=\"_getDatalistMore\">\n      <hs-null v-if=\"noValue(JSON.stringify(datalist))\" :title=\"$t('base.AllOrdersForRecentSixMonths')\"></hs-null>\n      <ul v-else>\n        <div class=\"custom-cell\" v-for=\"(item, index) in datalist\" :key=\"index\" @click=\"_gotoDetails(item)\">\n          <div class=\"header\" v-if=\"index === 0 || (index > 0 && (beTime(item.BookDate, 'MM-dd') !== beTime(datalist[index - 1].BookDate, 'MM-dd')))\">\n            <p>{{$t('base.OrderDate')}}: {{beTime(item.BookDate, 'MM-dd')}}</p>\n          </div>\n          <div class=\"content\">\n            <div class=\"information\">\n              <div class=\"left\">\n                <div class=\"logo\" :style=\"{'background-image': `url('static/image/personal-center/plane.png')`}\" v-if=\"item.OrderBusinessType === PLANE_ORDER\"></div>\n                <div class=\"logo\" :style=\"{'background-image': `url('static/image/personal-center/InterPlane.png')`}\" v-else-if=\"item.OrderBusinessType === INTL_PLANE_ORDER\"></div>\n                <div class=\"logo\" :style=\"{'background-image': `url('static/image/personal-center/hotel.png')`}\" v-else-if=\"item.OrderBusinessType === HOTEL_ORDER\"></div>\n                <div class=\"logo\" :style=\"{'background-image': `url('static/image/personal-center/InterHotel.png')`}\" v-else-if=\"item.OrderBusinessType === INTL_HOTEL_ORDER\"></div>\n                <div class=\"logo\" :style=\"{'background-image': `url('static/image/personal-center/train.png')`}\" v-else-if=\"item.OrderBusinessType === TRAIN_ORDER\"></div>\n              </div>\n              <div class=\"details\">\n                <template v-if=\"item.OrderBusinessType === PLANE_ORDER || item.OrderBusinessType === INTL_PLANE_ORDER\">\n                  <div class=\"blank\" v-for=\"(itemChild, indexChild) in item.Segments\" :key=\"indexChild\">\n                    <p class=\"title\">{{itemChild.DepartureCity}} - {{itemChild.ArrivalCity}}</p>\n                    <p>{{beTime(itemChild.DepartTime, 'yyyy-MM-dd hh:mm')}}</p>\n                    <div class=\"row\">\n                      <div class=\"logo\" :style=\"{'background-image': `url('${itemChild.AirLineLogoUrl}')`}\"></div>\n                      <p>{{itemChild.AirLine}}</p>\n                      <p v-if=\"itemChild.Flight\">&nbsp;|&nbsp;{{itemChild.Flight}}</p>\n                    </div>\n                    <p style=\"margin-bottom: 0px\">{{$t('base.FlightsPassenger')}}:&nbsp;{{item.Names}}</p>\n                  </div>\n                </template>\n                <template v-else-if=\"item.OrderBusinessType === HOTEL_ORDER || item.OrderBusinessType === INTL_HOTEL_ORDER\">\n                  <div class=\"blank\">\n                    <p class=\"title\">{{item.HotelOrderInfo.HotelName}}</p>\n                    <p>{{item.HotelOrderInfo.RoomType}}</p>\n                    <p>{{beTime(item.HotelOrderInfo.CheckInDate, 'MM-dd')}}&nbsp;至&nbsp;{{beTime(item.HotelOrderInfo.CheckOutDate, 'MM-dd')}}&nbsp;&nbsp;{{item.HotelOrderInfo.NightAmount}}{{$t('base.QuantifierNight')}}/{{item.HotelOrderInfo.RoomAmount}}{{$t('base.QuantifierHotel')}}</p>\n                    <p style=\"margin-bottom: 0px\">{{$t('base.Hoomer')}}:&nbsp;{{item.Names}}</p>\n                  </div>\n                </template>\n                <template v-else-if=\"item.OrderBusinessType === TRAIN_ORDER\">\n                  <div class=\"blank\" v-for=\"(itemChild, indexChild) in item.Routes\" :key=\"indexChild\">\n                    <p class=\"title\">{{itemChild.DepartStationName}}&nbsp;-&nbsp;{{itemChild.ArrivalStationName}}</p>\n                    <p>{{itemChild.TrainCode}}&nbsp;&nbsp;{{beTime(itemChild.DepartDate, 'yyyy-MM-dd hh:mm')}}</p>\n                    <p style=\"margin-bottom: 0px\">{{$t('base.TrainPassenger')}}:&nbsp;{{item.Names}}</p>\n                  </div>\n                </template>\n              </div>\n              <div class=\"right\">\n                <p class=\"price\">￥{{item.TotalPrice}}</p>\n                <p class=\"status\" v-if=\"item.VettingStatus\">{{item.VettingStatusDesc}}</p>\n              </div>\n            </div>\n            <div class=\"btns\" v-if=\"Number($route.query.QuerySource) === 0 && Number(item.VettingStatus === 1)\">\n              <p @click.stop=\"_showVettingAlert(item, 1)\">{{$t('base.Pass')}}</p>\n              <p @click.stop=\"_showVettingAlert(item, 0)\">{{$t('base.Reject')}}</p>\n            </div>\n          </div>\n        </div>\n        <p class=\"allLoadedTxt\" v-if=\"!tableViewOptions.pullUpLoad\">{{$t('base.AllOrdersForRecentSixMonths')}}</p>\n      </ul>\n     </hs-scroll>\n     <hs-alert :show.sync=\"showAlert\" :title=\"vettingObject.vettingContent === 1 ? $t('base.ApprovedPass') : $t('base.ApprovalRejection')\" cancelBtn=\"\" @confirm=\"_examineSubmit\" maskClose>\n      <div class=\"hs-alert-content\" slot=\"content\">\n        <input maxlength='50' v-model=\"vettingMemo\" :placeholder=\"$t('base.PleaseEnterAComment')\"/>\n      </div>\n    </hs-alert>\n  </div>\n</template>\n<script type=\"text/ecmascript-6\">\nimport CHeader from 'components/c-header/c-header'\nimport HsTab from 'base/hs-tab/hs-tab'\nimport HsScroll from 'base/hs-scroll/hs-scroll'\nimport HsSection from 'base/hs-tableview/hs-section/hs-section'\nimport HsCell1 from 'base/hs-tableview/hs-cell-1/hs-cell-1'\nimport HsNull from 'base/hs-null/hs-null'\nimport eventBus from 'common/js/eventBus.js'\nimport HsAlert from 'base/hs-alert/hs-alert'\nimport {kpiVettingGet, kpiVettingVettingHandleOrder} from 'api'\nconst PLANE_ORDER = 1\nconst HOTEL_ORDER = 2\nconst INTL_PLANE_ORDER = 6\nconst INTL_HOTEL_ORDER = 11\nconst TRAIN_ORDER = 10\nexport default {\n  beforeRouteEnter(to, from, next) {\n    next(vm => {\n      if (\n        from.path === '/' ||\n        from.path === '/home' ||\n        from.path === '/management'\n      ) {\n        vm.selectedIndex = 0\n        vm._getDatalist()\n      }\n    })\n  },\n  activated() {\n    eventBus.$off('refresh')\n    eventBus.$on('refresh', () => {\n      this._getDatalist()\n    })\n  },\n  data() {\n    return {\n      PLANE_ORDER,\n      HOTEL_ORDER,\n      INTL_PLANE_ORDER,\n      INTL_HOTEL_ORDER,\n      TRAIN_ORDER,\n      tableViewOptions: {\n        pullDownRefresh: {\n          threshold: 50\n        },\n        pullUpLoad: false\n      },\n      selectedIndex: 0,\n      tabOptions: [this.$t('base.Pending'), this.$t('base.Approved')],\n      datalist: [],\n      currentPageIndex: 1,\n      currentPageSize: 30,\n      /** 审批弹窗 */\n      showAlert: false,\n      vettingObject: {\n        ID: undefined,\n        vettingContent: undefined, // 1通过 0拒绝\n        vettingMemo: '', // 审批备注\n        BusinessType: undefined, // 业务类型\n        InstanceID: undefined,\n        TemplateNodeID: undefined\n      },\n      vettingMemo: '' // 审批备注\n      /*****************************************************************/\n    }\n  },\n  methods: {\n    /** tab回调 */\n    _selectTab(index) {\n      this.selectedIndex = index\n      this._getDatalist()\n    },\n    /** 获取审批列表 */\n    _getDatalist() {\n      this.currentPageIndex = 1\n      this.tableViewOptions.pullUpLoad = false\n      let params = {\n        StartDate: this.beTimeNumber(\n          this.beTime(new Date().setMonth(new Date().getMonth() - 6))\n        ),\n        EndDate: this.beTimeNumber(this.beTime(new Date())),\n        PageIndex: this.currentPageIndex,\n        PageSize: this.currentPageSize,\n        VettingStatus: this.selectedIndex + 1,\n        QuerySource: Number(this.$route.query.QuerySource)\n      }\n      kpiVettingGet(params).then((res) => {\n        console.log('审批列表: ', res)\n        this.datalist = res.ResultData.Schedules\n        if (res.ResultData.Schedules.length >= this.currentPageSize) {\n          this.tableViewOptions.pullUpLoad = {threshold: 50}\n        }\n        this.$refs.tableView && this.$refs.tableView.forceUpdate()\n      })\n    },\n    _getDatalistMore() {\n      this.currentPageIndex++\n      let params = {\n        StartDate: this.beTimeNumber(\n          this.beTime(new Date().setMonth(new Date().getMonth() - 6))\n        ),\n        EndDate: this.beTimeNumber(this.beTime(new Date())),\n        PageIndex: this.currentPageIndex,\n        PageSize: this.currentPageSize,\n        VettingStatus: this.selectedIndex + 1,\n        QuerySource: Number(this.$route.query.QuerySource)\n      }\n      kpiVettingGet(params).then((res) => {\n        console.log('审批列表: ', res)\n        this.datalist = this.datalist.concat(res.ResultData.Schedules)\n        if (res.ResultData.Schedules.length < this.currentPageSize) {\n          this.tableViewOptions.pullUpLoad = false\n        } else {\n          this.tableViewOptions.pullUpLoad = {threshold: 50}\n        }\n        this.$refs.tableView && this.$refs.tableView.forceUpdate()\n      })\n    },\n    /** 跳转对应的详情页面 */\n    _gotoDetails(item) {\n      console.log('点击了: ', item)\n      if (item.OrderBusinessType === PLANE_ORDER) {\n        this.$router.push({path: '/planeTicket/orderDetails', query: {Id: item.OrderID, isExamine: Number(this.$route.query.QuerySource) === 0, isOwner: Number(this.$route.query.QuerySource) === 1}})\n      } else if (item.OrderBusinessType === HOTEL_ORDER) {\n        this.$router.push({path: '/hotel/orderDetails', query: {OrderID: item.OrderID, isExamine: Number(this.$route.query.QuerySource) === 0, isOwner: Number(this.$route.query.QuerySource) === 1}})\n      } else if (item.OrderBusinessType === INTL_PLANE_ORDER) {\n      } else if (item.OrderBusinessType === INTL_HOTEL_ORDER) {\n        this.$router.push({path: '/inter-hotel/orderDetails', query: {OrderID: item.OrderID, isExamine: Number(this.$route.query.QuerySource) === 0, isOwner: Number(this.$route.query.QuerySource) === 1}})\n      } else if (item.OrderBusinessType === TRAIN_ORDER) {\n        this.$router.push({path: '/train/orderDetail', query: {Id: item.OrderID, isExamine: Number(this.$route.query.QuerySource) === 0, isOwner: Number(this.$route.query.QuerySource) === 1}})\n      }\n    },\n    /** 提交审批 */\n    _showVettingAlert(item, vettingContent) {\n      this.vettingMemo = ''\n      this.showAlert = true\n      this.vettingObject.ID = item.OrderID\n      this.vettingObject.vettingContent = vettingContent\n      this.vettingObject.InstanceID = item.InstanceId\n      this.vettingObject.TemplateNodeID = item.TemplateNodeId\n      switch (item.OrderBusinessType) {\n        // 国内机票\n        case 1:\n          this.vettingObject.BusinessType = 2\n          break\n        // 国际机票\n        case 6:\n          this.vettingObject.BusinessType = 3\n          break\n        // 国内酒店\n        case 2:\n          this.vettingObject.BusinessType = 4\n          break\n        // 国际酒店\n        case 11:\n          this.vettingObject.BusinessType = 5\n          break\n        // 火车票\n        case 10:\n          this.vettingObject.BusinessType = 9\n          break\n        default:\n          return false\n      }\n    },\n    _examineSubmit() {\n      this.vettingObject.vettingMemo = this.vettingMemo\n      let params = {...this.vettingObject}\n      kpiVettingVettingHandleOrder(params).then((res) => {\n        console.log('审批: ', res)\n        if (res.ResultData === true) {\n          this.$toast(this.$t('TM.ApprovalSubmitted'))\n          this._getDatalist()\n        }\n      })\n    }\n    /*******************************************************************************************************************************/\n  },\n  components: {\n    CHeader,\n    HsTab,\n    HsScroll,\n    HsSection,\n    HsCell1,\n    HsNull,\n    HsAlert\n  }\n}\n</script>\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n@import '~common/stylus/base'\n@import '~common/stylus/variable'\n.hs-container\n  width 100%\n  height 100%\n  >.table-view\n    width 100%\n    height calc(100% - 45px - 40px)\n    overflow hidden\n    .custom-cell\n      width 100%\n      padding 15px 10px\n      padding-bottom 0px\n      >.header\n        @extend .flex-row\n        @extend .flex-start\n        width 100%\n        margin-bottom 10px\n        >p\n          background-color $color_red_background_1\n          color $color_white\n          font-size 0.8rem\n          line-height 20px\n          border-radius 10px\n          padding 0 10px\n          margin-right 10px\n        >.change\n          background-color $color_orange_text\n      >.content\n        width 100%\n        background-color $color_white\n        border-radius 3px\n        padding 10px\n        box-shadow 0 0 10px $color_gray_layer\n        >.information\n          @extend .flex-row\n          @extend .flex-start\n          @extend .flex-top\n          width 100%\n          >.left\n            width 30px\n            padding 10px 0\n            >.logo\n              width 20px\n              height 20px\n              background-size 100% 100%\n          >.details\n            width calc(100% - 100px)\n            >.blank\n              width 100%\n              padding 10px 0\n              >.title\n                @extend .flex-row\n                @extend .flex-start\n                width 100%\n                line-height 20px\n                font-size 1.1rem\n                color $color_black_text_0\n                font-weight bold\n                margin-bottom 12px\n              >p\n                width 100%\n                font-size 0.9rem\n                color $color_black_text_1\n                margin-bottom 10px\n                line-height 1.2em\n              >.row\n                @extend .flex-row\n                @extend .flex-start\n                width 100%\n                margin-bottom 10px\n                >.logo\n                  width 15px\n                  height 15px\n                  background-size 100% 100%\n                  margin-right 5px\n                >p\n                  font-size 0.9rem\n                  color $color_black_text_1\n          >.right\n            @extend .flex-column\n            @extend .flex-bottom\n            width 70px\n            padding 10px 0\n            >.price\n              @extend .flex-row\n              @extend .flex-end\n              line-height 20px\n              font-size 1rem\n              font-weight bold\n              color $color_theme\n              margin-bottom 10px\n            >.status\n              font-size 0.7rem\n              color $color_orange_text\n        >.btns\n          @extend .flex-row\n          @extend .flex-end\n          width 100%\n          >p\n            @extend .flex-center\n            color $color_black_text_1\n            height 30px\n            border-radius 15px\n            padding 0 15px\n            background-color $color_gray_background_0\n            font-size 0.9rem\n            margin-left 10px\n    .allLoadedTxt\n      @extend .flex-center\n      width 100%\n      height 40px\n      font-size 0.8rem\n      color $color_black_text_1\n  .hs-alert-content\n    width 100%\n    padding 0 20px\n    >input\n      width 100%\n      height 44px\n      border 1px dashed $color_gray_layer\n      border-radius 2px\n      font-size 0.9rem\n      text-align center\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/message/examine/examine.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hs-container\"},[_c('c-header',{attrs:{\"title\":Number(_vm.$route.query.QuerySource) === 0 ? _vm.$t('base.MyApprovals') : _vm.$t('base.MyInitiations'),\"isBackNav\":\"\",\"fixedBackPath\":\"/management\"}}),_vm._v(\" \"),_c('hs-tab',{attrs:{\"selectedIndex\":_vm.selectedIndex,\"options\":_vm.tabOptions},on:{\"select\":_vm._selectTab}}),_vm._v(\" \"),_c('hs-scroll',{ref:\"tableView\",staticClass:\"table-view\",attrs:{\"data\":_vm.datalist,\"options\":_vm.tableViewOptions},on:{\"pulling-down\":_vm._getDatalist,\"pulling-up\":_vm._getDatalistMore}},[(_vm.noValue(JSON.stringify(_vm.datalist)))?_c('hs-null',{attrs:{\"title\":_vm.$t('base.AllOrdersForRecentSixMonths')}}):_c('ul',[_vm._l((_vm.datalist),function(item,index){return _c('div',{key:index,staticClass:\"custom-cell\",on:{\"click\":function($event){_vm._gotoDetails(item)}}},[(index === 0 || (index > 0 && (_vm.beTime(item.BookDate, 'MM-dd') !== _vm.beTime(_vm.datalist[index - 1].BookDate, 'MM-dd'))))?_c('div',{staticClass:\"header\"},[_c('p',[_vm._v(_vm._s(_vm.$t('base.OrderDate'))+\": \"+_vm._s(_vm.beTime(item.BookDate, 'MM-dd')))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"information\"},[_c('div',{staticClass:\"left\"},[(item.OrderBusinessType === _vm.PLANE_ORDER)?_c('div',{staticClass:\"logo\",style:({'background-image': \"url('static/image/personal-center/plane.png')\"})}):(item.OrderBusinessType === _vm.INTL_PLANE_ORDER)?_c('div',{staticClass:\"logo\",style:({'background-image': \"url('static/image/personal-center/InterPlane.png')\"})}):(item.OrderBusinessType === _vm.HOTEL_ORDER)?_c('div',{staticClass:\"logo\",style:({'background-image': \"url('static/image/personal-center/hotel.png')\"})}):(item.OrderBusinessType === _vm.INTL_HOTEL_ORDER)?_c('div',{staticClass:\"logo\",style:({'background-image': \"url('static/image/personal-center/InterHotel.png')\"})}):(item.OrderBusinessType === _vm.TRAIN_ORDER)?_c('div',{staticClass:\"logo\",style:({'background-image': \"url('static/image/personal-center/train.png')\"})}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"details\"},[(item.OrderBusinessType === _vm.PLANE_ORDER || item.OrderBusinessType === _vm.INTL_PLANE_ORDER)?_vm._l((item.Segments),function(itemChild,indexChild){return _c('div',{key:indexChild,staticClass:\"blank\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(itemChild.DepartureCity)+\" - \"+_vm._s(itemChild.ArrivalCity))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.beTime(itemChild.DepartTime, 'yyyy-MM-dd hh:mm')))]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"logo\",style:({'background-image': (\"url('\" + (itemChild.AirLineLogoUrl) + \"')\")})}),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(itemChild.AirLine))]),_vm._v(\" \"),(itemChild.Flight)?_c('p',[_vm._v(\" | \"+_vm._s(itemChild.Flight))]):_vm._e()]),_vm._v(\" \"),_c('p',{staticStyle:{\"margin-bottom\":\"0px\"}},[_vm._v(_vm._s(_vm.$t('base.FlightsPassenger'))+\": \"+_vm._s(item.Names))])])}):(item.OrderBusinessType === _vm.HOTEL_ORDER || item.OrderBusinessType === _vm.INTL_HOTEL_ORDER)?[_c('div',{staticClass:\"blank\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(item.HotelOrderInfo.HotelName))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(item.HotelOrderInfo.RoomType))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.beTime(item.HotelOrderInfo.CheckInDate, 'MM-dd'))+\" 至 \"+_vm._s(_vm.beTime(item.HotelOrderInfo.CheckOutDate, 'MM-dd'))+\"  \"+_vm._s(item.HotelOrderInfo.NightAmount)+_vm._s(_vm.$t('base.QuantifierNight'))+\"/\"+_vm._s(item.HotelOrderInfo.RoomAmount)+_vm._s(_vm.$t('base.QuantifierHotel')))]),_vm._v(\" \"),_c('p',{staticStyle:{\"margin-bottom\":\"0px\"}},[_vm._v(_vm._s(_vm.$t('base.Hoomer'))+\": \"+_vm._s(item.Names))])])]:(item.OrderBusinessType === _vm.TRAIN_ORDER)?_vm._l((item.Routes),function(itemChild,indexChild){return _c('div',{key:indexChild,staticClass:\"blank\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(itemChild.DepartStationName)+\" - \"+_vm._s(itemChild.ArrivalStationName))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(itemChild.TrainCode)+\"  \"+_vm._s(_vm.beTime(itemChild.DepartDate, 'yyyy-MM-dd hh:mm')))]),_vm._v(\" \"),_c('p',{staticStyle:{\"margin-bottom\":\"0px\"}},[_vm._v(_vm._s(_vm.$t('base.TrainPassenger'))+\": \"+_vm._s(item.Names))])])}):_vm._e()],2),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('p',{staticClass:\"price\"},[_vm._v(\"￥\"+_vm._s(item.TotalPrice))]),_vm._v(\" \"),(item.VettingStatus)?_c('p',{staticClass:\"status\"},[_vm._v(_vm._s(item.VettingStatusDesc))]):_vm._e()])]),_vm._v(\" \"),(Number(_vm.$route.query.QuerySource) === 0 && Number(item.VettingStatus === 1))?_c('div',{staticClass:\"btns\"},[_c('p',{on:{\"click\":function($event){$event.stopPropagation();_vm._showVettingAlert(item, 1)}}},[_vm._v(_vm._s(_vm.$t('base.Pass')))]),_vm._v(\" \"),_c('p',{on:{\"click\":function($event){$event.stopPropagation();_vm._showVettingAlert(item, 0)}}},[_vm._v(_vm._s(_vm.$t('base.Reject')))])]):_vm._e()])])}),_vm._v(\" \"),(!_vm.tableViewOptions.pullUpLoad)?_c('p',{staticClass:\"allLoadedTxt\"},[_vm._v(_vm._s(_vm.$t('base.AllOrdersForRecentSixMonths')))]):_vm._e()],2)],1),_vm._v(\" \"),_c('hs-alert',{attrs:{\"show\":_vm.showAlert,\"title\":_vm.vettingObject.vettingContent === 1 ? _vm.$t('base.ApprovedPass') : _vm.$t('base.ApprovalRejection'),\"cancelBtn\":\"\",\"maskClose\":\"\"},on:{\"update:show\":function($event){_vm.showAlert=$event},\"confirm\":_vm._examineSubmit}},[_c('div',{staticClass:\"hs-alert-content\",attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.vettingMemo),expression:\"vettingMemo\"}],attrs:{\"maxlength\":\"50\",\"placeholder\":_vm.$t('base.PleaseEnterAComment')},domProps:{\"value\":(_vm.vettingMemo)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.vettingMemo=$event.target.value}}})])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a8a9f096\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/message/examine/examine.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a8a9f096\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./examine.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./examine.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./examine.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a8a9f096\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./examine.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a8a9f096\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/message/examine/examine.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}