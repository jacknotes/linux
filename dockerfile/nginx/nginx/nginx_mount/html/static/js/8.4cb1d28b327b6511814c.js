webpackJsonp([8],{"9zRh":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("mvHQ"),r=s.n(a),o=s("Dd8w"),i=s.n(o),l=s("UgQm"),n=s("CCVD"),c=s("4Sih"),d=s("gSa9"),u=s("vgdM"),h=s("4aFc"),m=s("LrqJ"),v=s("bJna"),_=s("C0NF"),p=s("9Vmw"),g=s("ywkp"),f=s("DC+l"),b=s("7+uW"),O=s("NYxO"),C=s("gyMJ"),y={beforeRouteEnter:function(e,t,s){s(function(e){e.noValue(e.interHotelOrder.TravelType)&&e.$router.replace("/home")})},beforeRouteLeave:function(e,t,s){this.$refs.map&&this.$refs.map.show||this.showCExamineProcess?(this.$refs.map&&this.$refs.map.close(),this.showCExamineProcess=!1,s(!1)):s()},computed:i()({},Object(O.c)(["interHotelOrder","isMiniprogram","interHotelRight"]),{hotelOrderInit:function(){return this.$route.params.hotelOrderInit},hotel:function(){return this.$route.params.hotel},room:function(){return this.$route.params.room},ratePlan:function(){return this.$route.params.ratePlan}}),filters:{filterPayType:function(e){switch(e){case 1:return b.a.prototype.$t("base.CompanyPayment");case 2:return b.a.prototype.$t("base.PersonalPayment");case 3:return b.a.prototype.$t("base.CompanyPayment")+"("+b.a.prototype.$t("base.Prepayments")+")";default:return b.a.prototype.$t("base.Unknown")}}},data:function(){return{showDetailsDialog:!1,showCExamineProcess:!1,submitSuccess:!1,showTravelStandard:!1}},methods:i()({},Object(O.d)(["SET_INTER_HOTEL_ORDER"]),Object(O.b)(["dispatchInterHotelRight"]),{_confirm:function(){var e=this;this.$alert({content:this.$t("TM.AreYouSureToSubmitYourOrder"),cancelTxt:this.$t("base.Cancel"),confirmFn:function(){var t=JSON.parse(r()(e.interHotelOrder));t.CheckInDate=e.beTimeNumber(e.interHotelOrder.CheckInDate),t.CheckOutDate=e.beTimeNumber(e.interHotelOrder.CheckOutDate);for(var s=0;s<t.Guests.length;s++){var a=t.Guests[s];a.GuestToRoomNo=a.GuestToRoomNo+1}for(var o=0;o<t.RoomAmount;o++)for(var i=0;i<t.Guests.length;i++){var l=t.Guests[i];if(o+1===l.GuestToRoomNo){l.GuestType=1;break}}Object(C._6)(t).then(function(t){if(t.ResultData.OrderID){e.submitSuccess=!0;var s=JSON.parse(r()(e.interHotelOrder));s.OrderID=t.ResultData.OrderID,e.SET_INTER_HOTEL_ORDER(s),e.$refs.COrderSuccess.open()}else e.$toast(e.$t("TM.TheSubmissionFailedPleaseTryAgainLater"))})}})},_gotoSubmitAndPay:function(){var e=this;this.$alert({content:this.$t("TM.AreYouSureToSubmitAndPayForTheOrder"),cancelTxt:this.$t("base.Cancel"),confirmFn:function(){var t=i()({},e.interHotelOrder);t.CheckInDate=e.beTimeNumber(e.interHotelOrder.CheckInDate),t.CheckOutDate=e.beTimeNumber(e.interHotelOrder.CheckOutDate),Object(C._6)(t).then(function(t){if(t.ResultData.OrderID){e.submitSuccess=!0;var s=JSON.parse(r()(e.interHotelOrder));s.OrderID=t.ResultData.OrderID,e.SET_INTER_HOTEL_ORDER(s),e._gotoPay()}else e.$toast(e.$t("TM.TheSubmissionFailedPleaseTryAgainLater"))})}})},_gotoPay:function(){this.$refs.Pay&&this.$refs.Pay.gotoPay({OrderBusinessType:11,OrderID:this.interHotelOrder.OrderID,PayWay:3,TravelType:Number(this.interHotelOrder.TravelType),CallbackPathName:"interHotelOrderList"})},_callPhone:function(e){window.location.href="tel:"+e},_switchDetailsDialog:function(){this.showDetailsDialog?this.$refs.detailsDialog.showDetails=!1:this.showDetailsDialog=!0},_gotoHomePage:function(){this.$router.replace("/home")},_getTravelStandard:function(){var e=this;this.dispatchInterHotelRight().then(function(t){e.showTravelStandard=!0})}}),components:{CHeader:n.a,COrderSuccess:c.a,HsDialog:v.a,HsScroll:_.a,HsSection:p.a,HsCell1:h.a,HsCellSmallTitle:m.a,HsButton:u.a,InforDetailsMap:g.a,CExamineProcess:l.default,CTravelStandard:d.a,Pay:f.a}},H={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hs-container"},[s("c-header",{attrs:{leftIcon1:"home_2.png",leftFn1:e._gotoHomePage,title:e.$t("base.InternationalHotelOrderConfirmation")}}),e._v(" "),e.noValue(JSON.stringify(e.hotel))?e._e():s("hs-scroll",{staticClass:"table-view"},[s("ul",[s("hs-section",[s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"state-details"},[s("div",{staticClass:"header"},[s("p",[e._v(e._s(0===Number(e.interHotelOrder.TravelType)?e.$t("base.BusinessTrip"):e.$t("base.PersonalTrip")))])]),e._v(" "),s("p",{staticClass:"infor"},[e._v(e._s(e.$t("base.OrderDate"))+": "+e._s(e.$t(e.beTime(new Date),"date",["yyyy-MM-dd","MM dd, yyyy"]))+" "+e._s(e.beTime(new Date,"hh:mm")))]),e._v(" "),s("div",{staticClass:"buttons"},[e.submitSuccess?[2===Number(e.interHotelOrder.PayType)&&e.noValue(JSON.stringify(e.interHotelOrder.VettingProcessList))?s("hs-button",{staticClass:"button",on:{click:e._gotoPay}},[e._v(e._s(e.$t("base.Pay")))]):e._e()]:[2===Number(e.interHotelOrder.PayType)&&e.noValue(JSON.stringify(e.interHotelOrder.VettingProcessList))?s("hs-button",{staticClass:"button",on:{click:e._gotoSubmitAndPay}},[e._v(e._s(e.$t("base.SubmitAndPay")))]):s("hs-button",{staticClass:"button",on:{click:e._confirm}},[e._v(e._s(e.$t("base.Submit")))])]],2)])])],1),e._v(" "),s("hs-section",[s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"custom-cell-hotel"},[s("p",[e._v(e._s(e.hotel.NameChn)+"("+e._s(e.hotel.NameEng)+")")]),e._v(" "),s("p",[e._v(e._s(e.interHotelOrder.RoomAmount)+e._s(e.$t("base.QuantifierHotel"))+" "+e._s(e.ratePlan.RoomNameChn))]),e._v(" "),s("p",[e._v(e._s(e.ratePlan.BedType)+" | "+e._s(e.$t("base.XPeoplePerRoom","function",e.interHotelOrder.AdultAmount))+" | "+e._s(e.ratePlan.BreadFast))]),e._v(" "),s("p",[e._v(e._s(e.$t("base.CheckInDate"))+" "+e._s(e.interHotelOrder.CheckInDate))]),e._v(" "),s("p",[e._v(e._s(e.$t("base.CheckOutDate"))+" "+e._s(e.interHotelOrder.CheckOutDate)+" "+e._s(e.$t("base.TotalNights","function",e.getApartDayCount(e.interHotelOrder.CheckInDate,e.interHotelOrder.CheckOutDate))))]),e._v(" "),e.interHotelOrder.ArrivalTime?s("p",[e._v(e._s(e.$t("base.GoToTheStoreBeforeOClock","function",e.interHotelOrder.ArrivalTime)))]):e._e()])]),e._v(" "),e.noValue(e.ratePlan.CancelRule)?e._e():s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"custom-cell-cancel"},[s("div",{staticStyle:{"background-image":"url('static/image/hotel/irreversible.png')"}}),e._v(" "),s("div",[s("p",[e._v(e._s(e.ratePlan.CancelRule.CancelRuleDesc))])])])]),e._v(" "),s("hs-cell-1",{attrs:{logoName:"address.png"},nativeOn:{click:function(t){e.$refs.map.open()}}},[s("div",{staticClass:"custom-cell-title"},[s("div",{staticClass:"right"},[s("div",{staticClass:"address"},[s("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/hotel/location.png')"}}),e._v(" "),s("p",[e._v(e._s(e.interHotelOrder.CityName)+e._s(e.hotel.DistrictName)+e._s(e.hotel.Address))])])])])])],1),e._v(" "),s("hs-section",e._l(e.interHotelOrder.Guests,function(t,a){return s("hs-cell-1",{key:a,attrs:{showLogo:!1,showSeparator:!1}},[s("div",{staticClass:"custom-cell-people"},[s("div",{staticClass:"left",style:{opacity:0===a?1:0}},[s("p",[e._v(e._s(e.$t("base.Roomer")))])]),e._v(" "),s("div",{staticClass:"right",style:{"border-bottom-width":a===e.interHotelOrder.Guests.length-1?"0px":"1px"}},[s("div",{staticClass:"name"},[e._v(e._s(t.Name))]),e._v(" "),s("div",{staticClass:"others"},[s("p",[e._v(e._s(e.$t("base.CellphoneNumber"))+" "+e._s(""+(t.Mobile?t.Mobile:e.$t("base.Unfilled"))))])])])])])})),e._v(" "),s("hs-section",[e.interHotelOrder.SpecificRequirements?s("hs-cell-small-title",{attrs:{title:e.$t("base.SpecificRequirements"),type:"bold",value:e.interHotelOrder.SpecificRequirements,showLogo:!1}}):e._e(),e._v(" "),e.hotelOrderInit.IsDisplayCustomItem&&e.interHotelOrder.CustomItem&&e.interHotelOrder.CustomItem.Name?s("hs-cell-small-title",{attrs:{title:e.hotelOrderInit.CustomItemName,type:"bold",value:e.interHotelOrder.CustomItem.Name,showLogo:!1}}):e._e(),e._v(" "),e.hotelOrderInit.IsDisplayPurpose?s("hs-cell-small-title",{attrs:{title:e.$t("base.Purpose"),type:"bold",value:e.interHotelOrder.Purpose,showLogo:!1}}):e._e(),e._v(" "),0===Number(e.interHotelOrder.TravelType)?s("hs-cell-small-title",{class:{disabled:e.noValue(JSON.stringify(e.interHotelOrder.VettingProcessList))},attrs:{title:e.$t("base.ApprovalInformation"),type:"bold",value:e.noValue(JSON.stringify(e.interHotelOrder.VettingProcessList))?e.$t("base.NoApprovalRequired"):"CN"===e.language?"":e.$t("base.ApprovalInformation"),showLogo:!e.noValue(JSON.stringify(e.interHotelOrder.VettingProcessList))},nativeOn:{click:function(t){e.showCExamineProcess=!0}}}):e._e(),e._v(" "),0===Number(e.interHotelOrder.TravelType)?s("hs-cell-small-title",{attrs:{title:e.$t("base.PaymentWay"),type:"bold",value:e._f("filterPayType")(e.interHotelOrder.PayType),showLogo:!1}}):e._e(),e._v(" "),e.interHotelOrder.ViolationRankReason?s("hs-cell-small-title",{attrs:{title:e.$t("base.ViolationOfRank"),type:"bold",value:e.interHotelOrder.ViolationRankReason,warning:!1,showLogo:!1},on:{header:e._getTravelStandard}}):e._e()],1),e._v(" "),s("hs-section",e._l(e.interHotelOrder.Contacts,function(t,a){return s("hs-cell-1",{key:a,attrs:{showLogo:!1,showSeparator:!1}},[s("div",{staticClass:"custom-cell-people"},[s("div",{staticClass:"left",style:{opacity:0===a?1:0}},[s("p",[e._v(e._s(e.$t("base.ContactInformation")))])]),e._v(" "),s("div",{staticClass:"right",style:{"border-bottom-width":a===e.interHotelOrder.Contacts.length-1?"0px":"1px"}},[s("div",{staticClass:"name"},[e._v(e._s(t.Name))]),e._v(" "),s("div",{staticClass:"others"},[s("p",[e._v(e._s(e.$t("base.CellphoneNumber"))+" "+e._s(t.Mobile?t.Mobile:e.$t("base.Unfilled")))]),e._v(" "),s("p",[e._v(e._s(e.$t("base.Email"))+" "+e._s(t.Email?t.Email:e.$t("base.Unfilled")))])])])])])}))],1)]),e._v(" "),s("div",{staticClass:"footer",on:{click:e._switchDetailsDialog}},[s("div",{staticClass:"price"},[s("p",[e._v(e._s(e.$t("base.TotalAmount")))]),e._v(" "),e.hotelOrderInit&&e.hotelOrderInit.ChargeInfo?s("p",[e._v("￥"+e._s(e.hotelOrderInit.ChargeInfo.TotalPrice))]):e._e()]),e._v(" "),s("div",{staticClass:"details"},[s("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/base/cell/right_arrow_gray.png')"},style:{transform:e.showDetailsDialog?"rotate(90deg)":"rotate(-90deg)"}})])]),e._v(" "),s("hs-dialog",{ref:"detailsDialog",attrs:{height:"calc(100% - 50px)"},model:{value:e.showDetailsDialog,callback:function(t){e.showDetailsDialog=t},expression:"showDetailsDialog"}},[e.hotelOrderInit&&e.hotelOrderInit.ChargeInfo?s("hs-scroll",{staticClass:"detailsDialog",attrs:{data:[e.interHotelOrder]},nativeOn:{click:function(e){e.stopPropagation()}}},[s("ul",[s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[e._v(e._s(e.$t("base.PriceHotel")))]),e._v(" "),s("p",[s("span",[e._v("￥"+e._s(e.hotelOrderInit.ChargeInfo.AverageRate*e.getApartDayCount(e.interHotelOrder.CheckInDate,e.interHotelOrder.CheckOutDate)))]),e._v(" "),s("span",[e._v("x "+e._s(e.getApartDayCount(e.interHotelOrder.CheckInDate,e.interHotelOrder.CheckOutDate))+e._s(e.$t("base.QuantifierNight")))]),e._v(" "),s("span",[e._v("x "+e._s(e.interHotelOrder.RoomAmount)+e._s(e.$t("base.QuantifierHotel")))])])])]),e._v(" "),s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[e._v(e._s(e.$t("base.ServiceFee")))]),e._v(" "),s("p",[s("span",[e._v("￥"+e._s(e.hotelOrderInit.ChargeInfo.ServiceCharge))])])])])],1)]):e._e()],1),e._v(" "),s("infor-details-map",{ref:"map",attrs:{details:e.hotel}}),e._v(" "),s("c-examine-process",{attrs:{details:e.interHotelOrder,passengerWarning:e.$t("base.Roomer")},model:{value:e.showCExamineProcess,callback:function(t){e.showCExamineProcess=t},expression:"showCExamineProcess"}}),e._v(" "),s("c-travel-standard",{attrs:{type:2,details:e.interHotelRight.HotelRank,travelPolicy:e.interHotelRight.TravelPolicy},model:{value:e.showTravelStandard,callback:function(t){e.showTravelStandard=t},expression:"showTravelStandard"}}),e._v(" "),s("c-order-success",{ref:"COrderSuccess",attrs:{XOrder:e.interHotelOrder,OrderBusinessType:11}}),e._v(" "),s("pay",{ref:"Pay"})],1)},staticRenderFns:[]};var D=s("VU/8")(y,H,!1,function(e){s("w+sS")},"data-v-46fd83b9",null);t.default=D.exports},DFCr:function(e,t){},"w+sS":function(e,t){},ywkp:function(e,t,s){"use strict";var a={props:{details:{type:Object,default:function(){return{}}}},data:function(){return{show:!1,map:void 0}},watch:{show:function(e){var t=this;e&&setTimeout(function(){t._initMap()},1e3)}},methods:{open:function(){this.show=!0},close:function(){this.show=!1},_initMap:function(){var e={center:{lat:Number(this.details.Latitude),lng:Number(this.details.Longitude)},zoom:15,scrollwheel:!0,disableDefaultUI:!0};this.map=new window.google.maps.Map(document.getElementById("map"),e);var t=new window.google.maps.Marker({position:e.center});t.setMap(this.map);var s=new window.google.maps.InfoWindow({content:""+("CN"===this.language&&this.details.NameChn?this.details.NameChn:this.details.NameEng)});t.addListener("click",function(){s.open(this.map,t)}),s.open(this.map,t)}}},r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:"slide"}},[this.show?t("div",{staticClass:"hs-container-child"},[t("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"map"}}),this._v(" "),t("div",{staticClass:"return",on:{click:this.close}},[t("div",{staticStyle:{"background-image":"url('static/image/header/return.png')"}})])]):this._e()])},staticRenderFns:[]};var o=s("VU/8")(a,r,!1,function(e){s("DFCr")},"data-v-714b2d6c",null);t.a=o.exports}});
//# sourceMappingURL=8.4cb1d28b327b6511814c.js.map