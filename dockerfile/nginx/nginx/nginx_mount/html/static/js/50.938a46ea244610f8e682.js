webpackJsonp([50],{"6BJ+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("mvHQ"),i=a.n(r),s=a("Dd8w"),n=a.n(s),o=a("C0NF"),h=a("CCVD"),c=a("kyCV"),l=a("RxQk"),d=a("yyVE"),v=a("l4ZZ"),_=a("gSa9"),u=a("gyMJ"),D=a("NYxO"),p={created:function(){var e=n()({},this.trainOrder);e.TravelType=this.$route.query.TravelType,this.SET_TRAIN_ORDER(e),this.noValue(this.trainOrder.TravelType)?this.$router.replace("/home"):(this._readlocalStorageWithQuery(),this._getTrainRight())},computed:n()({},Object(D.c)(["trainOrder"])),data:function(){return{banners:["/static/image/train/query/banner_01.jpeg"],showTravelStandard:!1,details:{},rotate:0,showWhereGo:!1,showWhereBack:!1,showWhenGo:!1,showWhenBack:!1,isHighSpeed:!1}},methods:n()({},Object(D.d)(["SET_TRAIN_ORDER"]),{_getTrainRight:function(){var e=this;Object(u._32)().then(function(t){e.details=t.ResultData})},_exchangeWhere:function(){++this.rotate;var e=n()({},this.trainOrder);e.DepartObject=this.trainOrder.ArrivalObject,e.ArrivalObject=this.trainOrder.DepartObject,e.DepartStationCode=this.trainOrder.ArrivalStationCode,e.ArrivalStationCode=this.trainOrder.DepartStationCode,e.DepartStationName=this.trainOrder.ArrivalStationName,e.ArrivalStationName=this.trainOrder.DepartStationName,this.SET_TRAIN_ORDER(e)},_setAddressWhereGo:function(e){var t=n()({},this.trainOrder);t.DepartObject=e,t.DepartStationCode=e.CityCode,t.DepartStationName=e["CityName_"+this.language],this.SET_TRAIN_ORDER(t)},_setAddressWhereBack:function(e){var t=n()({},this.trainOrder);t.ArrivalObject=e,t.ArrivalStationCode=e.CityCode,t.ArrivalStationName=e["CityName_"+this.language],this.SET_TRAIN_ORDER(t)},_setDateWhenGo:function(e){var t=n()({},this.trainOrder);t.DepartDate=e,this.SET_TRAIN_ORDER(t),this.trainOrder.ArrivalDate&&this.trainOrder.DepartDate>this.trainOrder.ArrivalDate&&this._setDateWhenBack(this.beTime(new Date(e).setDate(new Date(e).getDate()+1)))},_setDateWhenBack:function(e){var t=n()({},this.trainOrder);t.ArrivalDate=e,this.SET_TRAIN_ORDER(t);var a=this.beTime((new Date).setDate((new Date).getDate()+this.details.CanBookDays-1));this.trainOrder.ArrivalDate&&this.trainOrder.ArrivalDate>a&&this._setDateWhenBack(a)},_setInitArrivalDate:function(){var e=this.beTime(new Date(this.trainOrder.DepartDate).setDate(new Date(this.trainOrder.DepartDate).getDate()+1)),t=this.beTime((new Date).setDate((new Date).getDate()+this.details.CanBookDays-1));return this.trainOrder.ArrivalDate?this.trainOrder.ArrivalDate:e>t?t:e},_clearReturnDate:function(){var e=n()({},this.trainOrder);e.ArrivalDate="",this.SET_TRAIN_ORDER(e)},_gotoQuery:function(){if(this.noValue(this.trainOrder.DepartStationCode))this.$toast(this.$t("TM.PleaseSelectTheDepartureCity"));else if(this.noValue(this.trainOrder.ArrivalStationCode))this.$toast(this.$t("TM.PleaseSelectArrivalCity"));else if(this.trainOrder.DepartStationName!==this.trainOrder.ArrivalStationName){var e=n()({},this.trainOrder);e.isHighSpeed=this.isHighSpeed,this.SET_TRAIN_ORDER(e);var t=!this.trainOrder.ArrivalDate;this.$router.push({path:"/train/trainQueryList",query:{isOneWay:t,orderID:this.$route.query.orderID,TrainCode:this.$route.query.TrainCode,segment:this.$route.query.segment}}),this._savelocalStorageWithQuery()}else this.$toast(this.$t("TM.DepartureCityAndArrivalCityCannotBeSame"))},_savelocalStorageWithQuery:function(){window.localStorage.HISTORY_QUERY_TRAIN=i()({goWhere:this.trainOrder.DepartObject,backWhere:this.trainOrder.ArrivalObject,goWhen:this.trainOrder.DepartDate,backWhen:this.trainOrder.ArrivalDate})},_readlocalStorageWithQuery:function(){if(window.localStorage.HISTORY_QUERY_TRAIN){var e=JSON.parse(window.localStorage.HISTORY_QUERY_TRAIN);this._setAddressWhereGo(e.goWhere),this._setAddressWhereBack(e.backWhere),this._setDateWhenGo(e.goWhen),e.backWhen&&e.backWhen>this.trainOrder.DepartDate&&this._setDateWhenBack(e.backWhen)}}}),components:{HsScroll:o.a,CHeader:h.a,HsSwiper:c.a,HsAddressPicker:l.a,HsGradientButton:d.a,HsDatePicker:v.a,CTravelStandard:_.a}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hs-container"},[a("c-header",{attrs:{isBackNav:"",title:0===Number(e.$route.query.TravelType)?e.$t("base.BusinessTrip"):e.$t("base.PersonalTrip"),fixedBackPath:"/home"}},[0===Number(e.$route.query.TravelType)?a("p",{staticClass:"c-header-right",attrs:{slot:"right"},on:{click:function(t){e.showTravelStandard=!0}},slot:"right"},[e._v(e._s(e.$t("base.Policy")))]):e._e()]),e._v(" "),a("hs-scroll",{ref:"tableView",staticClass:"tableView",attrs:{data:[e.details]}},[a("ul",[a("div",{staticClass:"slider-box"},[a("hs-swiper",{attrs:{maxType:"Width",images:e.banners}})],1),e._v(" "),a("div",{staticClass:"section"},["CN"===e.language?[a("div",{staticClass:"item-china"},[a("div",{staticClass:"left",on:{click:function(t){e.showWhereBack=!1,e.showWhereGo=!0}}},[a("p",[e._v(e._s(e.$t("base.DepartureCity")))]),e._v(" "),a("p",{class:{placeholder:!e.trainOrder.DepartStationName}},[e._v(e._s(e.trainOrder.DepartStationName?e.trainOrder.DepartObject["CityName_"+e.language]:e.$t("base.PleaseChoose")))])]),e._v(" "),a("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/train/query/trainSwitch.png')"},style:{transform:"rotate("+360*e.rotate+"deg)"},on:{click:e._exchangeWhere}}),e._v(" "),a("div",{staticClass:"right",on:{click:function(t){e.showWhereGo=!1,e.showWhereBack=!0}}},[a("p",[e._v(e._s(e.$t("base.ArrivalCity")))]),e._v(" "),a("p",{class:{placeholder:!e.trainOrder.ArrivalStationName}},[e._v(e._s(e.trainOrder.ArrivalStationName?e.trainOrder.ArrivalObject["CityName_"+e.language]:e.$t("base.PleaseChoose")))])])])]:[a("div",{staticClass:"item-china",attrs:{type:e.language}},[a("div",{staticClass:"right"},[a("div",{staticClass:"from",on:{click:function(t){e.showWhereBack=!1,e.showWhereGo=!0}}},[a("p",[e._v(e._s(e.$t("base.DepartureCity")))]),e._v(" "),a("div",[a("p",{class:{placeholder:!e.trainOrder.DepartStationName}},[e._v(e._s(e.trainOrder.DepartStationName?e.trainOrder.DepartObject.Code:e.$t("base.PleaseChoose")))]),e._v(" "),e.trainOrder.DepartStationName?a("p",[e._v(e._s(e.trainOrder.DepartObject["CityName_"+e.language]))]):e._e()])]),e._v(" "),a("div",{staticClass:"to",on:{click:function(t){e.showWhereGo=!1,e.showWhereBack=!0}}},[a("p",[e._v(e._s(e.$t("base.ArrivalCity")))]),e._v(" "),a("div",[a("p",{class:{placeholder:!e.trainOrder.ArrivalStationName}},[e._v(e._s(e.trainOrder.ArrivalStationName?e.trainOrder.ArrivalObject.Code:e.$t("base.PleaseChoose")))]),e._v(" "),e.trainOrder.ArrivalStationName?a("p",[e._v(e._s(e.trainOrder.ArrivalObject["CityName_"+e.language]))]):e._e()])])]),e._v(" "),a("div",{staticClass:"left"},[a("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/plane-ticket/query/change.png')"},style:{transform:"rotate("+(360*e.rotate+90)+"deg)"},on:{click:e._exchangeWhere}})])])],e._v(" "),a("div",{staticClass:"item-date"},[a("div",{staticClass:"selected",on:{click:function(t){e.showWhenBack=!1,e.showWhenGo=!0}}},[a("p",[e._v(e._s(e.$t(e.trainOrder.DepartDate,"date",["MM月dd日","MM dd"])))]),e._v(" "),a("p",[e._v(e._s(e.getWeeks(e.trainOrder.DepartDate))),"CN"===e.language?[e._v("出发")]:e._e()],2)]),e._v(" "),e.trainOrder.ArrivalDate?a("div",{staticClass:"selected",on:{click:function(t){e.showWhenGo=!1,e.showWhenBack=!0}}},[a("p",[e._v(e._s(e.$t(e.trainOrder.ArrivalDate,"date",["MM月dd日","MM dd"])))]),e._v(" "),a("p",[e._v(e._s(e.getWeeks(e.trainOrder.ArrivalDate))),"CN"===e.language?[e._v("返回")]:e._e()],2),e._v(" "),a("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/plane-ticket/query/close.png')"},on:{click:function(t){return t.stopPropagation(),e._clearReturnDate(t)}}})]):a("div",{staticClass:"return",on:{click:function(t){e.showWhenGo=!1,e.showWhenBack=!0}}},[a("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/plane-ticket/query/date.png')"}}),e._v(" "),a("p",[e._v(e._s(e.$t("base.ReturnDate")))])])]),e._v(" "),a("div",{staticClass:"item-isHighSpeed",on:{click:function(t){e.isHighSpeed=!e.isHighSpeed}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isHighSpeed,expression:"!isHighSpeed"}],staticClass:"logo",staticStyle:{"background-image":"url('static/image/base/check-box/check-box-default.png')"}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isHighSpeed,expression:"isHighSpeed"}],staticClass:"logo",staticStyle:{"background-image":"url('static/image/base/check-box/check-box.png')"}}),e._v(" "),a("span",[e._v(e._s(e.$t("base.JustLookAtTheHighSpeedTrain")))])]),e._v(" "),a("hs-gradient-button",{staticStyle:{margin:"20px 0"},attrs:{title:e.$t("base.Search")},on:{click:e._gotoQuery}})],2)])]),e._v(" "),a("hs-address-picker",{attrs:{switchList:[e.$t("base.City")],title:e.$t("base.DepartureCity")},on:{select:e._setAddressWhereGo},model:{value:e.showWhereGo,callback:function(t){e.showWhereGo=t},expression:"showWhereGo"}}),e._v(" "),a("hs-address-picker",{attrs:{switchList:[e.$t("base.City")],title:e.$t("base.ArrivalCity")},on:{select:e._setAddressWhereBack},model:{value:e.showWhereBack,callback:function(t){e.showWhereBack=t},expression:"showWhereBack"}}),e._v(" "),a("hs-date-picker",{attrs:{date:e.trainOrder.DepartDate,maxToDataDays:e.details.CanBookDays,title:e.$t("base.DepartureDate")},on:{changeDate:e._setDateWhenGo},model:{value:e.showWhenGo,callback:function(t){e.showWhenGo=t},expression:"showWhenGo"}}),e._v(" "),a("hs-date-picker",{attrs:{date:e._setInitArrivalDate(),overdueDate:e.trainOrder.DepartDate,maxToDataDays:e.details.CanBookDays,title:e.$t("base.ReturnDate")},on:{changeDate:e._setDateWhenBack},model:{value:e.showWhenBack,callback:function(t){e.showWhenBack=t},expression:"showWhenBack"}}),e._v(" "),a("c-travel-standard",{attrs:{details:e.details.TrainRank,travelPolicy:e.details.TravelPolicy,type:3},model:{value:e.showTravelStandard,callback:function(t){e.showTravelStandard=t},expression:"showTravelStandard"}})],1)},staticRenderFns:[]};var O=a("VU/8")(p,g,!1,function(e){a("9nOE")},"data-v-4e6a39c7",null);t.default=O.exports},"9nOE":function(e,t){}});
//# sourceMappingURL=50.938a46ea244610f8e682.js.map