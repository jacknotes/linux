{"version":3,"sources":["webpack:///src/pages/train/book/violation-rank.vue","webpack:///./src/pages/train/book/violation-rank.vue?ad7b","webpack:///./src/pages/train/book/violation-rank.vue"],"names":["violation_rank","props","value","type","Boolean","default","details","Object","components","CHeader","c_header","HsScroll","hs_scroll","HsSection","hs_section","HsCell1","hs_cell_1","HsGradientButton","hs_gradient_button","computed","extends_default","vuex_esm","currentValue","get","this","set","val","$emit","data","selectedIndex","otherReason","watch","noValue","undefined","methods","_gotoDetails","trim","$toast","$t","length","res","JSON","parse","stringify_default","trainOrder","ViolationRankName","GoPassengers","map","v","Name","join","BackPassengers","ViolationRankReason","ReasonCodes","ReasonDescription","SET_TRAIN_ORDER","book_violation_rank","render","_vm","_h","$createElement","_c","_self","attrs","name","staticClass","title","isBackNav","_v","showLogo","stringify","_e","_s","_l","item","index","key","logoName","nativeOn","click","$event","style","width","directives","rawName","expression","placeholder","domProps","on","input","target","composing","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/70.995e0d1a47e41849608a.js","sourcesContent":["<template>\n  <transition name=\"slide\">\n    <div class=\"hs-container-child\" v-if=\"currentValue\">\n      <c-header :title=\"$t('base.ViolationOfTravelRank')\" isBackNav></c-header>\n      <hs-scroll class=\"table-view\">\n        <ul>\n          <hs-section>\n            <hs-cell-1 :showLogo=\"false\">\n              <div class=\"custom-cell-header\">\n                <p v-if=\"!noValue(JSON.stringify(details.GoPassengers))\">{{$t('base.ThePeopleOfViolatedTravelRank')}}({{$t('base.Going')}}):<span v-for=\"(item, index) in details.GoPassengers\" :key=\"index\">{{item.Name}}、</span><br/></p>\n                <p v-if=\"!noValue(JSON.stringify(details.BackPassengers))\">{{$t('base.ThePeopleOfViolatedTravelRank')}}({{$t('base.Return')}}):<span v-for=\"(item, index) in details.BackPassengers\" :key=\"index\">{{item.Name}}、</span><br/></p>\n                <p>{{$t('base.PleaseChooseTheReason')}}:</p>\n              </div>\n            </hs-cell-1>\n          </hs-section>\n          <hs-section>\n            <hs-cell-1\n              v-for=\"(item, index) in details.ReasonCodes\" :key=\"index\"\n              :value=\"item.ReasonDescription\"\n              logoName=\"select.png\"\n              :showLogo=\"selectedIndex === index\"\n              @click.native=\"selectedIndex = index\"></hs-cell-1>\n            <hs-cell-1 logoName=\"select.png\" :showLogo=\"selectedIndex === undefined\" @click.native=\"selectedIndex = undefined\">\n              <div class=\"other-reason\" :style=\"{width: selectedIndex === undefined ? 'calc(100% - 30px)' : '100%'}\">\n                <textarea v-model=\"otherReason\" :placeholder=\"$t('base.OtherReasons')\"></textarea>\n              </div>\n            </hs-cell-1>\n            <hs-gradient-button :title=\"$t('base.NextStep')\" @click=\"_gotoDetails\"></hs-gradient-button>\n          </hs-section>\n        </ul>\n      </hs-scroll>\n    </div>\n  </transition>\n</template>\n<script type=\"text/ecmascript-6\">\n// 选择违反差旅职级原因页面\nimport CHeader from 'components/c-header/c-header'\nimport HsScroll from 'base/hs-scroll/hs-scroll'\nimport HsSection from 'base/hs-tableview/hs-section/hs-section'\nimport HsCell1 from 'base/hs-tableview/hs-cell-1/hs-cell-1'\nimport HsGradientButton from 'base/hs-button/hs-gradient-button'\nimport {mapGetters, mapMutations} from 'vuex'\nexport default {\n  props: {\n    value: {\n      type: Boolean,\n      default: false\n    },\n    details: {\n      type: Object,\n      default: function() {\n        return {}\n      }\n    }\n  },\n  components: {\n    CHeader,\n    HsScroll,\n    HsSection,\n    HsCell1,\n    HsGradientButton\n  },\n  computed: {\n    ...mapGetters([\n      'trainOrder'\n    ]),\n    currentValue: {\n      get: function() {\n        return this.value\n      },\n      set: function(val) {\n        return this.$emit('input', val)\n      }\n    }\n  },\n  data() {\n    return {\n      selectedIndex: 0,\n      otherReason: ''\n    }\n  },\n  watch: {\n    otherReason(val) {\n      !this.noValue(val) && (this.selectedIndex = undefined)\n    }\n  },\n  methods: {\n    ...mapMutations([\n      'SET_TRAIN_ORDER'\n    ]),\n    _gotoDetails() {\n      if (this.noValue(this.otherReason.trim()) && (this.selectedIndex === undefined)) {\n        this.$toast(this.$t('TM.PleaseSelectOrFillInTheReasonForViolatingTheTravelRank'))\n        return\n      } else if (this.otherReason.length > 50) {\n        this.$toast(this.$t('TM.TheLengthOfTheViolationOfTheTravelRankCannotExceedXWords'))\n        return\n      }\n      let res = JSON.parse(JSON.stringify(this.trainOrder))\n      let ViolationRankName = ''\n      this.details.GoPassengers && (ViolationRankName = this.details.GoPassengers.map(v => v.Name).join('、'))\n      this.details.BackPassengers && (ViolationRankName += this.details.BackPassengers.map(v => v.Name).join('、'))\n      console.log('ViolationCabinRankName: ', ViolationRankName)\n      res.ViolationRankName = ViolationRankName\n      res.ViolationRankReason = this.selectedIndex === undefined ? `${this.$t('base.Other')}: ${this.otherReason}` : this.details.ReasonCodes[this.selectedIndex].ReasonDescription\n      this.SET_TRAIN_ORDER(res)\n      this.currentValue = false\n      this.$emit('delegate')\n    }\n  }\n}\n</script>\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n@import '~common/stylus/base'\n@import '~common/stylus/variable'\n.hs-container-child\n  position absolute\n  width 100%\n  height 100%\n  left 0\n  top 0\n  background-color $color_white\n  z-index 200\n  .table-view\n    width 100%\n    height calc(100% - 45px)\n    overflow hidden\n    background-color $color_white\n    .custom-cell-header\n      width 100%\n      padding 10px 0\n      line-height 1.2em\n    .other-reason\n      width 100%\n      padding 15px 0\n      >textarea\n        width 100%\n        height 80px\n        background-color $color_white\n        font-size 1rem\n        padding 10px\n        border 1px solid $color_gray_layer\n        border-radius 2px\n        resize none\n        outline none\n        box-shadow 0px 0px 0px rgba(0, 0, 0, 0)\n        -webkit-appearance none\n    .next-button\n      width calc(100% - 20px)\n      padding 10px 0\n      background-color $color_theme\n      color $color_white\n      border-radius 4px\n      margin-top 30px\n      font-size 1rem\n      margin-left 10px\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/train/book/violation-rank.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[(_vm.currentValue)?_c('div',{staticClass:\"hs-container-child\"},[_c('c-header',{attrs:{\"title\":_vm.$t('base.ViolationOfTravelRank'),\"isBackNav\":\"\"}}),_vm._v(\" \"),_c('hs-scroll',{staticClass:\"table-view\"},[_c('ul',[_c('hs-section',[_c('hs-cell-1',{attrs:{\"showLogo\":false}},[_c('div',{staticClass:\"custom-cell-header\"},[(!_vm.noValue(JSON.stringify(_vm.details.GoPassengers)))?_c('p',[_vm._v(_vm._s(_vm.$t('base.ThePeopleOfViolatedTravelRank'))+\"(\"+_vm._s(_vm.$t('base.Going'))+\"):\"),_vm._l((_vm.details.GoPassengers),function(item,index){return _c('span',{key:index},[_vm._v(_vm._s(item.Name)+\"、\")])}),_c('br')],2):_vm._e(),_vm._v(\" \"),(!_vm.noValue(JSON.stringify(_vm.details.BackPassengers)))?_c('p',[_vm._v(_vm._s(_vm.$t('base.ThePeopleOfViolatedTravelRank'))+\"(\"+_vm._s(_vm.$t('base.Return'))+\"):\"),_vm._l((_vm.details.BackPassengers),function(item,index){return _c('span',{key:index},[_vm._v(_vm._s(item.Name)+\"、\")])}),_c('br')],2):_vm._e(),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.$t('base.PleaseChooseTheReason'))+\":\")])])])],1),_vm._v(\" \"),_c('hs-section',[_vm._l((_vm.details.ReasonCodes),function(item,index){return _c('hs-cell-1',{key:index,attrs:{\"value\":item.ReasonDescription,\"logoName\":\"select.png\",\"showLogo\":_vm.selectedIndex === index},nativeOn:{\"click\":function($event){_vm.selectedIndex = index}}})}),_vm._v(\" \"),_c('hs-cell-1',{attrs:{\"logoName\":\"select.png\",\"showLogo\":_vm.selectedIndex === undefined},nativeOn:{\"click\":function($event){_vm.selectedIndex = undefined}}},[_c('div',{staticClass:\"other-reason\",style:({width: _vm.selectedIndex === undefined ? 'calc(100% - 30px)' : '100%'})},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.otherReason),expression:\"otherReason\"}],attrs:{\"placeholder\":_vm.$t('base.OtherReasons')},domProps:{\"value\":(_vm.otherReason)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.otherReason=$event.target.value}}})])]),_vm._v(\" \"),_c('hs-gradient-button',{attrs:{\"title\":_vm.$t('base.NextStep')},on:{\"click\":_vm._gotoDetails}})],2)],1)])],1):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f8c9269e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/train/book/violation-rank.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f8c9269e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./violation-rank.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./violation-rank.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./violation-rank.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f8c9269e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./violation-rank.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f8c9269e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/train/book/violation-rank.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}