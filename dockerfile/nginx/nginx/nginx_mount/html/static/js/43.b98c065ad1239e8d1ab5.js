webpackJsonp([43],{EgQE:function(e,t){},Tdnv:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("mvHQ"),o=s.n(a),r=s("Dd8w"),l=s.n(r),i=s("UgQm"),n=s("CCVD"),c=s("4Sih"),h=s("gSa9"),d=s("vgdM"),u=s("4aFc"),_=s("LrqJ"),v=s("bJna"),m=s("C0NF"),p=s("9Vmw"),O=s("VXUB"),b=s("DC+l"),g=s("7+uW"),C=s("NYxO"),f=s("gyMJ"),y={beforeRouteEnter:function(e,t,s){s(function(e){e.noValue(e.hotelOrder.TravelType)&&e.$router.replace("/home")})},beforeRouteLeave:function(e,t,s){this.showMap||this.showCExamineProcess?(this.showMap=!1,this.showCExamineProcess=!1,s(!1)):s()},computed:l()({},Object(C.c)(["hotelOrder","hotelRight"]),{hotelOrderInit:function(){return this.$route.params.hotelOrderInit},hotel:function(){return this.$route.params.hotel},room:function(){return this.$route.params.room},ratePlan:function(){return this.$route.params.ratePlan}}),filters:{filterPayType:function(e){switch(e){case 1:return g.a.prototype.$t("base.CompanyPayment");case 2:return g.a.prototype.$t("base.PersonalPayment");case 3:return g.a.prototype.$t("base.CompanyPayment")+"("+g.a.prototype.$t("base.Prepayments")+")";default:return g.a.prototype.$t("base.Unknown")}}},data:function(){return{showMap:!1,showDetailsDialog:!1,showCExamineProcess:!1,submitSuccess:!1,showTravelStandard:!1}},methods:l()({},Object(C.d)(["SET_HOTEL_ORDER"]),Object(C.b)(["dispatchHotelRight"]),{_confirm:function(){var e=this;this.$alert({content:this.$t("TM.AreYouSureToSubmitYourOrder"),cancelTxt:this.$t("base.Cancel"),confirmFn:function(){var t=l()({},e.hotelOrder);t.CheckInDate=e.beTimeNumber(e.hotelOrder.CheckInDate),t.CheckOutDate=e.beTimeNumber(e.hotelOrder.CheckOutDate),Object(f._0)(t).then(function(t){if(t.ResultData.OrderID){e.submitSuccess=!0;var s=JSON.parse(o()(e.hotelOrder));s.OrderID=t.ResultData.OrderID,e.SET_HOTEL_ORDER(s),e.$refs.COrderSuccess.open()}else e.$toast(e.$t("TM.TheSubmissionFailedPleaseTryAgainLater"))})}})},_gotoSubmitAndPay:function(){var e=this;this.$alert({content:this.$t("TM.AreYouSureToSubmitAndPayForTheOrder"),cancelTxt:this.$t("base.Cancel"),confirmFn:function(){var t=l()({},e.hotelOrder);t.CheckInDate=e.beTimeNumber(e.hotelOrder.CheckInDate),t.CheckOutDate=e.beTimeNumber(e.hotelOrder.CheckOutDate),Object(f._0)(t).then(function(t){if(t.ResultData.OrderID){e.submitSuccess=!0;var s=JSON.parse(o()(e.hotelOrder));s.OrderID=t.ResultData.OrderID,e.SET_HOTEL_ORDER(s),e._gotoPay()}else e.$toast(e.$t("TM.TheSubmissionFailedPleaseTryAgainLater"))})}})},_gotoPay:function(e){this.$refs.Pay&&this.$refs.Pay.gotoPay({OrderBusinessType:2,OrderID:this.hotelOrder.OrderID,PayWay:3,TravelType:Number(this.hotelOrder.TravelType),CallbackPathName:"hotelOrderList"})},_callPhone:function(e){window.location.href="tel:"+e},_switchDetailsDialog:function(){this.showDetailsDialog?this.$refs.detailsDialog.showDetails=!1:this.showDetailsDialog=!0},_gotoHomePage:function(){this.$router.replace("/home")},_getTravelStandard:function(){var e=this;this.dispatchHotelRight().then(function(t){e.showTravelStandard=!0})}}),components:{CHeader:n.a,COrderSuccess:c.a,HsDialog:v.a,HsScroll:m.a,HsSection:p.a,HsCell1:u.a,HsCellSmallTitle:_.a,HsButton:d.a,InforDetailsMap:O.a,CExamineProcess:i.default,CTravelStandard:h.a,Pay:b.a}},D={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hs-container"},[s("c-header",{attrs:{leftIcon1:"home_2.png",leftFn1:e._gotoHomePage,title:e.$t("base.DomesticHotelOrderConfirmation")}}),e._v(" "),e.noValue(JSON.stringify(e.hotel))?e._e():s("hs-scroll",{staticClass:"table-view"},[s("ul",[s("hs-section",[s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"state-details"},[s("div",{staticClass:"header"},[s("p",[e._v(e._s(0===Number(e.hotelOrder.TravelType)?e.$t("base.BusinessTrip"):e.$t("base.PersonalTrip")))])]),e._v(" "),s("p",{staticClass:"infor"},[e._v(e._s(e.$t("base.OrderDate"))+": "+e._s(e.$t(e.beTime(new Date),"date",["yyyy-MM-dd","MM dd, yyyy"]))+" "+e._s(e.beTime(new Date,"hh:mm")))]),e._v(" "),s("div",{staticClass:"buttons"},[e.submitSuccess?[2===Number(e.hotelOrder.PayType)&&e.noValue(JSON.stringify(e.hotelOrder.VettingProcessList))?s("hs-button",{staticClass:"button",on:{click:e._gotoPay}},[e._v(e._s(e.$t("base.Pay")))]):e._e()]:[2===Number(e.hotelOrder.PayType)&&e.noValue(JSON.stringify(e.hotelOrder.VettingProcessList))?s("hs-button",{staticClass:"button",on:{click:e._gotoSubmitAndPay}},[e._v(e._s(e.$t("base.SubmitAndPay")))]):s("hs-button",{staticClass:"button",on:{click:e._confirm}},[e._v(e._s(e.$t("base.Submit")))])]],2)])])],1),e._v(" "),s("hs-section",[s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"custom-cell-hotel"},[s("p",[e._v(e._s(e.hotel.HotelName))]),e._v(" "),s("p",[e._v(e._s(e.hotelOrder.RoomAmount)+e._s(e.$t("base.QuantifierHotel"))+" "+e._s(e.ratePlan.RatePlanName))]),e._v(" "),s("p",[e._v(e._s(e.room.BedType)+" | "+e._s(e.$t("base.XPeoplePerRoom","function",e.room.Capcity))+" | "+e._s(e.ratePlan.BreakFast))]),e._v(" "),s("p",[e._v(e._s(e.$t("base.CheckInDate"))+" "+e._s(e.hotelOrder.CheckInDate))]),e._v(" "),s("p",[e._v(e._s(e.$t("base.CheckOutDate"))+" "+e._s(e.hotelOrder.CheckOutDate)+" "+e._s(e.$t("base.TotalNights","function",e.getApartDayCount(e.hotelOrder.CheckInDate,e.hotelOrder.CheckOutDate))))]),e._v(" "),e.hotelOrder.ArrivalTime?s("p",[e._v(e._s(e.$t("base.GoToTheStoreBeforeOClock","function",e.hotelOrder.ArrivalTime)))]):e._e()])]),e._v(" "),s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"custom-cell-cancel"},[s("div",{staticStyle:{"background-image":"url('static/image/hotel/irreversible.png')"}}),e._v(" "),s("div",[s("p",[e._v(e._s(e.ratePlan.CancelRuleDesc))])])])]),e._v(" "),s("hs-cell-1",{attrs:{logoName:"address.png"},nativeOn:{click:function(t){e.showMap=!0}}},[s("div",{staticClass:"custom-cell-title"},[s("div",{staticClass:"right"},[s("div",{staticClass:"address"},[s("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/hotel/location.png')"}}),e._v(" "),s("p",[e._v(e._s(e.hotelOrder.CityName)+e._s(e.hotel.DistrictName)+e._s(e.hotel.Address))])])])])]),e._v(" "),s("hs-cell-1",{attrs:{logoName:"call.png"},nativeOn:{click:function(t){e._callPhone(e.hotel.Phone)}}},[s("div",{staticClass:"custom-cell-title"},[s("div",{staticClass:"right"},[s("p",[e._v(e._s(e.$t("base.ContactHotel"))+"："+e._s(e.hotel.Phone))])])])])],1),e._v(" "),s("hs-section",e._l(e.hotelOrder.Guests,function(t,a){return s("hs-cell-1",{key:a,attrs:{showLogo:!1,showSeparator:!1}},[s("div",{staticClass:"custom-cell-people"},[s("div",{staticClass:"left",style:{opacity:0===a?1:0}},[s("p",[e._v(e._s(e.$t("base.Roomer")))])]),e._v(" "),s("div",{staticClass:"right",style:{"border-bottom-width":a===e.hotelOrder.Guests.length-1?"0px":"1px"}},[s("div",{staticClass:"name"},[e._v(e._s(t.Name))]),e._v(" "),s("div",{staticClass:"others"},[s("p",[e._v(e._s(e.$t("base.CellphoneNumber"))+" "+e._s(""+(t.Mobile?t.Mobile:e.$t("base.Unfilled"))))])])])])])})),e._v(" "),s("hs-section",[e.hotelOrder.SpecificRequirements?s("hs-cell-small-title",{attrs:{title:e.$t("base.SpecificRequirements"),type:"bold",value:e.hotelOrder.SpecificRequirements,showLogo:!1}}):e._e(),e._v(" "),e.hotelOrderInit.IsDisplayCustomItem&&e.hotelOrder.CustomItem&&e.hotelOrder.CustomItem.Name?s("hs-cell-small-title",{attrs:{title:e.hotelOrderInit.CustomItemName,type:"bold",value:e.hotelOrder.CustomItem.Name,showLogo:!1}}):e._e(),e._v(" "),e.hotelOrderInit.IsDisplayPurpose?s("hs-cell-small-title",{attrs:{title:e.$t("base.Purpose"),type:"bold",value:e.hotelOrder.Purpose,showLogo:!1}}):e._e(),e._v(" "),0===Number(e.hotelOrder.TravelType)?s("hs-cell-small-title",{class:{disabled:e.noValue(JSON.stringify(e.hotelOrder.VettingProcessList))},attrs:{title:e.$t("base.ApprovalInformation"),type:"bold",value:e.noValue(JSON.stringify(e.hotelOrder.VettingProcessList))?e.$t("base.NoApprovalRequired"):"CN"===e.language?"":e.$t("base.ApprovalInformation"),showLogo:!e.noValue(JSON.stringify(e.hotelOrder.VettingProcessList))},nativeOn:{click:function(t){e.showCExamineProcess=!0}}}):e._e(),e._v(" "),0===Number(e.hotelOrder.TravelType)?s("hs-cell-small-title",{attrs:{title:e.$t("base.PaymentWay"),type:"bold",value:e._f("filterPayType")(e.hotelOrder.PayType),showLogo:!1}}):e._e(),e._v(" "),e.hotelOrder.ViolationRankReason?s("hs-cell-small-title",{attrs:{title:e.$t("base.ViolationOfRank"),type:"bold",value:e.hotelOrder.ViolationRankReason,warning:!1,showLogo:!1},on:{header:e._getTravelStandard}}):e._e()],1),e._v(" "),s("hs-section",e._l(e.hotelOrder.Contacts,function(t,a){return s("hs-cell-1",{key:a,attrs:{showLogo:!1,showSeparator:!1}},[s("div",{staticClass:"custom-cell-people"},[s("div",{staticClass:"left",style:{opacity:0===a?1:0}},[s("p",[e._v(e._s(e.$t("base.ContactInformation")))])]),e._v(" "),s("div",{staticClass:"right",style:{"border-bottom-width":a===e.hotelOrder.Contacts.length-1?"0px":"1px"}},[s("div",{staticClass:"name"},[e._v(e._s(t.Name))]),e._v(" "),s("div",{staticClass:"others"},[s("p",[e._v(e._s(e.$t("base.CellphoneNumber"))+" "+e._s(t.Mobile?t.Mobile:e.$t("base.Unfilled")))]),e._v(" "),s("p",[e._v(e._s(e.$t("base.Email"))+" "+e._s(t.Email?t.Email:e.$t("base.Unfilled")))])])])])])}))],1)]),e._v(" "),s("div",{staticClass:"footer",on:{click:e._switchDetailsDialog}},[s("div",{staticClass:"price"},[s("p",[e._v(e._s(e.$t("base.TotalAmount")))]),e._v(" "),e.hotelOrderInit&&e.hotelOrderInit.ChargeInfo?s("p",[e._v("￥"+e._s(e.hotelOrderInit.ChargeInfo.TotalPrice))]):e._e()]),e._v(" "),s("div",{staticClass:"details"},[s("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/base/cell/right_arrow_gray.png')"},style:{transform:e.showDetailsDialog?"rotate(90deg)":"rotate(-90deg)"}})])]),e._v(" "),s("hs-dialog",{ref:"detailsDialog",attrs:{height:"calc(100% - 50px)"},model:{value:e.showDetailsDialog,callback:function(t){e.showDetailsDialog=t},expression:"showDetailsDialog"}},[e.hotelOrderInit&&e.hotelOrderInit.ChargeInfo?s("hs-scroll",{staticClass:"detailsDialog",attrs:{data:[e.hotelOrder]},nativeOn:{click:function(e){e.stopPropagation()}}},[s("ul",[s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[e._v(e._s(e.$t("base.PriceHotel")))]),e._v(" "),s("p",[s("span",[e._v("￥"+e._s(e.hotelOrderInit.ChargeInfo.AverageRate*e.getApartDayCount(e.hotelOrder.CheckInDate,e.hotelOrder.CheckOutDate)))]),e._v(" "),s("span",[e._v("x "+e._s(e.getApartDayCount(e.hotelOrder.CheckInDate,e.hotelOrder.CheckOutDate))+e._s(e.$t("base.QuantifierNight")))]),e._v(" "),s("span",[e._v("x "+e._s(e.hotelOrder.RoomAmount)+e._s(e.$t("base.QuantifierHotel")))])])])]),e._v(" "),s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[e._v(e._s(e.$t("base.ServiceFee")))]),e._v(" "),s("p",[s("span",[e._v("￥"+e._s(e.hotelOrderInit.ChargeInfo.ServiceCharge))])])])])],1)]):e._e()],1),e._v(" "),s("infor-details-map",{attrs:{details:e.hotel},model:{value:e.showMap,callback:function(t){e.showMap=t},expression:"showMap"}}),e._v(" "),s("c-examine-process",{attrs:{details:e.hotelOrder,passengerWarning:e.$t("base.Roomer")},model:{value:e.showCExamineProcess,callback:function(t){e.showCExamineProcess=t},expression:"showCExamineProcess"}}),e._v(" "),s("c-travel-standard",{attrs:{type:2,details:e.hotelRight.HotelRank,travelPolicy:e.hotelRight.TravelPolicy},model:{value:e.showTravelStandard,callback:function(t){e.showTravelStandard=t},expression:"showTravelStandard"}}),e._v(" "),s("c-order-success",{ref:"COrderSuccess",attrs:{XOrder:e.hotelOrder,OrderBusinessType:2}}),e._v(" "),s("pay",{ref:"Pay"})],1)},staticRenderFns:[]};var P=s("VU/8")(y,D,!1,function(e){s("EgQE")},"data-v-6a50972b",null);t.default=P.exports}});
//# sourceMappingURL=43.b98c065ad1239e8d1ab5.js.map