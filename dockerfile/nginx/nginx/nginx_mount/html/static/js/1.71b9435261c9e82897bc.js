webpackJsonp([1],{"1yTQ":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("BO1k"),a=s.n(i),r=s("ifoU"),l=s.n(r),n=s("lHA8"),o=s.n(n),h=s("Gu7T"),c=s.n(h),d=s("woOf"),g=s.n(d),u=s("mvHQ"),p=s.n(u),f=s("Dd8w"),_=s.n(f),v=s("mtWM"),C=s.n(v),D=s("LoAY"),m=s("CCVD"),O=s("7uGY"),I=s("eg5A"),b=s("4aFc"),T=s("A7tv"),S=s("LrqJ"),k=s("C0NF"),F=s("9Vmw"),$=s("BR7v"),P=s("Nzxh"),y={props:{details:{type:Object,default:function(){return{}}},BookInit:{type:Object,default:function(){return{}}}},data:function(){return{show:!1,currentDetails:{},showDetailsNotice:!0,powerDetails:{title:"",showDefaultNameType:!0,showCredential:!0,requiredCredential:!1,showEffectiveDate:!1,requiredEffectiveDate:!1,showNation:!1,requiredNation:!1,showBirthday:!1,requiredBirthday:!1,showGender:!1,requiredMobile:!0,showCard:!1,IsDisplayCostCenter:!1,IsAllowAddCostCenter:!0,IsRequiredCostCenter:!1,EnableEditCostCenter:!0,IsDisplayDepartment:!1,IsRequiredDepartment:!1,EnableEditDepartment:!0,IsDisplayBusinessUnit:!1,IsRequiredBusinessUnit:!1,EnableEditBusinessUnit:!0,BusinessUnitName:""}}},watch:{show:function(e){e&&(this.currentDetails=JSON.parse(p()(this.details)),this._initPowerDetails())}},methods:{open:function(){this.show=!0},close:function(){this.show=!1},_initPowerDetails:function(){this.powerDetails.IsDisplayCostCenter=this.BookInit.IsDisplayCostCenter,this.powerDetails.IsAllowAddCostCenter=this.BookInit.IsAllowAddCostCenter,this.powerDetails.IsRequiredCostCenter=this.BookInit.IsRequiredCostCenter,this.powerDetails.EnableEditCostCenter=this.BookInit.EnableEditCostCenter,this.powerDetails.IsDisplayDepartment=this.BookInit.IsDisplayDepartment,this.powerDetails.IsRequiredDepartment=this.BookInit.IsRequiredDepartment,this.powerDetails.EnableEditDepartment=this.BookInit.EnableEditDepartment,this.powerDetails.IsDisplayBusinessUnit=this.BookInit.IsDisplayBusinessUnit,this.powerDetails.IsRequiredBusinessUnit=this.BookInit.IsRequiredBusinessUnit,this.powerDetails.EnableEditBusinessUnit=this.BookInit.EnableEditBusinessUnit,this.powerDetails.BusinessUnitName=this.BookInit.BusinessUnitName,this.powerDetails.showEffectiveDate=!0,this.powerDetails.requiredCredential=!0,this.powerDetails.showBirthday=!0,this.powerDetails.showGender=!0},_selectWithCostCenters:function(e){this.currentDetails.CostCenter=e},_selectWithDepartments:function(e){this.currentDetails.Department=e},_selectWithBusinessUnit:function(e){this.currentDetails.BusinessUnit=e},_openNameExplain:function(){this.$refs.NameExplain.open()},_localCheck:function(){this.powerDetails.requiredMobile&&this.noValue(this.currentDetails.Mobile)?this.$toast(this.$t("TM.PleaseFill","function",this.$t("base.CellphoneNumber"))):this.noValue(this.currentDetails.Mobile)||this.isPhoneNumber(this.currentDetails.Mobile)?this.noValue(this.currentDetails.Email)&&(this.currentDetails.IsSendBookEmail||this.currentDetails.IsSendIssuedEmail||this.currentDetails.IsSendConfirmEmail)?this.$toast(this.$t("TM.PleaseFill","function",this.$t("base.Email"))):this.noValue(this.currentDetails.Email)||this.isEmail(this.currentDetails.Email)?!this.powerDetails.IsRequiredCostCenter||this.currentDetails.CostCenter&&this.currentDetails.CostCenter.Name?!this.powerDetails.IsRequiedDepartment||1!==this.currentDetails.UpType||this.currentDetails.Department&&this.currentDetails.Department.Name?!this.powerDetails.IsRequiredBusinessUnit||1!==this.currentDetails.UpType||this.currentDetails.BusinessUnit&&this.currentDetails.BusinessUnit.Name?this._confirm():this.$toast(this.$t("TM.PleaseSelect","function",this.powerDetails.BusinessUnitName)):this.$toast(this.$t("TM.PleaseSelect","function",this.$t("base.Department"))):this.$toast(this.$t("TM.PleaseSelect","function",this.$t("base.CostCenter"))):this.$toast(this.$t("TM.XFormatIsIncorrect","function",this.$t("base.Email"))):this.$toast(this.$t("TM.XFormatIsIncorrect","function",this.$t("base.CellphoneNumber")))},_confirm:function(){this.$emit("delegate",this.currentDetails),this.close()}},components:{BusinessUnit:D.a,CHeader:m.a,CostCenters:O.a,Departments:I.a,HsCell1:b.a,HsCell3:T.a,HsCellSmallTitle:S.a,HsScroll:k.a,HsSection:F.a,HsSwitch:$.a,NameExplain:P.a}},N={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"slide"}},[e.show?s("div",{staticClass:"hs-container-child"},[s("c-header",{attrs:{title:e.$t("base.Passenger"),leftIcon1:"return.png",leftFn1:e.close}},[s("div",{staticClass:"c-header-right",attrs:{slot:"right"},slot:"right"},[s("p",{on:{click:e._localCheck}},[e._v(e._s(e.$t("base.Save")))])])]),e._v(" "),s("hs-scroll",{staticClass:"table-view",attrs:{data:[e.details]}},[s("ul",[s("hs-section",[s("hs-cell-small-title",{attrs:{title:e.$t("base.Name"),type:"bold",showLogo:!1,warning:!0,fixedLanguage:"CN"},on:{header:e._openNameExplain},model:{value:e.currentDetails.Name,callback:function(t){e.$set(e.currentDetails,"Name",t)},expression:"currentDetails.Name"}}),e._v(" "),s("hs-cell-small-title",{attrs:{title:e.$t("base.IDType"),type:"bold",showLogo:!1,fixedLanguage:"CN"},model:{value:e.currentDetails.Credential.CredentialName,callback:function(t){e.$set(e.currentDetails.Credential,"CredentialName",t)},expression:"currentDetails.Credential.CredentialName"}}),e._v(" "),s("hs-cell-small-title",{attrs:{title:e.$t("base.IDNumber"),type:"bold",showLogo:!1,fixedLanguage:"CN"},model:{value:e.currentDetails.Credential.CredentialNo,callback:function(t){e.$set(e.currentDetails.Credential,"CredentialNo",t)},expression:"currentDetails.Credential.CredentialNo"}}),e._v(" "),e.powerDetails.showEffectiveDate&&1!==e.currentDetails.Credential.CredentialType?s("hs-cell-small-title",{attrs:{title:e.$t("base.EffectiveDate"),type:"bold",showLogo:!1,fixedLanguage:"CN"},model:{value:e.currentDetails.Credential.EffectiveDate,callback:function(t){e.$set(e.currentDetails.Credential,"EffectiveDate",t)},expression:"currentDetails.Credential.EffectiveDate"}}):e._e()],1),e._v(" "),s("hs-section",[s("hs-cell-small-title",{attrs:{title:e.$t("base.DateOfBirth"),value:e.beTime(new Date(e.currentDetails.BirthDay)),type:"bold",showLogo:!1,fixedLanguage:"CN"}}),e._v(" "),s("hs-cell-small-title",{attrs:{title:e.$t("base.Gender"),value:e.currentDetails.Gender?e.$t("base.Male"):e.$t("base.Female"),type:"bold",showLogo:!1,fixedLanguage:"CN"}}),e._v(" "),s("hs-cell-small-title",{attrs:{title:e.$t("base.CellphoneNumber"),type:"input",placeholder:"("+e.$t("base.RequiredFill")+") "+e.$t("base.PleaseFill"),showLogo:!1,fixedLanguage:"CN"},model:{value:e.currentDetails.Mobile,callback:function(t){e.$set(e.currentDetails,"Mobile",t)},expression:"currentDetails.Mobile"}}),e._v(" "),s("hs-cell-small-title",{attrs:{title:e.$t("base.Email"),type:"input",placeholder:"("+(e.currentDetails.IsSendBookEmail||e.currentDetails.IsSendIssuedEmail||e.currentDetails.IsSendConfirmEmail?e.$t("base.RequiredFill"):e.$t("base.NotNecessaryFill"))+") "+e.$t("base.PleaseFill"),showLogo:!1,fixedLanguage:"CN"},model:{value:e.currentDetails.Email,callback:function(t){e.$set(e.currentDetails,"Email",t)},expression:"currentDetails.Email"}})],1),e._v(" "),0===Number(e.currentDetails.TravelType)?s("hs-section",[s("hs-cell-small-title",{attrs:{title:"旅客类型",value:1===e.currentDetails.UpType?"员工":"非员工",type:"disabled-input",showLogo:!1,fixedLanguage:"CN"}}),e._v(" "),e.powerDetails.IsDisplayCostCenter?s("hs-cell-small-title",{attrs:{title:e.$t("base.CostCenter"),value:e.currentDetails.CostCenter?e.currentDetails.CostCenter.Name:"",type:e.powerDetails.EnableEditCostCenter?"disabled-input":"bold",placeholder:"("+(e.powerDetails.IsRequiredCostCenter?e.$t("base.RequiredChoose"):e.$t("base.NotNecessaryChoose"))+") "+e.$t("base.PleaseChoose"),showLogo:e.powerDetails.EnableEditCostCenter,fixedLanguage:"CN"},nativeOn:{click:function(t){e.powerDetails.EnableEditCostCenter&&e.$refs.CostCenters.open()}}}):e._e(),e._v(" "),1===e.currentDetails.UpType?[e.powerDetails.IsDisplayDepartment?s("hs-cell-small-title",{attrs:{title:e.$t("base.Department"),value:e.currentDetails.Department?e.currentDetails.Department.Name:"",type:e.powerDetails.EnableEditDepartment?"disabled-input":"bold",placeholder:"("+(e.powerDetails.IsRequiedDepartment?e.$t("base.RequiredChoose"):e.$t("base.NotNecessaryChoose"))+") "+e.$t("base.PleaseChoose"),showLogo:e.powerDetails.EnableEditDepartment,fixedLanguage:"CN"},nativeOn:{click:function(t){e.powerDetails.EnableEditDepartment&&e.$refs.Departments.open()}}}):e._e(),e._v(" "),e.powerDetails.IsDisplayBusinessUnit?s("hs-cell-small-title",{attrs:{title:e.powerDetails.BusinessUnitName,value:e.currentDetails.BusinessUnit?e.currentDetails.BusinessUnit.Name:"",type:e.powerDetails.EnableEditBusinessUnit?"disabled-input":"bold",placeholder:"("+(e.powerDetails.IsRequiredBusinessUnit?e.$t("base.RequiredChoose"):e.$t("base.NotNecessaryChoose"))+") "+e.$t("base.PleaseChoose"),showLogo:e.powerDetails.EnableEditBusinessUnit,fixedLanguage:"CN"},nativeOn:{click:function(t){e.powerDetails.EnableEditBusinessUnit&&e.$refs.BusinessUnit.open()}}}):e._e()]:e._e()],2):e._e(),e._v(" "),s("hs-section",[s("hs-cell-3",{attrs:{title:e.$t("base.Notice"),showLogo:!1,titleColor:"#333333"},nativeOn:{click:function(t){e.showDetailsNotice=!e.showDetailsNotice}}},[s("div",{staticClass:"notice-header"},[s("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/base/cell/right_arrow_gray.png')"},style:{transform:e.showDetailsNotice?"rotate(90deg)":"rotate(-90deg)"}})])]),e._v(" "),e.showDetailsNotice?[s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"notice-cell"},[s("p",[e._v(e._s(e.$t("base.BookingSMS")))]),e._v(" "),s("hs-switch",{model:{value:e.currentDetails.IsSendBookSms,callback:function(t){e.$set(e.currentDetails,"IsSendBookSms",t)},expression:"currentDetails.IsSendBookSms"}})],1)]),e._v(" "),s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"notice-cell"},[s("p",[e._v(e._s(e.$t("base.TicketingSMS")))]),e._v(" "),s("hs-switch",{model:{value:e.currentDetails.IsSendIssuedSms,callback:function(t){e.$set(e.currentDetails,"IsSendIssuedSms",t)},expression:"currentDetails.IsSendIssuedSms"}})],1)]),e._v(" "),s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"notice-cell"},[s("p",[e._v(e._s(e.$t("base.BookingMail")))]),e._v(" "),s("hs-switch",{model:{value:e.currentDetails.IsSendBookEmail,callback:function(t){e.$set(e.currentDetails,"IsSendBookEmail",t)},expression:"currentDetails.IsSendBookEmail"}})],1)]),e._v(" "),s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"notice-cell"},[s("p",[e._v(e._s(e.$t("base.TicketingMail")))]),e._v(" "),s("hs-switch",{model:{value:e.currentDetails.IsSendIssuedEmail,callback:function(t){e.$set(e.currentDetails,"IsSendIssuedEmail",t)},expression:"currentDetails.IsSendIssuedEmail"}})],1)])]:e._e()],2)],1)]),e._v(" "),s("costCenters",{ref:"CostCenters",attrs:{powerDetails:e.powerDetails},on:{select:e._selectWithCostCenters}}),e._v(" "),s("departments",{ref:"Departments",attrs:{powerDetails:e.powerDetails},on:{select:e._selectWithDepartments}}),e._v(" "),s("businessUnit",{ref:"BusinessUnit",attrs:{powerDetails:e.powerDetails},on:{select:e._selectWithBusinessUnit}}),e._v(" "),s("nameExplain",{ref:"NameExplain"})],1):e._e()])},staticRenderFns:[]};var w=s("VU/8")(y,N,!1,function(e){s("bcT/")},"data-v-896c2196",null).exports,R=s("w8HC"),B=s("FZO4"),E=s("5Xkm"),G=s("SKRv"),x=s("6Qj3"),L=s("vgdM"),A=s("bJna"),M=s("yyVE"),V=s("GTDf"),H=s("2lc2"),q=s("NYxO"),U={props:{value:{type:Boolean,default:!1},details:{type:Object,default:function(){return{}}}},computed:_()({},Object(q.c)(["flightOrder"]),{currentValue:{get:function(){return this.value},set:function(e){return this.$emit("input",e)}}}),data:function(){return{selectedIndex:0,otherReason:""}},watch:{otherReason:function(e){!this.noValue(e)&&(this.selectedIndex=void 0)}},methods:_()({},Object(q.d)(["SET_FLIGHT_ORDER"]),{_gotoDetails:function(){if(this.noValue(this.otherReason.trim())&&void 0===this.selectedIndex)this.$toast(this.$t("TM.PleaseSelectOrFillInTheReasonForViolatingTheTravelRank"));else if(this.otherReason.length>50)this.$toast(this.$t("TM.TheLengthOfTheViolationOfTheTravelRankCannotExceedXWords"));else{var e=JSON.parse(p()(this.flightOrder)),t="";this.details.GoPassengers&&(t=this.details.GoPassengers.map(function(e){return e.Name}).join("、")),this.details.BackPassengers&&(t+=this.details.BackPassengers.map(function(e){return e.Name}).join("、")),e.ViolationCabinRankName=t,e.ViolationCabinRankReason=void 0===this.selectedIndex?"其他: "+this.otherReason:this.details.ReasonCodes[this.selectedIndex].ReasonDescription,this.SET_FLIGHT_ORDER(e),this.currentValue=!1,this.$emit("delegate")}}}),components:{CHeader:m.a,HsScroll:k.a,HsSection:F.a,HsGradientButton:M.a,HsCell1:b.a}},W={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"slide"}},[e.currentValue?s("div",{staticClass:"hs-container-child"},[s("c-header",{attrs:{title:e.$t("base.ViolationOfTravelRank"),isBackNav:""}}),e._v(" "),s("hs-scroll",{staticClass:"table-view"},[s("ul",[s("hs-section",[s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"custom-cell-header"},[e.noValue(JSON.stringify(e.details.GoPassengers))?e._e():s("p",[e._v("去程违反差旅职级人员:"),e._l(e.details.GoPassengers,function(t,i){return s("span",{key:i},[e._v(e._s(t.Name)+"、")])}),s("br")],2),e._v(" "),e.noValue(JSON.stringify(e.details.BackPassengers))?e._e():s("p",[e._v("返程违反差旅职级人员:"),e._l(e.details.BackPassengers,function(t,i){return s("span",{key:i},[e._v(e._s(t.Name)+"、")])}),s("br")],2),e._v(" "),s("p",[e._v(e._s(e.$t("base.PleaseChooseTheReason"))+":")])])])],1),e._v(" "),s("hs-section",[e._l(e.details.ReasonCodes,function(t,i){return s("hs-cell-1",{key:i,attrs:{value:t.ReasonDescription,logoName:"select.png",showLogo:e.selectedIndex===i},nativeOn:{click:function(t){e.selectedIndex=i}}})}),e._v(" "),e.details.IsDisplayOtherItem||!e.details.ReasonCodes||0===e.details.ReasonCodes.length?s("hs-cell-1",{attrs:{logoName:"select.png",showLogo:void 0===e.selectedIndex},nativeOn:{click:function(t){e.selectedIndex=void 0}}},[s("div",{staticClass:"other-reason",style:{width:void 0===e.selectedIndex?"calc(100% - 30px)":"100%"}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.otherReason,expression:"otherReason"}],attrs:{placeholder:e.$t("base.OtherReasons")},domProps:{value:e.otherReason},on:{input:function(t){t.target.composing||(e.otherReason=t.target.value)}}})])]):e._e(),e._v(" "),s("hs-gradient-button",{attrs:{title:e.$t("base.NextStep")},on:{click:e._gotoDetails}})],2)],1)])],1):e._e()])},staticRenderFns:[]};var J=s("VU/8")(U,W,!1,function(e){s("j1+r")},"data-v-5eebf760",null).exports,Q=s("7+uW"),j=s("gyMJ"),z={text:Q.a.prototype.$t("base.CompanyPayment"),value:1},X={text:Q.a.prototype.$t("base.PersonalPayment"),value:2},Y={text:Q.a.prototype.$t("base.CompanyPayment")+"("+Q.a.prototype.$t("base.Prepayments")+")",value:3},K={beforeRouteEnter:function(e,t,s){s(function(e){"/"!==t.path&&"/planeTicket/inforList"!==t.path||(e._getData(),e._getCurrentLimitCredentialTypes())})},beforeRouteLeave:function(e,t,s){var i=e.path;"/home"===e.path?s():this.$refs.CPassenger&&this.$refs.CPassenger.show?(this.$refs.CPassenger.close(),s(!1)):this.$refs.PassengerDetails&&this.$refs.PassengerDetails.show?(this.$refs.PassengerDetails.close(),s(!1)):"/planeTicket/bookDetailsContacts"!==i&&"/planeTicket/bookDetailsPassengers"!==i&&"/planeTicket/orderConfirm"!==i&&"/planeTicket/bookDetailsCustomItem"!==i&&"/planeTicket/query"!==i&&"/planeTicket/orderList"!==i&&"/home"!==i?this.$alert({content:this.$t("TM.YourOrderHasNotBeenFilledOut"),cancelTxt:this.$t("base.Cancel"),confirmFn:function(){s()},cancelFn:function(){s(!1)}}):"/home"===i?(this._clearGoAndBackFlight(),s()):(this.showDetailsDialog=!1,this.showViolationRank=!1,this.showCCustomItem=!1,this.showCContacts=!1,s())},activated:function(){this.noValue(this.flightOrder.TravelType)?this.$router.replace("/home"):this._creatPayTypePicker(this.flightOrderInit.PayTypes)},data:function(){return{details:{},showDetailsDialog:!1,showRulesDialog:!1,rulesHtml:"",showExplain:!1,returnExplainDetails:{},editingPassenger:{},editingChangePassenger:{},showCContacts:!1,contactDetails:{},showCCustomItem:!1,showViolationRank:!1,showTransportWholeRulesDialog:!1,violationRankDetails:{},initSum:0,extendSegments:!1,currentLimitCredentialTypes:[1,2,3,4,5,6,7,8,9,10,11]}},computed:_()({},Object(q.c)(["flightOrder","flightOrderInit"]),{purpose:{get:function(){return this.flightOrder.Purpose},set:function(e){var t=JSON.parse(p()(this.flightOrder));t.Purpose=e,this.SET_FLIGHT_ORDER(t)}},authorizationCode:{get:function(){return this.flightOrder.AuthorizationCode},set:function(e){var t=JSON.parse(p()(this.flightOrder));t.AuthorizationCode=e,this.SET_FLIGHT_ORDER(t)}},currentFlightOrderInit:{get:function(){return this.flightOrderInit},set:function(e){return this.SET_FLIGHT_ORDER_INIT(e)}},IsChangeOrder:function(){return!this.noValue(this.flightOrder.OriginPnrID)}}),filters:{filterPayType:function(e){switch(e){case 1:return Q.a.prototype.$t("base.CompanyPayment");case 2:return Q.a.prototype.$t("base.PersonalPayment");case 3:return Q.a.prototype.$t("base.CompanyPayment")+"("+Q.a.prototype.$t("base.Prepayments")+")";default:return Q.a.prototype.$t("base.Unknown")}}},watch:{flightOrderInit:{handler:function(e,t){var s=0;if(this.noValue(this.flightOrder.OriginPnrID)){if(e&&e.GoChargeInfo)for(var i in e.GoChargeInfo)s+=e.GoChargeInfo[i];if(e&&e.BackChargeInfo)for(var a in e.BackChargeInfo)s+=e.BackChargeInfo[a]}else s+=e.GoChangeChargeInfo.AdultChangeDiffPrice,s+=e.GoChangeChargeInfo.ChangeFee,s+=e.BackChangeChargeInfo.AdultChangeDiffPrice,s+=e.BackChangeChargeInfo.ChangeFee;e.InsuranceProducts&&e.InsuranceProducts.forEach(function(e){e.select&&(s+=e.SalePrice)}),this.initSum=s},deep:!0}},methods:_()({},Object(q.d)(["SET_FLIGHT_ORDER","SET_FLIGHT_ORDER_INIT"]),{_getData:function(){var e=this;if(this.noValue(this.flightOrder.TravelType))this.$router.replace("/home");else{var t=JSON.parse(p()(this.flightOrder));if(t.GoSelectedFlight.DepartDate=this.beTimeNumber(t.GoSelectedFlight.DepartDate),t.BackSelectedFlight.DepartDate=this.beTimeNumber(t.BackSelectedFlight.DepartDate),this.noValue(t.BackSelectedFlight.FlightNo)&&(t.BackSelectedFlight=null),this.noValue(this.flightOrder.OriginPnrID))Object(j.o)(t).then(function(t){e.SET_FLIGHT_ORDER_INIT(t.ResultData),e._initData(t)});else{var s={GoSelectedFlight:t.GoSelectedFlight,BackSelectedFlight:t.BackSelectedFlight,ItktID:this.flightOrder.OriginBookingID,PnrID:this.flightOrder.OriginPnrID,SegmentIDList:this.flightOrder.SegmentIDList};Object(j.q)(s).then(function(t){if(e.SET_FLIGHT_ORDER_INIT(t.ResultData),e.flightOrderInit.ChangePassengers&&e.flightOrderInit.ChangePassengers.length>0){var s=JSON.parse(p()(e.flightOrder));s.Passengers=e.flightOrderInit.ChangePassengers,s.Passengers=s.Passengers.map(function(e){return e.select=!0,e}),e.SET_FLIGHT_ORDER(s)}e._initData(t)})}}},_initData:function(e){var t=this;if(!this.noValue(p()(this.flightOrderInit.DefaultContacts))){var s=JSON.parse(p()(this.flightOrder));s.Contacts=[g()(this.flightOrderInit.DefaultContact,{openDelete:!1})],this.SET_FLIGHT_ORDER(s)}var i=JSON.parse(p()(this.flightOrderInit));i.InsuranceProducts=i.InsuranceProducts?i.InsuranceProducts:[];var a=i.InsuranceProducts.length;this.noValue(this.flightOrder.BackSelectedFlight.FlightNo)||(i.InsuranceProducts=i.InsuranceProducts.concat(JSON.parse(p()(i.InsuranceProducts)))),i.InsuranceProducts.forEach(function(e,t){i.InsuranceProducts[t].Order=t<a?1:2}),i.InsuranceProducts.forEach(function(e,s){(1===e.InsuranceType&&t.flightOrderInit.IsFreeInsurance||2===e.InsuranceType&&t.flightOrderInit.IsBindAccidentInsurance)&&s<a?i.InsuranceProducts[s].select=!0:i.InsuranceProducts[s].select=!1}),this.SET_FLIGHT_ORDER_INIT(i),this._creatPayTypePicker(this.flightOrderInit.PayTypes),this._creatApproversPicker(this.flightOrderInit.Approvers)},_departDateAddDays:function(e,t){return this.beTime(new Date(e).setDate(new Date(e).getDate()+t))},_getCurrentLimitCredentialTypes:function(){var e=[1,2,3,4,5,6,7,8,9,10,11],t=this.flightOrder.GoSelectedFlight&&this.flightOrder.GoSelectedFlight.CabinDetails&&this.flightOrder.GoSelectedFlight.CabinDetails.LimitCredentialTypes?this.flightOrder.GoSelectedFlight.CabinDetails.LimitCredentialTypes:e,s=this.flightOrder.BackSelectedFlight&&this.flightOrder.BackSelectedFlight.CabinDetails&&this.flightOrder.BackSelectedFlight.CabinDetails.LimitCredentialTypes?this.flightOrder.BackSelectedFlight.CabinDetails.LimitCredentialTypes:e;0===t.length&&(t=e),0===s.length&&(s=e),this.currentLimitCredentialTypes=[].concat(c()(new o.a([].concat(c()(new o.a(t))).filter(function(e){return new o.a(s).has(e)}))))},_getFlightCabinRuleOrigin:function(e){this.showExplain=!0,this.returnExplainDetails={vhtml:e}},_getFlightCabinRule:function(e,t){var s=this,i={DepartCode:e.DepartCityCode,ArrivalCode:e.ArrivalCityCode,FlightNo:e.FlightNo,CabinID:t.CabinID,DepartDate:e.DepartDateTime,IsChangeOrder:this.IsChangeOrder};Object(j.p)(i).then(function(e){s.showExplain=!0,s.returnExplainDetails=e.ResultData})},_delegateWithConfirm:function(e){var t=JSON.parse(p()(this.flightOrder));t.Passengers=e,this.SET_FLIGHT_ORDER(t)},_setPassengerOpenDelete:function(e,t){var s=JSON.parse(p()(this.flightOrder));s.Passengers[t].openDelete=e,this.SET_FLIGHT_ORDER(s)},_gotoPassengerDetails:function(e){this.flightOrder.Passengers[e].openDelete?this._setPassengerOpenDelete(!1,e):(this.editingPassenger=JSON.parse(p()(this.flightOrder.Passengers[e])),this.$set(this.editingPassenger,"index",e),this.$refs.PassengerDetails.open())},_deletePassenger:function(e){var t=JSON.parse(p()(this.flightOrder));t.Passengers.splice(e,1),this.SET_FLIGHT_ORDER(t)},_delegateWithPassengerDetails:function(e){var t=JSON.parse(p()(this.flightOrder));t.Passengers.splice(e.index,1,e),this.SET_FLIGHT_ORDER(t)},_selectChangePassenger:function(e){var t=JSON.parse(p()(this.flightOrder));t.Passengers[e].select=!t.Passengers[e].select,this.SET_FLIGHT_ORDER(t)},_gotoChangePassengerDetails:function(e){this.editingChangePassenger=JSON.parse(p()(this.flightOrder.Passengers[e])),this.$set(this.editingChangePassenger,"index",e),this.$set(this.editingChangePassenger,"TravelType",this.flightOrder.TravelType),this.$refs.CChangePassengerDetails.open()},_setContactsOpenDelete:function(e,t){var s=JSON.parse(p()(this.flightOrder));s.Contacts[t].openDelete=e,this.SET_FLIGHT_ORDER(s)},_gotoContactsDetails:function(e){this.flightOrder.Contacts[e].openDelete?this._setContactsOpenDelete(!1,e):(this.contactDetails=g()(JSON.parse(p()(this.flightOrder.Contacts[e])),{index:e}),this.showCContacts=!0)},_deleteContact:function(e){var t=JSON.parse(p()(this.flightOrder));t.Contacts.splice(e,1),this.SET_FLIGHT_ORDER(t)},_delegateWithFrequentContacts:function(e){var t=JSON.parse(p()(this.flightOrder));t.Contacts=e,this.SET_FLIGHT_ORDER(t)},_selectInsurance:function(e,t){if((1===e.InsuranceType&&this.flightOrderInit.IsFreeInsurance||2===e.InsuranceType&&this.flightOrderInit.IsBindAccidentInsurance)&&1===e.Order);else{var s=JSON.parse(p()(this.flightOrderInit));s.InsuranceProducts[t].select=!s.InsuranceProducts[t].select,this.SET_FLIGHT_ORDER_INIT(s)}},_delegateWithCustomItem:function(e){var t=JSON.parse(p()(this.flightOrder));t.CustomItem=e,this.SET_FLIGHT_ORDER(t)},_delegateWithContacts:function(e){var t=JSON.parse(p()(this.flightOrder));t.Contacts.splice(e.index,1,g()(e,{openDelete:!1})),this.SET_FLIGHT_ORDER(t)},_switchDetailsDialog:function(){var e=this;this.showDetailsDialog?this.$refs.detailsDialog.showDetails=!1:(this.showDetailsDialog=!0,setTimeout(function(){var t=e.$refs.detailsDialog.$children[0].scroll;t.wrapperHeight<t.scrollerHeight?e.$refs["show-more"].style.opacity=1:e.$refs["show-more"].style.opacity=0},400))},_creatApproversPicker:function(e){var t=[];e&&e.forEach(function(e){t.push({text:e.Name,value:e.ID})}),this.picker=this.$createPicker({title:this.$t("base.SelectApprover"),data:[t],cancelTxt:this.$t("base.Cancel"),confirmTxt:this.$t("base.Confirm"),onSelect:this._selectApproversPickerHandle})},_selectApproversPickerHandle:function(e,t,s){var i=JSON.parse(p()(this.flightOrder));i.AppointVettingPersonID=e[0],i.AppointVettingPersonName=s[0],this.SET_FLIGHT_ORDER(i)},_creatPayTypePicker:function(e){var t=[];1===Number(this.flightOrder.TravelType)?t=[X]:e&&e.forEach(function(e){1===e?t.push(z):2===e?t.push(X):3===e&&t.push(Y)});var s=JSON.parse(p()(this.flightOrder));s.PayType=t[0]?t[0].value:null,this.SET_FLIGHT_ORDER(s),this.payTypePicker=this.$createPicker({title:this.$t("base.PaymentWay"),data:[t],cancelTxt:this.$t("base.Cancel"),confirmTxt:this.$t("base.Confirm"),onSelect:this._payTypePickerSelectHandle})},_payTypePickerSelectHandle:function(e,t,s){var i=JSON.parse(p()(this.flightOrder));i.PayType=e[0],this.SET_FLIGHT_ORDER(i)},_gotoDetails:function(){var e=this;if(this.noValue(p()(this.flightOrderInit)))return this.$toast(this.$t("TM.TheSysteIsBusyPleaseReOperate")),void this.$router.replace("/home");if(0!==this.flightOrder.Passengers.length)if(this.flightOrderInit.IsRequiredCustomItem&&this.noValue(p()(this.flightOrder.CustomItem)))this.$toast(this.$t("TM.PleaseSelect","function",this.flightOrderInit.CustomItemName));else if(0!==this.flightOrder.Contacts.length)if(this.flightOrderInit.IsRequiredPurpose&&this.noValue(this.flightOrder.Purpose))this.$toast(this.$t("TM.PleaseFill","function",this.$t("base.TravelPurpose")));else if(3===this.flightOrderInit.VettingType&&this.flightOrderInit.EnableVetting&&this.noValue(this.flightOrder.AppointVettingPersonName))this.$toast(this.$t("TM.PleaseSelect","function",this.$t("base.Approver")));else if(this.flightOrderInit.IsRequiredAuthorizationCode&&this.noValue(this.flightOrder.AuthorizationCode))this.$toast(this.$t("TM.PleaseFill","function",this.$t("base.AuthorizationCode")));else if(this.isRepeat(this.flightOrder.Passengers.map(function(e){return e.Credential.CredentialNo})))this.$toast(this.$t("TM.ThePersonsIDNumberCannotBeRepeated"));else if(this.noValue(this.flightOrder.PayType))this.$toast(this.$t("TM.PleaseSelect","function",this.$t("base.PaymentWay")));else{var t=!0,s=!1,i=void 0;try{for(var r,n=a()(this.flightOrder.Passengers);!(t=(r=n.next()).done);t=!0){var o=r.value;if(1===o.Credential.CredentialType&&this.getAge(this.beTime(this.calBirthDate(o.Credential.CredentialNo)))<12)return void this.$toast(this.$t("TM.XIsUnderXyearsOld","function",o.Name));if(this.currentLimitCredentialTypes.indexOf(o.Credential.CredentialType)<0)return void(0===this.currentLimitCredentialTypes.length?this.$toast(this.$t("TM.TheFlightCombinationYouSelectedCannotBeReserved")):this.$toast(this.$t("TM.TheTypeOfDocumentSelectedByXDoesNotMeetTheRequirements","function",{name:o.Name,thing:this._getLimitCredentialTypes(this.currentLimitCredentialTypes)})))}}catch(e){s=!0,i=e}finally{try{!t&&n.return&&n.return()}finally{if(s)throw i}}var h=!0,c=!1,d=void 0;try{for(var g,u=a()(this.flightOrder.Contacts);!(h=(g=u.next()).done);h=!0){var f=g.value;if(this.noValue(f.Mobile))return void this.$toast(this.$t("TM.PleaseFillX","function",{name:f.Name,thing:this.$t("base.CellphoneNumber")}));if(this.noValue(f.Email)&&(f.IsSendBookEmail||f.IsSendIssuedEmail||f.IsSendConfirmEmail))return void this.$toast(this.$t("TM.PleaseFillX","function",{name:f.Name,thing:this.$t("base.Email")}))}}catch(e){c=!0,d=e}finally{try{!h&&u.return&&u.return()}finally{if(c)throw d}}var _=new l.a;if(this.flightOrder.Contacts.filter(function(e){return!_.has(e.Mobile)&&_.set(e.Mobile,1)}).length<this.flightOrder.Contacts.length)this.$toast(this.$t("TM.ThereMustBeNoContactWithTheSamePhoneNumber"));else{var v=JSON.parse(p()(this.flightOrder));v.Passengers.forEach(function(t,s){v.Passengers[s].Insurances=[],e.flightOrderInit.InsuranceProducts.forEach(function(t,i){!0===e.flightOrderInit.InsuranceProducts[i].select&&v.Passengers[s].Insurances.push({ID:t.ID,SalePrice:t.SalePrice,InsuranceType:t.InsuranceType,InsuranceCategory:t.ClientShowName,Count:1,Order:t.Order})}),v.Passengers[s].Name=0===t.DefaultNameType?t.ChName:t.LastName+" "+t.FirstName}),this.SET_FLIGHT_ORDER(v),0===Number(v.TravelType)?this._checkReason():this._checkOrderRepeat()}}else this.$toast(this.$t("TM.PleaseSelect","function",this.$t("base.Contacts")));else this.$toast(this.$t("TM.PleaseSelect","function",this.$t("base.Passenger")))},_checkReason:function(){var e=this,t={DepartCode:this.flightOrder.DepartCode,ArrivalCode:this.flightOrder.ArrivalCode,GoSelectedFlight:{FlightNo:this.flightOrder.GoSelectedFlight.FlightNo,CabinID:this.flightOrder.GoSelectedFlight.CabinID,DepartDate:this.beTimeNumber(this.flightOrder.GoSelectedFlight.DepartDate)},BackSelectedFlight:this.noValue(this.flightOrder.BackSelectedFlight.FlightNo)?null:{FlightNo:this.flightOrder.BackSelectedFlight.FlightNo,CabinID:this.flightOrder.BackSelectedFlight.CabinID,DepartDate:this.beTimeNumber(this.flightOrder.BackSelectedFlight.DepartDate)},CheckPassengers:this.flightOrder.Passengers,CustomItem:this.noValue(p()(this.flightOrder.CustomItem))?null:this.flightOrder.CustomItem,AppointVettingPersonID:this.noValue(this.flightOrder.AppointVettingPersonID)?null:this.flightOrder.AppointVettingPersonID,AppointVettingPersonName:this.noValue(this.flightOrder.AppointVettingPersonName)?null:this.flightOrder.AppointVettingPersonName,PayType:this.flightOrder.PayType,IsChangeOrder:this.IsChangeOrder};Object(j.g)(t).then(function(t){if(t.ResultData.IsViolate){var s="",i="";t.ResultData&&t.ResultData.GoPassengers&&(t.ResultData&&t.ResultData.GoPassengers&&t.ResultData.GoPassengers.forEach(function(e,t){2===e.ViolateRankResult&&(i+=e.Name+"、")}),e.noValue(i)||(i=i.substring(0,i.length-1),s+=e.$t("TM.XIsNotAllowedToBookXflights","function",{name:i,number:e.flightOrder.GoSelectedFlight.FlightNo})));var a="";t.ResultData&&t.ResultData.BackPassengers&&(t.ResultData&&t.ResultData.BackPassengers&&t.ResultData.BackPassengers.forEach(function(e,t){2===e.ViolateRankResult&&(a+=e.Name+"、")}),e.noValue(a)||(a=a.substring(0,a.length-1),s+=e.$t("TM.XIsNotAllowedToBookXflights","function",{name:a,number:e.flightOrder.BackSelectedFlight.FlightNo}))),e.noValue(s)?(e.violationRankDetails=t.ResultData,e.showViolationRank=!0):e.$toast(s)}else e._checkOrderRepeat()})},_checkOrderRepeat:function(){var e=this;if(this.IsChangeOrder)this._saveOrder();else{var t={DepartCode:this.flightOrder.DepartCode,ArrivalCode:this.flightOrder.ArrivalCode,GoSelectedFlight:{FlightNo:this.flightOrder.GoSelectedFlight.FlightNo,CabinID:this.flightOrder.GoSelectedFlight.CabinID,DepartDate:this.beTimeNumber(this.flightOrder.GoSelectedFlight.DepartDate)},BackSelectedFlight:this.noValue(this.flightOrder.BackSelectedFlight.FlightNo)?null:{FlightNo:this.flightOrder.BackSelectedFlight.FlightNo,CabinID:this.flightOrder.BackSelectedFlight.CabinID,DepartDate:this.beTimeNumber(this.flightOrder.BackSelectedFlight.DepartDate)},Passengers:this.flightOrder.Passengers};Object(j.f)(t).then(function(t){if(t.ResultData.IsRepeat){var s="\n            "+(t.ResultData.GoTravelers?t.ResultData.GoTravelers+"("+e.$t("base.Going")+")":"")+"\n            "+(t.ResultData.GoTravelers&&t.ResultData.BackTravelers?"|":"")+"\n            "+(t.ResultData.BackTravelers?t.ResultData.BackTravelers+"("+e.$t("base.Return")+")":"")+"\n            "+e.$t("TM.ThereAreOtherFlightsAtTheSameTime")+"\n          ";e.$alert({content:s,confirmTxt:e.$t("base.Continue"),cancelTxt:e.$t("base.Cancel"),confirmFn:function(){e._saveOrder()}})}else e._saveOrder()})}},_saveOrder:function(){var e=this,t=JSON.parse(p()(this.flightOrder));t.TotalPrice=this.initSum*this.flightOrder.Passengers.length,this.SET_FLIGHT_ORDER(t);var s=JSON.parse(p()(this.flightOrder));s.GoSelectedFlight.DepartDate=this.beTimeNumber(this.flightOrder.GoSelectedFlight.DepartDate),s.GoLowestPriceFlights&&s.GoLowestPriceFlights.forEach(function(t,i){s.GoLowestPriceFlights[i].DepartDate=e.beTimeNumber(e.flightOrder.GoLowestPriceFlights[i].DepartDate)}),this.noValue(s.BackSelectedFlight.FlightNo)?(s.BackSelectedFlight=null,s.BackLowestPriceFlights=null):(s.BackSelectedFlight.DepartDate=this.beTimeNumber(this.flightOrder.BackSelectedFlight.DepartDate),s.BackLowestPriceFlights&&s.BackLowestPriceFlights.forEach(function(t,i){s.BackLowestPriceFlights[i].DepartDate=e.beTimeNumber(e.flightOrder.BackLowestPriceFlights[i].DepartDate)})),Object(j.y)(s).then(function(t){if(t.ResultData&&!e.noValue(t.ResultData.TravelID)){var s=JSON.parse(p()(e.flightOrder));s.TravelID=t.ResultData.TravelID,s.VettingProcessList=t.ResultData.VettingProcessList,s.PageBtnInfo=t.ResultData.PageBtnInfo,e.SET_FLIGHT_ORDER(s),e.noValue(e.flightOrder.OriginPnrID)?e.$router.push("/planeTicket/orderConfirm"):(e.$toast(e.$t("TM.SuccessfullySaved")),e.$router.replace({name:"planeTicketOrderList",params:{TravelType:Number(e.flightOrder.TravelType)}}))}else e.$alert({content:e.$t("TM.SaveOrderError"),confirmTxt:e.$t("TM.GoToQuery"),confirmFn:function(){e.$router.replace({path:"/planeTicket/query",query:{TravelType:Number(e.flightOrder.TravelType)}})}})}).catch(function(){e.$alert({content:e.$t("TM.SaveOrderError"),confirmTxt:e.$t("TM.GoToQuery"),confirmFn:function(){e.$router.replace({path:"/planeTicket/query",query:{TravelType:Number(e.flightOrder.TravelType)}})}})})},_getRules:function(e){var t=this,s="/static/html/battery.html";1===e?s="/static/html/book.html":2===e&&(s="/static/html/transport_1.html"),C.a.get(s).then(function(e){t.rulesHtml=e.data,t.$nextTick(function(){t.showRulesDialog=!0})})},_clearGoAndBackFlight:function(){var e=JSON.parse(p()(this.flightOrder));e.GoSelectedFlight.FlightNo="",e.GoSelectedFlight.CabinID="",e.GoSelectedFlight.FlightDetails={},e.GoSelectedFlight.CabinDetails={},e.BackSelectedFlight.FlightNo="",e.BackSelectedFlight.CabinID="",e.BackSelectedFlight.FlightDetails={},e.BackSelectedFlight.CabinDetails={},e.GoLowestPriceFlights=[],e.BackLowestPriceFlights=[],this.SET_FLIGHT_ORDER(e)},_scrollStart:function(){this.$refs["show-more"].style.opacity=0},_getLimitCredentialTypes:function(e){var t=this;return e.map(function(e){switch(e){case 1:return t.$t("base.IDTypeNames.IDCard");case 2:return t.$t("base.IDTypeNames.Passport");case 3:return t.$t("base.IDTypeNames.StudentCard");case 4:return t.$t("base.IDTypeNames.MilitaryID");case 5:return t.$t("base.IDTypeNames.HomeReturnPermit");case 6:return t.$t("base.IDTypeNames.ForeignersPermanentResidencePermit");case 7:return t.$t("base.IDTypeNames.EntryExitPassForHongKongAndMacau");case 8:return t.$t("base.IDTypeNames.EntryExitPassForTaiwan");case 9:return t.$t("base.IDTypeNames.InternationalSeafarersCard");case 10:return t.$t("base.IDTypeNames.TaiwanCompatriotPermit");case 11:return t.$t("base.IDTypeNames.Others");case 12:return t.$t("base.IDTypeNames.HongKongMacaoAndTaiwanResidentsResidencePermit")}}).join("、")}}),components:{CChangePassengerDetails:w,CContacts:R.a,CCustomItem:B.a,CFrequentContacts:E.a,CHeader:m.a,CPassenger:G.a,CReturnExplain:x.a,HsButton:L.a,HsCell1:b.a,HsCellSmallTitle:S.a,HsDialog:A.a,HsGradientButton:M.a,HsNet:V.a,HsScroll:k.a,HsSection:F.a,PassengerDetails:H.a,ViolationRank:J}},Z={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hs-container"},[s("c-header",{attrs:{isBackNav:"",title:e.$t("base.AirTicketsBooking")+"-"+(0===Number(e.flightOrder.TravelType)?e.$t("base.Business"):e.$t("base.Personal"))}}),e._v(" "),e.noValue(JSON.stringify(e.flightOrderInit))?s("hs-net",{on:{delegate:e._getData}}):[s("hs-scroll",{staticClass:"table-view"},[s("ul",[e.noValue(e.flightOrder.OriginPnrID)?e._e():s("hs-section",{attrs:{title:"slot"}},[s("div",{staticClass:"section-title",attrs:{slot:"title"},on:{click:function(t){e.extendSegments=!e.extendSegments}},slot:"title"},[s("p",[e._v(e._s(e.noValue(e.flightOrder.OriginPnrID)?"":e.$t("base.OriginalSchedule")))]),e._v(" "),s("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/plane-ticket/book/arrow_white.png')"},style:{transform:"rotate("+(e.extendSegments?90:-90)+"deg)"}})]),e._v(" "),e._l(e.flightOrderInit.Segments,function(t,i){return!e.noValue(e.flightOrderInit.Segments)&&e.extendSegments?s("div",{key:i},[s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"travel-details"},[s("div",{staticClass:"plane"},[s("div",{staticClass:"logo",style:{"background-image":"url("+t.AirLineLogoUrl+")"}}),e._v(" "),s("div",{staticClass:"details"},[s("p",[e._v("\n                      "+e._s(t.AirLineName)+"\n                      "),t.IsCodeShare?s("span",[e._v(e._s(e.$t("base.CodeShare")))]):e._e(),e._v("\n                      "+e._s(t.FlightNo)+"\n                      "),t.Plane?[e._v("| "+e._s(t.Plane))]:e._e(),e._v("\n                      | "+e._s(t.HasMeal?e.$t("base.Meals"):e.$t("base.NoMeal"))+"\n                      "),t.Cabin?[e._v("| "+e._s(t.Cabin))]:e._e()],2),e._v(" "),t.IsCodeShare?s("p",[e._v(e._s(e.$t("base.OperatedBy"))+" "+e._s(t.ActualCarryAirLineName)+" "+e._s(t.ActualCarryFlightNo))]):e._e()])]),e._v(" "),s("div",{staticClass:"travel"},[s("div",{staticClass:"source"},[s("p",[e._v(e._s(e.$t(e.beTime(t.DepartDate),"date",["MM-dd","MM dd"]))+" "+e._s(e.getWeeks(e.beTime(t.DepartDate))))]),e._v(" "),s("p",[e._v(e._s(e.beTime(t.DepartDate,"hh:mm")))]),e._v(" "),s("p",[e._v(e._s(t.DepartAirportName)+" "+e._s(t.DepartTerminal))])]),e._v(" "),s("div",{staticClass:"middle"},[t.StopOver?s("div",{staticClass:"stopOver-logo"},[s("p",[e._v(e._s(e.$t("base.By")))])]):s("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/home/trip_plane.png')"}}),e._v(" "),s("div",{staticClass:"dashed"}),e._v(" "),t.StopOver?s("p",{staticClass:"stopOver"},[e._v(e._s(t.StopOver.StopCity))]):e._e()]),e._v(" "),s("div",{staticClass:"destination"},[s("p",[e._v(e._s(e.$t(e.beTime(t.ArrivalDate),"date",["MM-dd","MM dd"]))+" "+e._s(e.getWeeks(e.beTime(t.ArrivalDate))))]),e._v(" "),s("p",[e._v("\n                      "+e._s(e.beTime(t.ArrivalDate,"hh:mm"))+"\n                      ")]),e._v(" "),s("p",[e._v(e._s(t.ArrivalAirportName)+" "+e._s(t.ArrivalTerminal))])])])])]),e._v(" "),s("hs-cell-1",{attrs:{showLogo:!1},nativeOn:{click:function(s){e._getFlightCabinRuleOrigin(t.Rule)}}},[s("div",{staticClass:"cost-details",attrs:{type:e.language}},[s("div",{staticClass:"details"},[s("div",[s("span",[e._v(e._s(e.$t("base.AirTickets")))]),s("span",[e._v("￥"+e._s(t.SalePrice?t.SalePrice:0))])]),e._v(" "),s("div",[s("span",[e._v(e._s(e.$t("base.PlaneConstruction"))+" / "+e._s(e.$t("base.Fuel")))]),e._v(" "),s("span",[e._v("\n                      ￥"+e._s((t.FuelOilTax?t.FuelOilTax:0)+(t.AirportTax?t.AirportTax:0))+"\n                    ")])]),e._v(" "),t.Rebate>0?s("div",[s("span",[e._v(e._s(e.$t("base.FrontReturn")))]),e._v(" "),s("span",[e._v("-￥"+e._s(t.Rebate))])]):e._e()]),e._v(" "),s("p",[e._v(e._s(e.$t("base.TicketRestrictions"))+" >")])])])],1):e._e()})],2),e._v(" "),e.noValue(e.flightOrder.GoSelectedFlight.FlightNo)?e._e():s("hs-section",{attrs:{title:this.noValue(this.flightOrder.OriginPnrID)?"":e.$t("base.Rescheduling")}},[s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"travel-details"},[s("div",{staticClass:"plane"},[s("div",{staticClass:"logo",style:{"background-image":"url("+e.flightOrder.GoSelectedFlight.FlightDetails.AirLineLogoUrl+")"}}),e._v(" "),s("div",{staticClass:"details"},[s("p",[e._v("\n                    "+e._s(e.flightOrder.GoSelectedFlight.FlightDetails.AirLineName)+"\n                    "),e.flightOrder.GoSelectedFlight.FlightDetails.IsCodeShare?s("span",[e._v(e._s(e.$t("base.CodeShare")))]):e._e(),e._v("\n                    "+e._s(e.flightOrder.GoSelectedFlight.FlightDetails.FlightNo)+"\n                    "),e.flightOrder.GoSelectedFlight.FlightDetails.PlaneName?[e._v("| "+e._s(e.flightOrder.GoSelectedFlight.FlightDetails.PlaneName))]:e._e(),e._v("\n                    | "+e._s(e.flightOrder.GoSelectedFlight.FlightDetails.HasMeal?e.$t("base.Meals"):e.$t("base.NoMeal"))+"\n                    "),e.flightOrder.GoSelectedFlight.CabinDetails.CabinName?[e._v("| "+e._s(e.flightOrder.GoSelectedFlight.CabinDetails.CabinName))]:e._e()],2),e._v(" "),e.flightOrder.GoSelectedFlight.FlightDetails.IsCodeShare?s("p",[e._v("\n                    "+e._s(e.$t("base.OperatedBy"))+"\n                    "+e._s(e.flightOrder.GoSelectedFlight.FlightDetails.ActualCarryAirLineName)+"\n                    "+e._s(e.flightOrder.GoSelectedFlight.FlightDetails.ActualCarryFlightNo)+"\n                  ")]):e._e()])]),e._v(" "),s("div",{staticClass:"travel"},[s("div",{staticClass:"source"},[s("p",[e._v(e._s(e.$t(e.beTime(new Date(e.flightOrder.GoSelectedFlight.DepartDate)),"date",["MM-dd","MM dd"]))+" "+e._s(e.getWeeks(e.flightOrder.GoSelectedFlight.DepartDate)))]),e._v(" "),s("p",[e._v(e._s(e.beTime(e.flightOrder.GoSelectedFlight.FlightDetails.DepartDateTime,"hh:mm")))]),e._v(" "),s("p",[e._v(e._s(e.flightOrder.GoSelectedFlight.FlightDetails.DepartAirportName)+" "+e._s(e.flightOrder.GoSelectedFlight.FlightDetails.DepartTerminal))])]),e._v(" "),s("div",{staticClass:"middle"},[e.flightOrder.GoSelectedFlight.FlightDetails.StopOver?s("div",{staticClass:"stopOver-logo"},[s("p",[e._v(e._s(e.$t("base.By")))])]):s("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/home/trip_plane.png')"}}),e._v(" "),s("div",{staticClass:"dashed"}),e._v(" "),e.flightOrder.GoSelectedFlight.FlightDetails.StopOver?s("p",{staticClass:"stopOver"},[e._v(e._s(e.flightOrder.GoSelectedFlight.FlightDetails.StopOver.StopCity))]):e._e()]),e._v(" "),s("div",{staticClass:"destination"},[s("p",[e._v(e._s(e.$t(e.beTime(e.flightOrder.GoSelectedFlight.FlightDetails.ArrivalDateTime),"date",["MM-dd","MM dd"]))+" "+e._s(e.getWeeks(e._departDateAddDays(e.flightOrder.GoSelectedFlight.DepartDate,e.flightOrder.GoSelectedFlight.FlightDetails.AddDays))))]),e._v(" "),s("p",[e._v("\n                    "+e._s(e.beTime(e.flightOrder.GoSelectedFlight.FlightDetails.ArrivalDateTime,"hh:mm"))+"\n                    ")]),e._v(" "),s("p",[e._v(e._s(e.flightOrder.GoSelectedFlight.FlightDetails.ArrivalAirportName)+" "+e._s(e.flightOrder.GoSelectedFlight.FlightDetails.ArrivalTerminal))])])])])]),e._v(" "),s("hs-cell-1",{attrs:{showLogo:!1},nativeOn:{click:function(t){e._getFlightCabinRule(e.flightOrder.GoSelectedFlight.FlightDetails,e.flightOrder.GoSelectedFlight.CabinDetails)}}},[s("div",{staticClass:"cost-details",attrs:{type:e.language}},[s("div",{staticClass:"details"},[s("div",[s("span",[e._v(e._s(e.$t("base.AirTickets")))]),s("span",[e._v("￥"+e._s(e.flightOrderInit.GoChargeInfo&&e.flightOrderInit.GoChargeInfo.SalePrice?e.flightOrderInit.GoChargeInfo.SalePrice:0))])]),e._v(" "),s("div",[s("span",[e._v(e._s(e.$t("base.PlaneConstruction"))+" / "+e._s(e.$t("base.Fuel")))]),e._v(" "),s("span",[e._v("\n                    ￥"+e._s((e.flightOrderInit.GoChargeInfo&&e.flightOrderInit.GoChargeInfo.FuelOilTax?e.flightOrderInit.GoChargeInfo.FuelOilTax:0)+(e.flightOrderInit.GoChargeInfo&&e.flightOrderInit.GoChargeInfo.AirportTax?e.flightOrderInit.GoChargeInfo.AirportTax:0))+"\n                  ")])]),e._v(" "),e.flightOrderInit.GoChargeInfo&&e.flightOrderInit.GoChargeInfo.Rebate>0?s("div",[s("span",[e._v(e._s(e.$t("base.FrontReturn")))]),e._v(" "),s("span",[e._v("-￥"+e._s(e.flightOrderInit.GoChargeInfo.Rebate))])]):e._e()]),e._v(" "),s("p",[e._v(e._s(e.$t("base.TicketRestrictions"))+" >")])])])],1),e._v(" "),e.noValue(e.flightOrder.BackSelectedFlight.FlightNo)?e._e():s("hs-section",[s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"travel-details"},[s("div",{staticClass:"plane"},[s("div",{staticClass:"logo",style:{"background-image":"url("+e.flightOrder.BackSelectedFlight.FlightDetails.AirLineLogoUrl+")"}}),e._v(" "),s("div",{staticClass:"details"},[s("p",[e._v("\n                    "+e._s(e.flightOrder.BackSelectedFlight.FlightDetails.AirLineName)+"\n                    "),e.flightOrder.BackSelectedFlight.FlightDetails.IsCodeShare?s("span",[e._v(e._s(e.$t("base.CodeShare")))]):e._e(),e._v("\n                    "+e._s(e.flightOrder.BackSelectedFlight.FlightDetails.FlightNo)+"\n                    "),e.flightOrder.BackSelectedFlight.FlightDetails.PlaneName?[e._v("| "+e._s(e.flightOrder.BackSelectedFlight.FlightDetails.PlaneName))]:e._e(),e._v("\n                    | "+e._s(e.flightOrder.BackSelectedFlight.FlightDetails.HasMeal?e.$t("base.Meals"):e.$t("base.NoMeal"))+"\n                    "),e.flightOrder.BackSelectedFlight.CabinDetails.CabinName?[e._v("| "+e._s(e.flightOrder.BackSelectedFlight.CabinDetails.CabinName))]:e._e()],2),e._v(" "),e.flightOrder.BackSelectedFlight.FlightDetails.IsCodeShare?s("p",[e._v("\n                    "+e._s(e.$t("base.OperatedBy"))+"\n                    "+e._s(e.flightOrder.BackSelectedFlight.FlightDetails.ActualCarryAirLineName)+"\n                    "+e._s(e.flightOrder.BackSelectedFlight.FlightDetails.ActualCarryFlightNo)+"\n                  ")]):e._e()])]),e._v(" "),s("div",{staticClass:"travel"},[s("div",{staticClass:"source"},[s("p",[e._v(e._s(e.beTime(new Date(e.flightOrder.BackSelectedFlight.DepartDate),"MM-dd"))+" "+e._s(e.getWeeks(e.flightOrder.BackSelectedFlight.DepartDate)))]),e._v(" "),s("p",[e._v(e._s(e.beTime(e.flightOrder.BackSelectedFlight.FlightDetails.DepartDateTime,"hh:mm")))]),e._v(" "),s("p",[e._v(e._s(e.flightOrder.BackSelectedFlight.FlightDetails.DepartAirportName)+" "+e._s(e.flightOrder.BackSelectedFlight.FlightDetails.DepartTerminal))])]),e._v(" "),s("div",{staticClass:"middle"},[e.flightOrder.BackSelectedFlight.FlightDetails.StopOver?s("div",{staticClass:"stopOver-logo"},[s("p",[e._v(e._s(e.$t("base.By")))])]):s("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/home/trip_plane.png')"}}),e._v(" "),s("div",{staticClass:"dashed"}),e._v(" "),e.flightOrder.BackSelectedFlight.FlightDetails.StopOver?s("p",{staticClass:"stopOver"},[e._v(e._s(e.flightOrder.BackSelectedFlight.FlightDetails.StopOver.StopCity))]):e._e()]),e._v(" "),s("div",{staticClass:"destination"},[s("p",[e._v(e._s(e.beTime(new Date(e._departDateAddDays(e.flightOrder.BackSelectedFlight.DepartDate,e.flightOrder.BackSelectedFlight.FlightDetails.AddDays)),"MM-dd"))+" "+e._s(e.getWeeks(e._departDateAddDays(e.flightOrder.BackSelectedFlight.DepartDate,e.flightOrder.BackSelectedFlight.FlightDetails.AddDays))))]),e._v(" "),s("p",[e._v("\n                    "+e._s(e.beTime(e.flightOrder.BackSelectedFlight.FlightDetails.ArrivalDateTime,"hh:mm"))+"\n                    ")]),e._v(" "),s("p",[e._v(e._s(e.flightOrder.BackSelectedFlight.FlightDetails.ArrivalAirportName)+" "+e._s(e.flightOrder.BackSelectedFlight.FlightDetails.ArrivalTerminal))])])])])]),e._v(" "),s("hs-cell-1",{attrs:{showLogo:!1},nativeOn:{click:function(t){e._getFlightCabinRule(e.flightOrder.BackSelectedFlight.FlightDetails,e.flightOrder.BackSelectedFlight.CabinDetails)}}},[s("div",{staticClass:"cost-details",attrs:{type:"language"}},[s("div",{staticClass:"details"},[s("div",[s("span",[e._v(e._s(e.$t("base.AirTickets")))]),s("span",[e._v("￥"+e._s(e.flightOrderInit.BackChargeInfo&&e.flightOrderInit.BackChargeInfo.SalePrice?e.flightOrderInit.BackChargeInfo.SalePrice:0))])]),e._v(" "),s("div",[s("span",[e._v(e._s(e.$t("base.PlaneConstruction"))+" / "+e._s(e.$t("base.Fuel")))]),e._v(" "),s("span",[e._v("\n                    ￥"+e._s((e.flightOrderInit.BackChargeInfo&&e.flightOrderInit.BackChargeInfo.FuelOilTax?e.flightOrderInit.BackChargeInfo.FuelOilTax:0)+(e.flightOrderInit.BackChargeInfo&&e.flightOrderInit.BackChargeInfo.AirportTax?e.flightOrderInit.BackChargeInfo.AirportTax:0))+"\n                  ")])]),e._v(" "),e.flightOrderInit.BackChargeInfo&&e.flightOrderInit.BackChargeInfo.Rebate>0?s("div",[s("span",[e._v(e._s(e.$t("base.FrontReturn")))]),e._v(" "),s("span",[e._v("-￥"+e._s(e.flightOrderInit.BackChargeInfo.Rebate))])]):e._e()]),e._v(" "),s("p",[e._v(e._s(e.$t("base.TicketRestrictions"))+" >")])])])],1),e._v(" "),s("hs-section",[this.noValue(this.flightOrder.OriginPnrID)?[s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"passenger-title",attrs:{type:e.language}},[s("div",[s("p",[e._v(e._s(e.$t("base.PassengerInformation")))]),e._v(" "),s("span",[e._v(e._s(e.$t("base.OnlyAdultTicketBookingsAreSupported")))])]),e._v(" "),s("button",{on:{click:function(t){e.$refs.CPassenger.open()}}},[e._v(e._s(e.$t("base.Add"))+" +")])])]),e._v(" "),e._l(e.flightOrder.Passengers,function(t,i){return s("hs-cell-1",{key:"passengers"+i},[s("div",{staticClass:"passenger-infor",style:{transform:"translateX("+(e.flightOrder.Passengers[i].openDelete?"-65px":"0px")+")"}},[s("div",{staticClass:"left",on:{click:function(t){e._setPassengerOpenDelete(!0,i)}}},[s("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/plane-ticket/book/delete.png')"}})]),e._v(" "),s("div",{staticClass:"right",on:{click:function(t){e._gotoPassengerDetails(i)}}},[s("div",{staticClass:"item"},[0===t.DefaultNameType?s("p",{staticClass:"name"},[e._v(e._s(t.ChName))]):s("p",{staticClass:"name"},[e._v(e._s(t.LastName)+" "+e._s(t.FirstName))])]),e._v(" "),t.Credentials&&t.Credentials.filter(function(e){return e.CredentialType===t.DefaultCredentialType})[0]&&t.Credentials.filter(function(e){return e.CredentialType===t.DefaultCredentialType})[0].CredentialNo?s("div",{staticClass:"item"},[s("p",{staticClass:"other-title"},[e._v(e._s(t.Credentials.filter(function(e){return e.CredentialType===t.DefaultCredentialType})[0].CredentialName))]),e._v(" "),s("p",{staticClass:"other-value"},[e._v(e._s(t.Credentials.filter(function(e){return e.CredentialType===t.DefaultCredentialType})[0].CredentialNo))])]):e._e(),e._v(" "),s("div",{staticClass:"item"},[s("p",{staticClass:"other-title"},[e._v(e._s(e.$t("base.CellphoneNumber")))]),e._v(" "),s("p",{staticClass:"other-value"},[e._v(e._s(t.Mobile?t.Mobile:e.$t("base.Unfilled")))])]),e._v(" "),s("div",{staticClass:"delete",on:{click:function(t){t.stopPropagation(),e._deletePassenger(i)}}},[e._v(e._s(e.$t("base.Delete")))])])])])})]:[s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"passenger-title",attrs:{type:e.language}},[s("div",[s("p",[e._v(e._s(e.$t("base.PassengerInformation")))]),e._v(" "),s("span",[e._v(e._s(e.$t("base.OnlyAdultTicketBookingsAreSupported")))])])])]),e._v(" "),e._l(e.flightOrder.Passengers,function(t,i){return s("hs-cell-1",{key:"passengers"+i,nativeOn:{click:function(t){e._gotoChangePassengerDetails(i)}}},[s("div",{staticClass:"change-passenger-infor"},[s("div",{staticClass:"left",on:{click:function(t){t.stopPropagation(),e._selectChangePassenger(i)}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.select,expression:"!item.select"}],staticClass:"logo",staticStyle:{"background-image":"url('static/image/base/filter/checkbox-default.png')"}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.select,expression:"item.select"}],staticClass:"logo",staticStyle:{"background-image":"url('static/image/base/filter/checkbox-selected.png')"}})]),e._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"item"},[s("p",{staticClass:"name"},[e._v(e._s(t.Name))])]),e._v(" "),t.Credential?s("div",{staticClass:"item"},[s("p",{staticClass:"other-title"},[e._v(e._s(t.Credential.CredentialName))]),e._v(" "),s("p",{staticClass:"other-value"},[e._v(e._s(t.Credential.CredentialNo))])]):e._e(),e._v(" "),s("div",{staticClass:"item"},[s("p",{staticClass:"other-title"},[e._v(e._s(e.$t("base.CellphoneNumber")))]),e._v(" "),s("p",{staticClass:"other-value"},[e._v(e._s(t.Mobile?t.Mobile:e.$t("base.Unfilled")))])])])])])})],e._v(" "),e._l(e.flightOrderInit.InsuranceProducts,function(t,i){return 1!==t.InsuranceType||2!==t.Order?s("hs-cell-1",{key:i,attrs:{showLogo:!1},nativeOn:{click:function(s){e._selectInsurance(t,i)}}},[s("div",{staticClass:"insure"},[s("div",{staticClass:"details"},[s("div",{staticClass:"title"},[s("p",[e._v(e._s(t.ClientShowName)),t.Order&&!e.noValue(e.flightOrder.BackSelectedFlight.FlightNo)?[e._v(" | "+e._s(1===t.Order?e.$t("base.Going"):e.$t("base.Return")))]:e._e()],2),e._v(" "),s("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/plane-ticket/book/insure_icon.png')"}}),e._v(" "),s("p",[e._v("￥"+e._s(t.SalePrice)+e._s(e.$t("base.PreQuantifier")))])])]),e._v(" "),(1===t.InsuranceType&&e.flightOrderInit.IsFreeInsurance||2===t.InsuranceType&&e.flightOrderInit.IsBindAccidentInsurance)&&1===t.Order?s("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/base/check-box/check-box-disabled.png')"}}):!1===t.select?s("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/base/check-box/check-box-default.png')"}}):s("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/base/check-box/check-box.png')"}})])]):e._e()}),e._v(" "),s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"insure"},[s("div",{staticClass:"details"},[s("div",{staticClass:"title"},[s("p",[e._v(e._s(e.$t("base.ServiceFee"))+" ￥"+e._s((e.flightOrderInit.GoChargeInfo&&e.flightOrderInit.GoChargeInfo.ServiceCharge?e.flightOrderInit.GoChargeInfo.ServiceCharge:0)+(e.flightOrderInit.BackChargeInfo&&e.flightOrderInit.BackChargeInfo.ServiceCharge?e.flightOrderInit.BackChargeInfo.ServiceCharge:0))+e._s(e.$t("base.PreQuantifier")))])])])])])],2),e._v(" "),s("hs-section",[e.flightOrderInit.IsDisplayCustomItem?s("hs-cell-small-title",{attrs:{title:e.flightOrderInit.CustomItemName,type:"disabled-input",value:e.flightOrder.CustomItem?e.flightOrder.CustomItem.Name:"",placeholder:"("+(e.flightOrderInit.IsRequiredCustomItem?e.$t("base.RequiredChoose"):e.$t("base.NotNecessaryChoose"))+") "+e.$t("base.PleaseChoose")},nativeOn:{click:function(t){e.showCCustomItem=!0}}}):e._e(),e._v(" "),e.flightOrderInit.IsDisplayPurpose?s("hs-cell-small-title",{attrs:{title:e.$t("base.TravelPurpose"),type:"input",placeholder:"("+(e.flightOrderInit.IsRequiredPurpose?e.$t("base.RequiredFill"):e.$t("base.NotNecessaryFill"))+") "+e.$t("base.PleaseFill"),showLogo:!1},model:{value:e.purpose,callback:function(t){e.purpose=t},expression:"purpose"}}):e._e(),e._v(" "),e.flightOrderInit.IsDisplayAuthorizationCode?s("hs-cell-small-title",{attrs:{title:e.$t("base.AuthorizationCode"),type:"input",placeholder:"("+(e.flightOrderInit.IsRequiredAuthorizationCode?e.$t("base.RequiredFill"):e.$t("base.NotNecessaryFill"))+") "+e.$t("base.PleaseFill"),showLogo:!1},model:{value:e.authorizationCode,callback:function(t){e.authorizationCode=t},expression:"authorizationCode"}}):e._e(),e._v(" "),3===e.flightOrderInit.VettingType&&e.flightOrderInit.EnableVetting?s("hs-cell-small-title",{attrs:{title:e.$t("base.Approver"),type:"disabled-input",value:e.flightOrder.AppointVettingPersonName,placeholder:"("+e.$t("base.RequiredChoose")+") "+e.$t("base.PleaseChoose")},nativeOn:{click:function(t){e.picker.show()}}}):e._e(),e._v(" "),0===Number(e.flightOrder.TravelType)?s("hs-cell-small-title",{attrs:{title:e.$t("base.PaymentWay"),type:"disabled-input",value:e._f("filterPayType")(e.flightOrder.PayType)},nativeOn:{click:function(t){e.payTypePicker.show()}}}):e._e()],1),e._v(" "),s("hs-section",[s("hs-cell-1",{attrs:{value:e.$t("base.ContactInformation"),logoName:"add.png"},nativeOn:{click:function(t){e.$refs.CFrequentContacts.open()}}}),e._v(" "),e._l(e.flightOrder.Contacts,function(t,i){return s("hs-cell-1",{key:i},[s("div",{staticClass:"passenger-infor",style:{transform:"translateX("+(e.flightOrder.Contacts[i].openDelete?"-65px":"0px")+")"}},[s("div",{staticClass:"left",on:{click:function(t){e._setContactsOpenDelete(!0,i)}}},[s("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/plane-ticket/book/delete.png')"}})]),e._v(" "),s("div",{staticClass:"right",on:{click:function(t){e._gotoContactsDetails(i)}}},[s("div",{staticClass:"item"},[s("p",{staticClass:"name"},[e._v(e._s(t.Name))])]),e._v(" "),s("div",{staticClass:"item"},[s("p",{staticClass:"other-title"},[e._v(e._s(e.$t("base.CellphoneNumber")))]),e._v(" "),s("p",{staticClass:"other-value"},[e._v(e._s(t.Mobile?t.Mobile:e.$t("base.Unfilled")))])]),e._v(" "),s("div",{staticClass:"item"},[s("p",{staticClass:"other-title"},[e._v(e._s(e.$t("base.Email")))]),e._v(" "),s("p",{staticClass:"other-value"},[e._v(e._s(t.Email?t.Email:e.$t("base.Unfilled")))])]),e._v(" "),s("div",{staticClass:"delete",on:{click:function(t){t.stopPropagation(),e._deleteContact(i)}}},[e._v(e._s(e.$t("base.Delete")))])])])])})],2),e._v(" "),s("div",{staticClass:"rules-view"},[e._v("\n          "+e._s(e.$t("base.TheOrderIncludesAirfare"))+"\n          "),s("span",{on:{click:e._getRules}},[e._v(e._s(e.$t("base.TheCarryingRegulationsFor")))]),e._v(" "),s("span",{on:{click:function(t){e._getRules(1)}}},[e._v(e._s(e.$t("base.AirTicketBookingInstructions")))]),e._v(" "),s("span",{on:{click:function(t){e.showTransportWholeRulesDialog=!0}}},[e._v(e._s(e.$t("base.GeneralConditionsOfTransportation")))]),e._v("。\n          "),s("br"),e._v(" "),0===Number(e.flightOrder.TravelType)?[e._v(e._s(e.$t("base.ChinaSouthernAirlinesNewRegulations")))]:e._e()],2)],1)]),e._v(" "),s("div",{staticClass:"footer",on:{click:e._switchDetailsDialog}},[s("div",{staticClass:"price"},[e.flightOrderInit.GoChangeChargeInfo&&0===e.flightOrderInit.GoChangeChargeInfo.ChangeFee||e.flightOrderInit.BackChangeChargeInfo&&0===e.flightOrderInit.BackChangeChargeInfo.ChangeFee?e._e():s("p",[e._v("￥"+e._s(e.initSum*e.flightOrder.Passengers.length))]),e._v(" "),s("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/base/cell/right_arrow_gray.png')"},style:{transform:e.showDetailsDialog?"rotate(90deg)":"rotate(-90deg)"}})]),e._v(" "),e.noValue(e.flightOrder.OriginPnrID)?s("hs-gradient-button",{attrs:{type:"common",width:"auto",title:e.$t("base.NextStep")},on:{click:e._gotoDetails}}):s("hs-gradient-button",{attrs:{type:"common",width:"auto",title:e.$t("base.Save")},on:{click:e._gotoDetails}})],1)],e._v(" "),s("hs-dialog",{ref:"detailsDialog",attrs:{height:"calc(100% - 50px)"},model:{value:e.showDetailsDialog,callback:function(t){e.showDetailsDialog=t},expression:"showDetailsDialog"}},[s("hs-scroll",{staticClass:"detailsDialog",attrs:{data:[e.flightOrder],isListenScroll:!0},on:{scrollStart:e._scrollStart},nativeOn:{click:function(e){e.stopPropagation()}}},[s("ul",[e.flightOrderInit.GoChargeInfo?s("hs-section",{attrs:{title:""+(e.flightOrderInit.BackChargeInfo?e.$t("base.Going"):"")}},[e.IsChangeOrder?[e.flightOrderInit.GoChangeChargeInfo?s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[e._v(e._s(e.$t("base.ReviseTheDifference")))]),e._v(" "),s("p",[s("span",[e._v("￥"+e._s(e.flightOrderInit.GoChangeChargeInfo.AdultChangeDiffPrice))]),s("span",[e._v("x "+e._s(e.flightOrder.Passengers.length)+e._s(e.$t("base.QuantifierPeople")))])])])]):e._e(),e._v(" "),e.flightOrderInit.GoChangeChargeInfo?s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[e._v(e._s(e.$t("base.ReschedulingFee")))]),e._v(" "),0===e.flightOrderInit.GoChangeChargeInfo.ChangeFee?s("p",[e._v(e._s(e.$t("base.AirlinePassengerMaintenance")))]):s("p",[s("span",[e._v("￥"+e._s(e.flightOrderInit.GoChangeChargeInfo.ChangeFee))]),s("span",[e._v("x "+e._s(e.flightOrder.Passengers.length)+e._s(e.$t("base.QuantifierPeople")))])])])]):e._e()]:[e.flightOrderInit.GoChargeInfo.SalePrice>=0?s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[e._v(e._s(e.$t("base.AirTickets")))]),e._v(" "),s("p",[s("span",[e._v("￥"+e._s(e.flightOrderInit.GoChargeInfo.SalePrice))]),s("span",[e._v("x "+e._s(e.flightOrder.Passengers.length)+e._s(e.$t("base.QuantifierPeople")))])])])]):e._e(),e._v(" "),e.flightOrderInit.GoChargeInfo.FuelOilTax>=0?s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[e._v(e._s(e.$t("base.FuelFee")))]),e._v(" "),s("p",[s("span",[e._v("￥"+e._s(e.flightOrderInit.GoChargeInfo.FuelOilTax))]),s("span",[e._v("x "+e._s(e.flightOrder.Passengers.length)+e._s(e.$t("base.QuantifierPeople")))])])])]):e._e(),e._v(" "),e.flightOrderInit.GoChargeInfo.AirportTax>=0?s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[e._v(e._s(e.$t("base.PlaneConstructionFee")))]),e._v(" "),s("p",[s("span",[e._v("￥"+e._s(e.flightOrderInit.GoChargeInfo.AirportTax))]),s("span",[e._v("x "+e._s(e.flightOrder.Passengers.length)+e._s(e.$t("base.QuantifierPeople")))])])])]):e._e(),e._v(" "),e.flightOrderInit.GoChargeInfo.Rebate>0?s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[e._v(e._s(e.$t("base.FrontReturn")))]),e._v(" "),s("p",[s("span",[e._v("-￥"+e._s(e.flightOrderInit.GoChargeInfo.Rebate))]),s("span",[e._v("x "+e._s(e.flightOrder.Passengers.length)+e._s(e.$t("base.QuantifierPeople")))])])])]):e._e()],e._v(" "),e._l(e.flightOrderInit.InsuranceProducts,function(t,i){return 1===t.Order&&t.select?s("hs-cell-1",{key:i,attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[e._v(e._s(t.ClientShowName)),t.Order&&!e.noValue(e.flightOrder.BackSelectedFlight.FlightNo)?[e._v(" | "+e._s(1===t.Order?e.$t("base.Going"):e.$t("base.Return")))]:e._e()],2),e._v(" "),s("p",[s("span",[e._v("￥"+e._s(t.SalePrice))]),s("span",[e._v("x "+e._s(e.flightOrder.Passengers.length)+e._s(e.$t("base.Copy")))])])])]):e._e()})],2):e._e(),e._v(" "),e.flightOrderInit.BackChargeInfo?s("hs-section",{attrs:{title:e.$t("base.Return")}},[e.IsChangeOrder?[e.flightOrderInit.BackChangeChargeInfo?s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[e._v(e._s(e.$t("base.ReviseTheDifference")))]),e._v(" "),s("p",[s("span",[e._v("￥"+e._s(e.flightOrderInit.BackChangeChargeInfo.AdultChangeDiffPrice))]),s("span",[e._v("x "+e._s(e.flightOrder.Passengers.length)+e._s(e.$t("base.QuantifierPeople")))])])])]):e._e(),e._v(" "),e.flightOrderInit.BackChangeChargeInfo?s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[e._v(e._s(e.$t("base.ReschedulingFee")))]),e._v(" "),0===e.flightOrderInit.BackChangeChargeInfo.ChangeFee?s("p",[e._v(e._s(e.$t("base.AirlinePassengerMaintenance")))]):s("p",[s("span",[e._v("￥"+e._s(e.flightOrderInit.BackChangeChargeInfo.ChangeFee))]),s("span",[e._v("x "+e._s(e.flightOrder.Passengers.length)+e._s(e.$t("base.QuantifierPeople")))])])])]):e._e()]:[e.flightOrderInit.BackChargeInfo.SalePrice>=0?s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[e._v(e._s(e.$t("base.AirTickets")))]),e._v(" "),s("p",[s("span",[e._v("￥"+e._s(e.flightOrderInit.BackChargeInfo.SalePrice))]),s("span",[e._v("x "+e._s(e.flightOrder.Passengers.length)+e._s(e.$t("base.QuantifierPeople")))])])])]):e._e(),e._v(" "),e.flightOrderInit.BackChargeInfo.FuelOilTax>=0?s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[e._v(e._s(e.$t("base.FuelFee")))]),e._v(" "),s("p",[s("span",[e._v("￥"+e._s(e.flightOrderInit.BackChargeInfo.FuelOilTax))]),s("span",[e._v("x "+e._s(e.flightOrder.Passengers.length)+e._s(e.$t("base.QuantifierPeople")))])])])]):e._e(),e._v(" "),e.flightOrderInit.BackChargeInfo.AirportTax>=0?s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[e._v(e._s(e.$t("base.PlaneConstructionFee")))]),e._v(" "),s("p",[s("span",[e._v("￥"+e._s(e.flightOrderInit.BackChargeInfo.AirportTax))]),s("span",[e._v("x "+e._s(e.flightOrder.Passengers.length)+e._s(e.$t("base.QuantifierPeople")))])])])]):e._e(),e._v(" "),e.flightOrderInit.BackChargeInfo.Rebate>0?s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[e._v(e._s(e.$t("base.FrontReturn")))]),e._v(" "),s("p",[s("span",[e._v("-￥"+e._s(e.flightOrderInit.BackChargeInfo.Rebate))]),s("span",[e._v("x "+e._s(e.flightOrder.Passengers.length)+e._s(e.$t("base.QuantifierPeople")))])])])]):e._e()],e._v(" "),e._l(e.flightOrderInit.InsuranceProducts,function(t,i){return 2===t.Order&&t.select?s("hs-cell-1",{key:i,attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[e._v(e._s(t.ClientShowName)),t.Order&&!e.noValue(e.flightOrder.BackSelectedFlight.FlightNo)?[e._v(" | "+e._s(1===t.Order?e.$t("base.Going"):e.$t("base.Return")))]:e._e()],2),e._v(" "),s("p",[s("span",[e._v("￥"+e._s(t.SalePrice))]),s("span",[e._v("x "+e._s(e.flightOrder.Passengers.length)+e._s(e.$t("base.Copy")))])])])]):e._e()})],2):e._e(),e._v(" "),e.flightOrderInit.GoChargeInfo&&this.noValue(this.flightOrder.OriginPnrID)?s("hs-section",[s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[e._v(e._s(e.$t("base.ServiceFee")))]),e._v(" "),s("p",[s("span",[e._v("￥"+e._s(e.flightOrderInit.GoChargeInfo.ServiceCharge+(e.flightOrderInit.BackChargeInfo&&e.flightOrderInit.BackChargeInfo.ServiceCharge?e.flightOrderInit.BackChargeInfo.ServiceCharge:0)))]),s("span",[e._v("x "+e._s(e.flightOrder.Passengers.length)+e._s(e.$t("base.QuantifierPeople")))])])])])],1):e._e(),e._v(" "),e.flightOrderInit.GoChangeChargeInfo||e.flightOrderInit.BackChangeChargeInfo?s("div",{staticClass:"detailsDialog-tips"},[s("p",[e._v(e._s(e.$t("base.TheReschedulingFeeIsSubjectToTheReviewOfTheAirline")))])]):e._e()],1)]),e._v(" "),s("div",{ref:"show-more",staticClass:"show-more"},[e._v(e._s(e.$t("base.SlideUpToSeeMore")))])],1),e._v(" "),s("hs-dialog",{model:{value:e.showRulesDialog,callback:function(t){e.showRulesDialog=t},expression:"showRulesDialog"}},[s("hs-scroll",{staticClass:"rulesDialog",attrs:{data:[e.rulesHtml]}},[s("ul",[s("div",{domProps:{innerHTML:e._s(e.rulesHtml)}})])])],1),e._v(" "),s("hs-dialog",{model:{value:e.showTransportWholeRulesDialog,callback:function(t){e.showTransportWholeRulesDialog=t},expression:"showTransportWholeRulesDialog"}},[s("div",{staticClass:"transportWholeRulesDialog"},[s("hs-section",{attrs:{title:e.$t("base.GeneralConditionsOfTransportation")}},[s("hs-cell-1",{nativeOn:{click:function(t){e._getRules(2)}}},[s("div",{staticClass:"transportWholeRulesDialog-text"},[e._v(e._s(e.$t("base.AirChinaPassengerBaggageDomesticTransportationGeneralConditions")))])])],1)],1)]),e._v(" "),s("c-return-explain",{attrs:{details:e.returnExplainDetails},model:{value:e.showExplain,callback:function(t){e.showExplain=t},expression:"showExplain"}}),e._v(" "),s("c-passenger",{ref:"CPassenger",attrs:{XOrder:e.flightOrder,BookInit:e.flightOrderInit,OrderBusinessType:1},on:{delegateWithConfirm:e._delegateWithConfirm}}),e._v(" "),s("passenger-details",{ref:"PassengerDetails",attrs:{details:e.editingPassenger,BookInit:e.flightOrderInit,OrderBusinessType:1},on:{delegate:e._delegateWithPassengerDetails}}),e._v(" "),s("c-custom-item",{attrs:{show:e.showCCustomItem,orderInit:e.currentFlightOrderInit},on:{"update:show":function(t){e.showCCustomItem=t},"update:orderInit":function(t){e.currentFlightOrderInit=t},delegate:e._delegateWithCustomItem}}),e._v(" "),s("c-contacts",{attrs:{show:e.showCContacts,datalist:e.flightOrder.Contacts},on:{"update:show":function(t){e.showCContacts=t},delegate:e._delegateWithContacts},model:{value:e.contactDetails,callback:function(t){e.contactDetails=t},expression:"contactDetails"}}),e._v(" "),s("c-frequent-contacts",{ref:"CFrequentContacts",attrs:{orderInit:e.currentFlightOrderInit,datalist:e.flightOrder.Contacts},on:{"update:orderInit":function(t){e.currentFlightOrderInit=t},delegate:e._delegateWithFrequentContacts}}),e._v(" "),s("violation-rank",{attrs:{details:e.violationRankDetails},on:{delegate:e._checkOrderRepeat},model:{value:e.showViolationRank,callback:function(t){e.showViolationRank=t},expression:"showViolationRank"}}),e._v(" "),s("c-change-passenger-details",{ref:"CChangePassengerDetails",attrs:{details:e.editingChangePassenger,BookInit:e.flightOrderInit},on:{delegate:e._delegateWithPassengerDetails}})],2)},staticRenderFns:[]};var ee=s("VU/8")(K,Z,!1,function(e){s("rWyg")},"data-v-2225a580",null);t.default=ee.exports},BDhv:function(e,t,s){var i=s("kM2E");i(i.P+i.R,"Set",{toJSON:s("m9gC")("Set")})},GTDf:function(e,t,s){"use strict";var i=s("7+uW"),a=s("yyVE"),r={props:{title:{type:String,default:i.a.prototype.$t("base.TheNetworkSignalIsPoor")}},computed:{noData:function(){return!i.a.prototype.$loading.isLoading()}},components:{HsGradientButton:a.a}},l={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hs-net"},[e.noData?[s("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/base/null/no-net.png')"}}),e._v(" "),s("p",[e._v(e._s(e.title))]),e._v(" "),s("hs-gradient-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"common",title:e.$t("base.TryAgain")},on:{click:function(t){e.$emit("delegate")}}})]:e._e()],2)},staticRenderFns:[]};var n=s("VU/8")(r,l,!1,function(e){s("b4ad")},"data-v-2f73ae70",null);t.a=n.exports},b4ad:function(e,t){},"bcT/":function(e,t){},ioQ5:function(e,t,s){s("HpRW")("Set")},"j1+r":function(e,t){},lHA8:function(e,t,s){e.exports={default:s("pPW7"),__esModule:!0}},oNmr:function(e,t,s){s("9Bbf")("Set")},pPW7:function(e,t,s){s("M6a0"),s("zQR9"),s("+tPU"),s("ttyz"),s("BDhv"),s("oNmr"),s("ioQ5"),e.exports=s("FeBl").Set},rWyg:function(e,t){},ttyz:function(e,t,s){"use strict";var i=s("9C8M"),a=s("LIJb");e.exports=s("qo66")("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return i.def(a(this,"Set"),e=0===e?0:e,e)}},i)}});
//# sourceMappingURL=1.71b9435261c9e82897bc.js.map