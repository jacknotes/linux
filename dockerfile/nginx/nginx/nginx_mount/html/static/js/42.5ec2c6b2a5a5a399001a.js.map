{"version":3,"sources":["webpack:///src/pages/message/announcement/list.vue","webpack:///./src/pages/message/announcement/list.vue?8f80","webpack:///./src/pages/message/announcement/list.vue"],"names":["created","this","_getDetails","data","tableViewOptions","pullDownRefresh","threshold","details","newest","aWeek","methods","_this","time","beTimeNumber","beTime","Date","setDate","getDate","Object","api","PageIndex","Source","then","res","ResultData","Notices","forEach","element","IsTop","CreateDate","push","length","sort","a","b","_goToDetail","item","$router","name","params","components","CHeader","c_header","HsCell1","hs_cell_1","HsNull","hs_null","HsScroll","hs_scroll","HsSection","hs_section","announcement_list","render","_vm","_h","$createElement","_c","_self","staticClass","Number","$route","query","source","attrs","isBackNav","title","fixedBackPath","_e","_v","style","height","options","on","pulling-down","_l","index","key","click","$event","_s","Title","ViceTitle","staticStyle","width","staticRenderFns","Component","__webpack_require__","normalizeComponent","list","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/42.5ec2c6b2a5a5a399001a.js","sourcesContent":["<template>\n  <div class=\"hs-container\">\n    <c-header v-if=\"Number($route.query.source) !== 1\" isBackNav title=\"公告\" fixedBackPath=\"/home\"></c-header>\n    <hs-scroll\n      class=\"table-view\"\n      :style=\"{height: Number($route.query.source) !== 1 ? 'calc(100% - 50px)' : '100%'}\"\n      :data=\"[details]\"\n      :options=\"tableViewOptions\"\n      @pulling-down=\"_getDetails\">\n      <ul>\n        <div class=\"notice-view\" v-if=\"newest.length!==0\">\n          <div class=\"notice-newest\">最新公告</div>\n          <div class=\"notice-view-item\" v-for=\"(item,index) in newest\" :key=\"index\" @click=\"_goToDetail(item)\">\n            <div class=\"title\">\n              <div class=\"left\">\n                <p>\n                  <span v-if=\"!item.IsTop\">NEW</span>\n                  <span v-else>TOP</span>\n                  {{item.Title}}\n                </p>\n              </div>\n              <div class=\"right\">{{item.CreateDate}}</div>\n            </div>\n            <div class=\"content\" >{{item.ViceTitle}}</div>\n            <div class=\"detail\">\n              <div class=\"left\">查看详情</div>\n              <div class=\"right\"></div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"notice-view\"  v-if=\"aWeek.length!==0\">\n          <div class=\"notice-newest\">一周前</div>\n          <div class=\"notice-view-item\" v-for=\"(item,index) in aWeek\" :key=\"index\" @click=\"_goToDetail(item)\">\n            <div class=\"title\">\n              <div class=\"left\">\n                <p>\n                  <span v-if=\"!item.IsTop\">NEW</span>\n                  <span v-else>TOP</span>\n                  {{item.Title}}\n                </p>\n              </div>\n              <div class=\"right\">{{item.CreateDate}}</div>\n            </div>\n            <div class=\"content\">{{item.ViceTitle}}</div>\n            <div class=\"detail\">\n              <div class=\"left\">查看详情</div>\n              <div class=\"right\"></div>\n            </div>\n          </div>\n        </div>\n        <div style=\"width: 100%;height: 10px;\"></div>\n      </ul>\n    </hs-scroll>\n  </div>\n</template>\n<script type=\"text/ecmascript-6\">\nimport CHeader from 'components/c-header/c-header'\nimport HsCell1 from 'base/hs-tableview/hs-cell-1/hs-cell-1'\nimport HsNull from 'base/hs-null/hs-null'\nimport HsScroll from 'base/hs-scroll/hs-scroll'\nimport HsSection from 'base/hs-tableview/hs-section/hs-section'\nimport { kpiNoticeList } from 'api'\nexport default {\n  created () {\n    this._getDetails()\n  },\n  data() {\n    return {\n      tableViewOptions: {\n        pullDownRefresh: {\n          threshold: 50\n        }\n      },\n      details: {},\n      newest: [], // 最新公告列表\n      aWeek: [] // 一周前公告列表\n    }\n  },\n  methods: {\n    _getDetails() {\n      this.newest = []\n      this.aWeek = []\n      let time = this.beTimeNumber(this.beTime(new Date().setDate(new Date().getDate() - 7)))\n      let params = {\n        PageIndex: 1,\n        Source: 1\n      }\n      kpiNoticeList(params).then(res => {\n        this.details = res.ResultData\n        // 是否有置顶 || <=7天内\n        this.details.Notices.forEach(element => {\n          if (element.IsTop || this.beTimeNumber(element.CreateDate) >= time) {\n            this.newest.push(element)\n          } else if (this.beTimeNumber(element.CreateDate) < time) {\n            this.aWeek.push(element)\n          }\n        })\n        // 没有7天内的 全部都是最新的\n        if (this.newest.length === 0) {\n          this.newest = this.aWeek\n        } else {\n          this.newest.sort((a, b) => {\n            return (this.beTimeNumber(b['CreateDate']) - this.beTimeNumber(a['CreateDate']))\n          })\n          this.newest.sort((a, b) => {\n            return ((b['IsTop'] - 0) - (a['IsTop'] - 0))\n          })\n        }\n      })\n    },\n    _goToDetail(item) {\n      this.$router.push({\n        name: '公告详情',\n        params: {\n          details: item\n        }\n      })\n    }\n  },\n  components: {\n    CHeader,\n    HsCell1,\n    HsNull,\n    HsScroll,\n    HsSection\n  }\n}\n</script>\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n@import '~common/stylus/base'\n@import '~common/stylus/variable'\n.hs-container\n  width 100%\n  height 100%\n  >.table-view\n    width 100%\n    overflow hidden\n.notice-view-item\n  width 96%\n  margin 0 auto\n  background $color_white\n  border-radius 2px\n  margin-bottom 10px\n  position relative\n  >.title\n    background-color $color_gray_background_1\n    padding 10px\n    border-radius 2px 2px 0 0\n    width 100%\n    >.left\n      @extend .flex\n      width 100%\n      >p\n        text-align justify\n        width 100%\n        font-size 1.2rem\n        font-weight bold\n        line-height 1.2em\n        >span\n          padding 0px 3px\n          color $color_theme\n          border 1px solid $color_theme\n          font-size 0.8rem\n          font-weight bold\n          position relative\n          top -2px\n    >.right\n      margin-top 10px\n      color $color_gray_text\n      font-size .8rem\n      text-align right\n  >.content\n    margin 10px\n    color $color_gray_text\n    font-size .8rem\n    line-height 1.3\n    padding-bottom 10px\n    border-bottom 1px solid $color_gray_layer\n    overflow hidden\n    text-align justify\n    img\n      display block\n      width 100%\n      margin-bottom 5px\n  >.detail\n    @extend .flex-between\n    color $color_black_text_0\n    font-size .8rem\n    padding 0 10px\n    padding-bottom 10px\n    >.right\n      width 20px\n      height 20px\n      background url(/static/image/base/cell/right_arrow_gray.png) no-repeat center\n      background-size cover\n.notice-newest\n  color $color_gray_text\n  font-size .9rem\n  padding 15px 0\n  width 96%\n  margin 0 auto\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/message/announcement/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hs-container\"},[(Number(_vm.$route.query.source) !== 1)?_c('c-header',{attrs:{\"isBackNav\":\"\",\"title\":\"公告\",\"fixedBackPath\":\"/home\"}}):_vm._e(),_vm._v(\" \"),_c('hs-scroll',{staticClass:\"table-view\",style:({height: Number(_vm.$route.query.source) !== 1 ? 'calc(100% - 50px)' : '100%'}),attrs:{\"data\":[_vm.details],\"options\":_vm.tableViewOptions},on:{\"pulling-down\":_vm._getDetails}},[_c('ul',[(_vm.newest.length!==0)?_c('div',{staticClass:\"notice-view\"},[_c('div',{staticClass:\"notice-newest\"},[_vm._v(\"最新公告\")]),_vm._v(\" \"),_vm._l((_vm.newest),function(item,index){return _c('div',{key:index,staticClass:\"notice-view-item\",on:{\"click\":function($event){_vm._goToDetail(item)}}},[_c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"left\"},[_c('p',[(!item.IsTop)?_c('span',[_vm._v(\"NEW\")]):_c('span',[_vm._v(\"TOP\")]),_vm._v(\"\\n                \"+_vm._s(item.Title)+\"\\n              \")])]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_vm._v(_vm._s(item.CreateDate))])]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_vm._v(_vm._s(item.ViceTitle))]),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"left\"},[_vm._v(\"查看详情\")]),_vm._v(\" \"),_c('div',{staticClass:\"right\"})])])})],2):_vm._e(),_vm._v(\" \"),(_vm.aWeek.length!==0)?_c('div',{staticClass:\"notice-view\"},[_c('div',{staticClass:\"notice-newest\"},[_vm._v(\"一周前\")]),_vm._v(\" \"),_vm._l((_vm.aWeek),function(item,index){return _c('div',{key:index,staticClass:\"notice-view-item\",on:{\"click\":function($event){_vm._goToDetail(item)}}},[_c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"left\"},[_c('p',[(!item.IsTop)?_c('span',[_vm._v(\"NEW\")]):_c('span',[_vm._v(\"TOP\")]),_vm._v(\"\\n                \"+_vm._s(item.Title)+\"\\n              \")])]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_vm._v(_vm._s(item.CreateDate))])]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_vm._v(_vm._s(item.ViceTitle))]),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('div',{staticClass:\"left\"},[_vm._v(\"查看详情\")]),_vm._v(\" \"),_c('div',{staticClass:\"right\"})])])})],2):_vm._e(),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"10px\"}})])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-70b24af6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/message/announcement/list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-70b24af6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./list.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-70b24af6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-70b24af6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/message/announcement/list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}