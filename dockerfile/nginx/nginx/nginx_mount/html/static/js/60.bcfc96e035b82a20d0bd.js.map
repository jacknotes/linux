{"version":3,"sources":["webpack:///src/pages/inter-hotel/order/order-list/order-list.vue","webpack:///./src/pages/inter-hotel/order/order-list/order-list.vue?84b6","webpack:///./src/pages/inter-hotel/order/order-list/order-list.vue"],"names":["order_list","beforeRouteEnter","to","from","next","vm","path","travelType","dataStatus","GuestName","_getDatalist","Number","$route","params","TravelType","datalist","length","activated","this","eventBus","$off","$on","bind","watch","val","_this","timer","clearTimeout","setTimeout","data","tableViewOptions","pullDownRefresh","threshold","pullUpLoad","currentPageIndex","currentPageSize","methods","_this2","StartDate","beTimeNumber","beTime","Date","setMonth","getMonth","EndDate","PageIndex","PageSize","Status","Object","api","then","res","ResultData","Orders","$refs","tableView","forceUpdate","_getDatalistMore","_this3","concat","_tabDelegate","status","_gotoDetails","OrderID","$router","push","query","isOwner","_gotoPay","item","_this4","$alert","content","$t","cancelTxt","confirmFn","Pay","gotoPay","OrderBusinessType","PayWay","CallbackPathName","_cancel","_this5","orderID","IsSuccess","$toast","components","CHeader","c_header","HsTab","hs_tab","HsScroll","hs_scroll","HsSection","hs_section","HsCell1","hs_cell_1","HsNull","hs_null","pay","order_list_order_list","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","isBackNav","title","fixedBackPath","slot","on","click","$event","style","transform","_v","_s","directives","name","rawName","value","expression","maxlength","placeholder","domProps","input","target","composing","staticStyle","background-image","options","select","ref","pulling-down","pulling-up","noValue","JSON","stringify","_l","index","key","BookDate","_e","HotelName","RoomType","CheckInDate","CheckOutDate","NightAmount","RoomAmount","margin-bottom","OrderPersonName","TotalPrice","OrderStatusDesc","PageBtnInfo","stopPropagation","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/60.bcfc96e035b82a20d0bd.js","sourcesContent":["<template>\n  <div class=\"hs-container\">\n    <c-header isBackNav :title=\"$t('base.InternationalHotelOrders')\" fixedBackPath=\"/personal/center\">\n      <div slot=\"right\" class=\"c-header-right\">\n        <div class=\"travelTypeSwitch\" @click=\"travelType = travelType === 0 ? 1 : 0\">\n          <div :style=\"{transform: `translateX(${travelType === 0 ? '0px' : '20px'})`}\"><p>{{travelType === 0 ? $t('base.B') : $t('base.P')}}</p></div>\n        </div>\n      </div>\n    </c-header>\n    <div class=\"search-bar\">\n      <div class=\"bar\">\n        <input maxlength='50' v-model=\"GuestName\" :placeholder=\"$t('base.PleaseEnterTheNameOfThePersonToSearch')\"/>\n        <div class=\"logo\" style=\"background-image: url('static/image/plane-ticket/book/search.png')\" @click=\"_getDatalist\"></div>\n      </div>\n    </div>\n    <hs-tab :options=\"[$t('base.All'), $t('base.PendForOperating'), $t('base.Operating'), $t('base.Finished'), $t('base.Closed')]\" @select=\"_tabDelegate\"></hs-tab>\n    <hs-scroll class=\"table-view\" ref=\"tableView\" :data=\"datalist\" :options=\"tableViewOptions\" @pulling-down=\"_getDatalist\" @pulling-up=\"_getDatalistMore\">\n      <hs-null v-if=\"noValue(JSON.stringify(datalist))\" :title=\"$t('base.AllOrdersForRecentSixMonths')\"></hs-null>\n      <ul v-else>\n        <div class=\"custom-cell\" v-for=\"(item, index) in datalist\" :key=\"index\" @click=\"_gotoDetails(item.OrderID)\">\n          <div class=\"header\"\n            v-if=\"index === 0 ||\n            (index > 0 && (beTime(item.BookDate, 'MM-dd') !== beTime(datalist[index - 1].BookDate, 'MM-dd')))\">\n            <p>\n              {{$t('base.OrderDate')}}:\n              {{$t(beTime(item.BookDate), 'date', beTime(item.BookDate, 'yyyy') === beTime(new Date(), 'yyyy') ? ['MM-dd', 'MM dd'] : ['yyyy-MM-dd', 'MM dd, yyyy'])}}\n            </p>\n          </div>\n          <div class=\"content\">\n            <div class=\"information\">\n              <div class=\"left\">\n                <div class=\"logo\" :style=\"{'background-image': `url('static/image/personal-center/InterHotel.png')`}\"></div>\n              </div>\n              <div class=\"details\">\n                <div class=\"blank\">\n                  <p class=\"title\">{{item.HotelName}}</p>\n                  <p>{{item.RoomType}}</p>\n                  <p>{{beTime(item.CheckInDate, 'MM-dd')}}&nbsp;至&nbsp;{{beTime(item.CheckOutDate, 'MM-dd')}}&nbsp;&nbsp;{{item.NightAmount}}{{$t('base.QuantifierNight')}}/{{item.RoomAmount}}{{$t('base.QuantifierHotel')}}</p>\n                  <p style=\"margin-bottom: 0px\">{{$t('base.Roomer')}}:&nbsp;{{item.OrderPersonName}}</p>\n                </div>\n              </div>\n              <div class=\"right\">\n                <p class=\"price\">￥{{item.TotalPrice}}</p>\n                <p class=\"status\">{{item.OrderStatusDesc}}</p>\n              </div>\n            </div>\n            <div class=\"btns\">\n              <!-- <p v-if=\"item.SettlementType === $t('base.SettleNow') && Number(item.PayStatus) === 0 && (Number(item.OrderStatus) === 10 || Number(item.OrderStatus) === 20 || Number(item.OrderStatus) === 30) && (Number(item.VettingStatus) === 0 || Number(item.VettingStatus) === 5)\" @click.stop=\"_gotoPay(item)\">{{$t('base.Pay')}}</p>\n              <p v-if=\"Number(item.OrderStatus) === 10\" @click.stop=\"_cancel(item)\">{{$t('base.Cancel')}}</p> -->\n              <p v-if=\"item.PageBtnInfo.IsAllowPay\" @click.stop=\"_gotoPay(item)\">{{$t('base.Pay')}}</p>\n              <p v-if=\"item.PageBtnInfo.IsAllowCancel\" @click.stop=\"_cancel(item)\">{{$t('base.Cancel')}}</p>\n            </div>\n          </div>\n        </div>\n        <p class=\"allLoadedTxt\" v-if=\"!tableViewOptions.pullUpLoad\">{{$t('base.AllOrdersForRecentSixMonths')}}</p>\n      </ul>\n    </hs-scroll>\n    <pay ref=\"Pay\"></pay>\n  </div>\n</template>\n<script type=\"text/ecmascript-6\">\n// 酒店订单列表\nimport CHeader from 'components/c-header/c-header'\nimport HsTab from 'base/hs-tab/hs-tab'\nimport HsScroll from 'base/hs-scroll/hs-scroll'\nimport HsSection from 'base/hs-tableview/hs-section/hs-section'\nimport HsCell1 from 'base/hs-tableview/hs-cell-1/hs-cell-1'\nimport HsNull from 'base/hs-null/hs-null'\nimport eventBus from 'common/js/eventBus.js'\nimport Pay from 'pages/pay/pay'\nimport { kpiIntlHotelGetOrderList, kpiIntlHotelCancelOrder } from 'api'\nexport default {\n  beforeRouteEnter(to, from, next) {\n    // console.log('from: ', from)\n    next(vm => {\n      if (from.path === '/' || from.path === '/personal/center') {\n        vm.travelType = 0\n        vm.dataStatus = 0\n        vm.GuestName === '' ? vm._getDatalist() : (vm.GuestName = '')\n      } else if (from.path === '/hotel/orderConfirm' || from.path === '/hotel/bookDetails') {\n        vm.travelType = Number(vm.$route.params.TravelType) === 1 ? 1 : 0\n        vm._getDatalist()\n      } else if (!vm.datalist || vm.datalist.length === 0) {\n        vm._getDatalist()\n      }\n    })\n  },\n  activated() {\n    if (Number(this.$route.params.TravelType) === 1) {\n      this.travelType = 1\n    } else if (Number(this.$route.params.TravelType) === 0) {\n      this.travelType = 0\n    }\n    eventBus.$off('refresh')\n    eventBus.$on(\n      'refresh',\n      function() {\n        this._getDatalist()\n      }.bind(this)\n    )\n  },\n  watch: {\n    travelType() {\n      this._getDatalist()\n    },\n    GuestName(val) {\n      this.timer && clearTimeout(this.timer) // eslint-disable-line\n      this.timer = setTimeout(() => {\n        this._getDatalist()\n      }, 1000)\n    }\n  },\n  data() {\n    return {\n      tableViewOptions: {\n        pullDownRefresh: {\n          threshold: 50\n        },\n        pullUpLoad: false\n      },\n      datalist: [],\n      dataStatus: 0,\n      currentPageIndex: 1,\n      currentPageSize: 10,\n      travelType: 0,\n      GuestName: ''\n    }\n  },\n  methods: {\n    // 下拉刷新\n    _getDatalist() {\n      this.datalist = []\n      this.currentPageIndex = 1\n      this.tableViewOptions.pullUpLoad = false\n      let params = {\n        StartDate: this.beTimeNumber(\n          this.beTime(new Date().setMonth(new Date().getMonth() - 6))\n        ),\n        EndDate: this.beTimeNumber(this.beTime(new Date())),\n        PageIndex: this.currentPageIndex,\n        PageSize: this.currentPageSize,\n        Status: this.dataStatus,\n        TravelType: this.travelType,\n        GuestName: this.GuestName\n      }\n      kpiIntlHotelGetOrderList(params).then(res => {\n        console.log('酒店订单列表: ', res)\n        this.datalist = res.ResultData.Orders\n        if (res.ResultData.Orders.length >= this.currentPageSize) {\n          this.tableViewOptions.pullUpLoad = {threshold: 50}\n        }\n        this.$refs.tableView && this.$refs.tableView.forceUpdate()\n      })\n    },\n    // 上拉加载\n    _getDatalistMore() {\n      this.currentPageIndex++\n      let params = {\n        StartDate: this.beTimeNumber(\n          this.beTime(new Date().setMonth(new Date().getMonth() - 6))\n        ),\n        EndDate: this.beTimeNumber(this.beTime(new Date())),\n        PageIndex: this.currentPageIndex,\n        PageSize: this.currentPageSize,\n        Status: this.dataStatus,\n        TravelType: this.travelType,\n        GuestName: this.GuestName\n      }\n      kpiIntlHotelGetOrderList(params, true).then(res => {\n        console.log('酒店订单列表: ', res)\n        this.datalist = this.datalist.concat(res.ResultData.Orders)\n        if (res.ResultData.Orders.length < this.currentPageSize) {\n          this.tableViewOptions.pullUpLoad = false\n        } else {\n          this.tableViewOptions.pullUpLoad = {threshold: 50}\n        }\n        this.$refs.tableView && this.$refs.tableView.forceUpdate()\n      })\n    },\n    _tabDelegate(status) {\n      if (this.dataStatus !== status) {\n        this.dataStatus = status\n        this._getDatalist()\n      }\n    },\n    // 跳转到订单详情页\n    _gotoDetails: function(OrderID) {\n      this.$router.push({\n        path: '/inter-hotel/orderDetails',\n        query: {\n          OrderID: OrderID,\n          isOwner: true\n        }\n      })\n    },\n    /** 支付 */\n    _gotoPay(item) {\n      this.$alert({\n        content: this.$t('TM.AreYouSureToPayForThisOrder'),\n        cancelTxt: this.$t('base.Cancel'),\n        confirmFn: () => {\n          this.$refs.Pay && this.$refs.Pay.gotoPay({\n            OrderBusinessType: 11,\n            OrderID: item.OrderID,\n            PayWay: 3,\n            TravelType: Number(this.TravelType),\n            CallbackPathName: 'interHotelOrderList'\n          })\n        }\n      })\n    },\n    /** 取消 */\n    _cancel(item) {\n      this.$alert({\n        content: this.$t('TM.AreYouSureToCancelTheOrder'),\n        cancelTxt: this.$t('base.Cancel'),\n        confirmFn: () => {\n          let params = {\n            orderID: item.OrderID\n          }\n          kpiIntlHotelCancelOrder(params).then(res => {\n            if (res.ResultData.IsSuccess === true) {\n              this.$toast(this.$t('TM.OrderCancelled'));\n              this._getDatalist()\n            } else {\n              this.$toast(this.$t('TM.OrderCancelFailed'))\n            }\n          })\n        }\n      })\n    }\n  },\n  components: {\n    CHeader,\n    HsTab,\n    HsScroll,\n    HsSection,\n    HsCell1,\n    HsNull,\n    Pay\n  }\n}\n</script>\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n@import '~common/stylus/base'\n@import '~common/stylus/variable'\n@import '~common/stylus/mixin'\n.hs-container\n  width 100%\n  height 100%\n  .c-header-title\n    @extend .flex-row\n    @extend .flex-center\n    >p\n      &:nth-child(1)\n        font-size 1.1rem\n        font-weight bold\n      &:nth-child(2)\n        font-size 0.6rem\n        color $color_gray_text\n        line-height 1.5em\n  .c-header-right\n    @extend .flex-row\n    @extend .flex-end\n    width 100%\n    >.travelTypeSwitch\n      @extend .flex-row\n      @extend .flex-start\n      width 50px\n      height 30px\n      border 1px solid $color_theme\n      background-color $color_theme\n      border-radius 15px\n      // position absolute\n      // top 7px\n      // right 10px\n      >div\n        @extend .flex-center\n        width 28px\n        height 28px\n        border-radius 15px\n        background-color $color_white\n        transition all 400ms\n        >p\n          font-size 0.8rem\n          color $color_theme\n  >.search-bar\n    @extend .flex-center\n    width 100%\n    padding 5px 15px\n    background-color $color_white\n    >.bar\n      @extend .flex-row\n      @extend .flex-between\n      width 100%\n      border-radius 4px\n      border 1px solid $color_gray_layer\n      padding 10px\n      background-color $color_white\n      font-size 0.9rem\n      >input\n        width calc(100% - 30px)\n        height 100%\n      >.logo\n        width 20px\n        height 20px\n        background-size 100% 100%\n  >.table-view\n    width 100%\n    height calc(100% - 45px - 52px - 40px)\n    overflow hidden\n    .custom-cell\n      width 100%\n      padding 15px 10px\n      padding-bottom 0px\n      >.header\n        @extend .flex-row\n        @extend .flex-start\n        width 100%\n        margin-bottom 10px\n        >p\n          background-color $color_red_background_1\n          color $color_white\n          font-size 0.8rem\n          line-height 20px\n          border-radius 10px\n          padding 0 10px\n          margin-right 10px\n        >.change\n          background-color $color_orange_text\n      >.content\n        width 100%\n        background-color $color_white\n        border-radius 3px\n        padding 10px\n        box-shadow 0 0 10px $color_gray_layer\n        >.information\n          @extend .flex-row\n          @extend .flex-start\n          @extend .flex-top\n          width 100%\n          >.left\n            width 30px\n            padding 10px 0\n            >.logo\n              width 20px\n              height 20px\n              background-size 100% 100%\n          >.details\n            width calc(100% - 100px)\n            >.blank\n              width 100%\n              padding 10px 0\n              >.title\n                @extend .flex-row\n                @extend .flex-start\n                width 100%\n                line-height 20px\n                font-size 1.1rem\n                color $color_black_text_0\n                font-weight bold\n                margin-bottom 12px\n              >p\n                width 100%\n                font-size 0.9rem\n                color $color_black_text_1\n                margin-bottom 10px\n                line-height 1.2em\n              >.row\n                @extend .flex-row\n                @extend .flex-start\n                width 100%\n                margin-bottom 10px\n                >.logo\n                  width 15px\n                  height 15px\n                  background-size 100% 100%\n                  margin-right 5px\n                >p\n                  font-size 0.9rem\n                  color $color_black_text_1\n          >.right\n            @extend .flex-column\n            @extend .flex-bottom\n            width 70px\n            padding 10px 0\n            >.price\n              @extend .flex-row\n              @extend .flex-end\n              line-height 20px\n              font-size 1rem\n              font-weight bold\n              color $color_theme\n              margin-bottom 10px\n            >.status\n              font-size 0.7rem\n              color $color_orange_text\n        >.btns\n          @extend .flex-row\n          @extend .flex-end\n          width 100%\n          >p\n            @extend .flex-center\n            color $color_black_text_1\n            height 30px\n            border-radius 15px\n            padding 0 15px\n            background-color $color_gray_background_0\n            font-size 0.9rem\n            margin-left 10px\n    .allLoadedTxt\n      @extend .flex-center\n      width 100%\n      height 40px\n      font-size 0.8rem\n      color $color_black_text_1\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/inter-hotel/order/order-list/order-list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hs-container\"},[_c('c-header',{attrs:{\"isBackNav\":\"\",\"title\":_vm.$t('base.InternationalHotelOrders'),\"fixedBackPath\":\"/personal/center\"}},[_c('div',{staticClass:\"c-header-right\",attrs:{\"slot\":\"right\"},slot:\"right\"},[_c('div',{staticClass:\"travelTypeSwitch\",on:{\"click\":function($event){_vm.travelType = _vm.travelType === 0 ? 1 : 0}}},[_c('div',{style:({transform: (\"translateX(\" + (_vm.travelType === 0 ? '0px' : '20px') + \")\")})},[_c('p',[_vm._v(_vm._s(_vm.travelType === 0 ? _vm.$t('base.B') : _vm.$t('base.P')))])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"search-bar\"},[_c('div',{staticClass:\"bar\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.GuestName),expression:\"GuestName\"}],attrs:{\"maxlength\":\"50\",\"placeholder\":_vm.$t('base.PleaseEnterTheNameOfThePersonToSearch')},domProps:{\"value\":(_vm.GuestName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.GuestName=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"logo\",staticStyle:{\"background-image\":\"url('static/image/plane-ticket/book/search.png')\"},on:{\"click\":_vm._getDatalist}})])]),_vm._v(\" \"),_c('hs-tab',{attrs:{\"options\":[_vm.$t('base.All'), _vm.$t('base.PendForOperating'), _vm.$t('base.Operating'), _vm.$t('base.Finished'), _vm.$t('base.Closed')]},on:{\"select\":_vm._tabDelegate}}),_vm._v(\" \"),_c('hs-scroll',{ref:\"tableView\",staticClass:\"table-view\",attrs:{\"data\":_vm.datalist,\"options\":_vm.tableViewOptions},on:{\"pulling-down\":_vm._getDatalist,\"pulling-up\":_vm._getDatalistMore}},[(_vm.noValue(JSON.stringify(_vm.datalist)))?_c('hs-null',{attrs:{\"title\":_vm.$t('base.AllOrdersForRecentSixMonths')}}):_c('ul',[_vm._l((_vm.datalist),function(item,index){return _c('div',{key:index,staticClass:\"custom-cell\",on:{\"click\":function($event){_vm._gotoDetails(item.OrderID)}}},[(index === 0 ||\n          (index > 0 && (_vm.beTime(item.BookDate, 'MM-dd') !== _vm.beTime(_vm.datalist[index - 1].BookDate, 'MM-dd'))))?_c('div',{staticClass:\"header\"},[_c('p',[_vm._v(\"\\n            \"+_vm._s(_vm.$t('base.OrderDate'))+\":\\n            \"+_vm._s(_vm.$t(_vm.beTime(item.BookDate), 'date', _vm.beTime(item.BookDate, 'yyyy') === _vm.beTime(new Date(), 'yyyy') ? ['MM-dd', 'MM dd'] : ['yyyy-MM-dd', 'MM dd, yyyy']))+\"\\n          \")])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"information\"},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"logo\",style:({'background-image': \"url('static/image/personal-center/InterHotel.png')\"})})]),_vm._v(\" \"),_c('div',{staticClass:\"details\"},[_c('div',{staticClass:\"blank\"},[_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(item.HotelName))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(item.RoomType))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.beTime(item.CheckInDate, 'MM-dd'))+\" 至 \"+_vm._s(_vm.beTime(item.CheckOutDate, 'MM-dd'))+\"  \"+_vm._s(item.NightAmount)+_vm._s(_vm.$t('base.QuantifierNight'))+\"/\"+_vm._s(item.RoomAmount)+_vm._s(_vm.$t('base.QuantifierHotel')))]),_vm._v(\" \"),_c('p',{staticStyle:{\"margin-bottom\":\"0px\"}},[_vm._v(_vm._s(_vm.$t('base.Roomer'))+\": \"+_vm._s(item.OrderPersonName))])])]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('p',{staticClass:\"price\"},[_vm._v(\"￥\"+_vm._s(item.TotalPrice))]),_vm._v(\" \"),_c('p',{staticClass:\"status\"},[_vm._v(_vm._s(item.OrderStatusDesc))])])]),_vm._v(\" \"),_c('div',{staticClass:\"btns\"},[(item.PageBtnInfo.IsAllowPay)?_c('p',{on:{\"click\":function($event){$event.stopPropagation();_vm._gotoPay(item)}}},[_vm._v(_vm._s(_vm.$t('base.Pay')))]):_vm._e(),_vm._v(\" \"),(item.PageBtnInfo.IsAllowCancel)?_c('p',{on:{\"click\":function($event){$event.stopPropagation();_vm._cancel(item)}}},[_vm._v(_vm._s(_vm.$t('base.Cancel')))]):_vm._e()])])])}),_vm._v(\" \"),(!_vm.tableViewOptions.pullUpLoad)?_c('p',{staticClass:\"allLoadedTxt\"},[_vm._v(_vm._s(_vm.$t('base.AllOrdersForRecentSixMonths')))]):_vm._e()],2)],1),_vm._v(\" \"),_c('pay',{ref:\"Pay\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-152295ee\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/inter-hotel/order/order-list/order-list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-152295ee\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./order-list.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./order-list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./order-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-152295ee\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./order-list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-152295ee\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/inter-hotel/order/order-list/order-list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}