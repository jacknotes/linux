webpackJsonp([59],{j4Ns:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("Dd8w"),i=s.n(a),l=s("mvHQ"),r=s.n(l),n=s("CCVD"),c=s("C0NF"),o=s("9Vmw"),h=s("4aFc"),d=s("vgdM"),g=s("6Qj3"),_=s("l4ZZ"),v=s("gyMJ"),p=s("NYxO"),u={components:{CHeader:n.a,HsScroll:c.a,HsSection:o.a,HsCell1:h.a,HsButton:d.a,CReturnExplain:g.a,HsDatePicker:_.a},created:function(){this._getData()},watch:{"flightOrder.GoSelectedFlight.DepartDate":{handler:function(e){if(e>this.flightOrder.BackSelectedFlight.DepartDate){var t=JSON.parse(r()(this.flightOrder));t.BackSelectedFlight.DepartDate=this.flightOrder.GoSelectedFlight.DepartDate,t.BackLowestPriceFlights.DepartDate=this.flightOrder.GoSelectedFlight.DepartDate,this.SET_FLIGHT_ORDER(t)}},deep:!0}},computed:i()({},Object(p.c)(["flightOrder"])),data:function(){return{tableViewOptions:{pullDownRefresh:{threshold:50}},details:{},showExplain:!1,returnExplainDetails:{},showWhenGo:!1,showWhenBack:!1,whereGo:"",whereBack:"",selectedSegments:[]}},methods:i()({},Object(p.d)(["SET_FLIGHT_ORDER"]),{_getData:function(){var e=this,t={ItktID:this.$route.query.ItktID,PnrID:this.$route.query.PnrID};Object(v.m)(t).then(function(t){e.details=t.ResultData,e.details.Segments.forEach(function(t,s){e.$set(e.details.Segments[s],"isSelected",!1)}),1===e.details.Segments.length&&e._toggleSegmentSelect(0)})},_showSegmentTitle:function(e){var t=this.details.Segments&&!this.noValue(r()(this.details.Segments))?this.details.Segments.length:0;return 1===t?this.$t("base.OneWay"):2===t&&this.details.Segments[0].DepartCityName===this.details.Segments[1].ArrivalCityName?0===e?this.$t("base.Going"):this.$t("base.Return"):this.$t("base.NoXSegment","function",e+1)},_getFlightCabinRule:function(e){this.showExplain=!0,this.returnExplainDetails={vhtml:e}},_toggleSegmentSelect:function(e){var t=this;this.details.Segments[e].isSelected=!this.details.Segments[e].isSelected,this.selectedSegments=[],this.details.Segments.forEach(function(e,s){e.isSelected&&t.selectedSegments.push(e)})},_setDateWhenGo:function(e){var t=JSON.parse(r()(this.flightOrder));t.GoSelectedFlight.DepartDate=e,this.SET_FLIGHT_ORDER(t)},_setDateWhenBack:function(e){var t=JSON.parse(r()(this.flightOrder));t.BackSelectedFlight.DepartDate=e,this.SET_FLIGHT_ORDER(t)},_gotoSearch:function(){if(0===this.selectedSegments.length)this.$toast(this.$t("TM.PleaseSelectTheItineraryToBeRescheduled"));else{this.whereGo=this.selectedSegments[0].DepartCityName,this.whereBack=this.selectedSegments[0].ArrivalCityName;var e=JSON.parse(r()(this.flightOrder));e.OriginBookingID=this.$route.query.ItktID,e.OriginPnrID=this.$route.query.PnrID,e.TravelType=this.$route.query.TravelType,e.DepartCode=this.selectedSegments[0].DepartCityCode,e.ArrivalCode=this.selectedSegments[0].ArrivalCityCode,e.DepartCityCode=this.selectedSegments[0].DepartCityCode,e.ArrivalCityCode=this.selectedSegments[0].ArrivalCityCode,e.DepartCityName=this.selectedSegments[0].DepartCityName,e.ArrivalCityName=this.selectedSegments[0].ArrivalCityName,e.SegmentIDList=this.selectedSegments.map(function(e){return e.ID}),this.SET_FLIGHT_ORDER(e),this.$router.push({path:"/planeTicket/inforList",query:{FlightClass:0,isOneWay:1===this.selectedSegments.length}})}}})},D={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hs-container"},[s("c-header",{attrs:{title:e.$t("base.Rescheduled"),isBackNav:""}}),e._v(" "),s("hs-scroll",{ref:"tableView",staticClass:"table-view",attrs:{data:[e.details],options:e.tableViewOptions},on:{"pulling-down":e._getData}},[s("ul",[s("div",{staticClass:"warning"},[e._v(e._s(e.$t("base.ReminderPassengersWhoHaveCheckedInMustFirstCancelTheCheckIn")))]),e._v(" "),e.details.Segments&&!e.noValue(JSON.stringify(e.details.Segments))?s("hs-section",e._l(e.details.Segments,function(t,a){return s("div",{key:a,staticStyle:{width:"100%"},on:{click:function(t){e._toggleSegmentSelect(a)}}},[s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"travel-details"},[s("div",{staticClass:"left"},[s("div",{staticClass:"time"},[s("div",{staticClass:"mark"},[e._v(e._s(e._showSegmentTitle(a)))]),e._v(" "),s("p",[e._v(e._s(e.beTime(t.DepartDate,"MM月dd日"))+" "+e._s(e.getWeeks(e.beTime(t.DepartDate)))+" "+e._s(t.DepartCityName)+" - "+e._s(t.ArrivalCityName))])]),e._v(" "),s("div",{staticClass:"plane"},[s("div",{staticClass:"logo",style:{"background-image":"url("+t.AirLineLogoUrl+")"}}),e._v(" "),s("p",[e._v(e._s(t.AirLineName)),[e._v(" "),e.noValue(t.ActualCarryFlightNo)?e._e():s("span",[e._v(e._s(e.$t("base.CodeShare")))])],e._v(" "+e._s(t.FlightNo)),e.noValue(t.Plane)?e._e():[e._v(" | "+e._s(t.Plane))],e.noValue(t.Meal)?e._e():[e._v(" | "+e._s(t.Meal))]],2)]),e._v(" "),s("div",{staticClass:"plane"},[e.noValue(t.ActualCarryFlightNo)?e._e():s("p",[e._v(e._s(e.$t("base.OperatedBy"))+" "+e._s(t.ActualCarryFlightNo))])]),e._v(" "),s("div",{staticClass:"details"},[s("div",{staticClass:"source"},[s("p",[e._v(e._s(e.beTime(t.DepartDate,"hh:mm")))]),e._v(" "),s("p",[e._v(e._s(t.DepartAirportName)+" "+e._s(t.DepartTerminal))])]),e._v(" "),s("div",{staticClass:"to"},[t.StopOver?s("div",{staticClass:"stopOver-logo"},[s("p",[e._v(e._s(e.$t("base.By")))])]):s("div",{staticClass:"logo"}),e._v(" "),s("div",{staticClass:"dashed"}),e._v(" "),t.StopOver?s("p",{staticClass:"stopOver"},[e._v(e._s(t.StopOver.StopCity))]):e._e()]),e._v(" "),s("div",{staticClass:"destination"},[s("p",[e._v(e._s(e.beTime(t.ArrivalDate,"hh:mm"))),t.AddDays>0?s("span",[e._v("+"+e._s(t.AddDays))]):e._e()]),e._v(" "),s("p",[e._v(e._s(t.ArrivalAirportName)+" "+e._s(t.ArrivalTerminal))])])])]),e._v(" "),s("div",{staticClass:"right"},[t.isSelected?s("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/base/check-box/check-box.png')"}}):s("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/base/check-box/check-box-default.png')"}})])])]),e._v(" "),s("hs-cell-1",{attrs:{showLogo:!1},nativeOn:{click:function(s){s.stopPropagation(),e._getFlightCabinRule(t.Rule)}}},[s("div",{staticClass:"cost-details"},[s("div",{staticClass:"details"},[s("div",[s("span",[e._v(e._s(e.$t("base.AirTickets")))]),s("span",[e._v("￥"+e._s(t.SalePrice?t.SalePrice:0))])]),e._v(" "),s("div",[s("span",[e._v(e._s(e.$t("base.PlaneConstruction"))+" / "+e._s(e.$t("base.Fuel")))]),e._v(" "),s("span",[e._v("\n                    ￥"+e._s((t.FuelOilTax?t.FuelOilTax:0)+(t.AirportTax?t.AirportTax:0))+"\n                  ")])])]),e._v(" "),s("p",[e._v(e._s(e.$t("base.TicketRestrictions"))+" >")])])])],1)})):e._e(),e._v(" "),e.selectedSegments.length>0?s("hs-section",[e.selectedSegments[0]?s("hs-cell1",{nativeOn:{click:function(t){e.showWhenGo=!0}}},[s("div",{staticClass:"travel-date"},[s("p",[e._v(e._s(e.$t("base.DepartureDate"))+"  "+e._s(e.flightOrder.GoSelectedFlight.DepartDate)+" "),s("span",[e._v(e._s(e.getWeeks(e.flightOrder.GoSelectedFlight.DepartDate)))])])])]):e._e(),e._v(" "),e.selectedSegments[1]?s("hs-cell1",{nativeOn:{click:function(t){e.showWhenBack=!0}}},[s("div",{staticClass:"travel-date"},[s("p",[e._v(e._s(e.$t("base.ArrivalDate"))+"  "+e._s(e.flightOrder.BackSelectedFlight.DepartDate)+" "),s("span",[e._v(e._s(e.getWeeks(e.flightOrder.BackSelectedFlight.DepartDate)))])])])]):e._e()],1):e._e()],1)]),e._v(" "),s("div",{staticClass:"footer"},[s("hs-button",{attrs:{width:"50%",height:"40px"},on:{click:e._gotoSearch}},[e._v(e._s(e.$t("base.Search")))])],1),e._v(" "),s("c-return-explain",{attrs:{details:e.returnExplainDetails},model:{value:e.showExplain,callback:function(t){e.showExplain=t},expression:"showExplain"}}),e._v(" "),s("hs-date-picker",{attrs:{date:e.flightOrder.GoSelectedFlight.DepartDate,title:e.$t("base.DepartureDate")},on:{changeDate:e._setDateWhenGo},model:{value:e.showWhenGo,callback:function(t){e.showWhenGo=t},expression:"showWhenGo"}}),e._v(" "),s("hs-date-picker",{attrs:{date:e.flightOrder.BackSelectedFlight.DepartDate,overdueDate:e.flightOrder.GoSelectedFlight.DepartDate,title:e.$t("base.ReturnDate")},on:{changeDate:e._setDateWhenBack},model:{value:e.showWhenBack,callback:function(t){e.showWhenBack=t},expression:"showWhenBack"}})],1)},staticRenderFns:[]};var S=s("VU/8")(u,D,!1,function(e){s("kfnR")},"data-v-1ac02538",null);t.default=S.exports},kfnR:function(e,t){}});
//# sourceMappingURL=59.fc3b554c636c51fa9407.js.map