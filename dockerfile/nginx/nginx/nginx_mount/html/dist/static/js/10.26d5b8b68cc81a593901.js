webpackJsonp([10],{"3WQ9":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("BO1k"),i=a.n(s),n=a("ifoU"),r=a.n(n),o=a("woOf"),l=a.n(o),c=a("Dd8w"),u=a.n(c),d=a("mvHQ"),h=a.n(d),p=a("mtWM"),g=a.n(p),_=a("w8HC"),v=a("5Xkm"),m=a("CCVD"),f=a("SKRv"),C=a("FZO4"),T=a("vgdM"),S=a("4aFc"),b=a("LrqJ"),y=a("bJna"),O=a("yyVE"),k=a("EqUB"),R=a("C0NF"),P=a("9Vmw"),$=a("QRZS"),D=a("2lc2"),N=a("4i0H"),w=a("7+uW"),I=a("NYxO"),A=a("gyMJ"),V={text:w.a.prototype.$t("base.CompanyPayment"),value:1},B={text:w.a.prototype.$t("base.PersonalPayment"),value:2},E={text:w.a.prototype.$t("base.CompanyPayment")+"("+w.a.prototype.$t("base.Prepayments")+")",value:3},x={beforeRouteEnter:function(e,t,a){a(function(e){e.noValue(e.trainOrder.TravelType)?e.$router.replace("/home"):e.noValue(h()(e.details))&&(e.details={},e._getDetails())})},beforeRouteLeave:function(e,t,a){this.$refs.CPassenger&&this.$refs.CPassenger.show?(this.$refs.CPassenger.close(),a(!1)):this.$refs.PassengerDetails&&this.$refs.PassengerDetails.show?(this.$refs.PassengerDetails.close(),a(!1)):"/train/bookConfirm"!==e.path&&"/train/query"!==e.path&&"/home"!==e.path?this._showTipDialog(this.$t("TM.YourOrderHasNotBeenFilledOut"),function(){a()},function(){a(!1)}):(this.showContacts=!1,this.showPriceDetail=!1,this.showCustomItem=!1,this.showViolationRank=!1,this.showTableTime=!1,this.showRulesDialog=!1,a())},computed:u()({},Object(I.c)(["trainOrder"]),{purpose:{get:function(){return this.trainOrder.Purpose},set:function(e){var t=JSON.parse(h()(this.trainOrder));t.Purpose=e,this.SET_TRAIN_ORDER(t)}},authorizationCode:{get:function(){return this.trainOrder.AuthorizationCode},set:function(e){var t=JSON.parse(h()(this.trainOrder));t.AuthorizationCode=e,this.SET_TRAIN_ORDER(t)}},deliveryAddress:{get:function(){return this.trainOrder.DeliveryAddress},set:function(e){var t=JSON.parse(h()(this.trainOrder));t.DeliveryAddress=e,this.SET_TRAIN_ORDER(t)}},serviceCharge:function(){return(this.details.GoChargeInfo&&this.details.GoChargeInfo.ServiceCharge?this.details.GoChargeInfo.ServiceCharge:0)+(this.details.BackChargeInfo&&this.details.BackChargeInfo.ServiceCharge?this.details.BackChargeInfo.ServiceCharge:0)},totalPrice:function(){return((this.details.GoChargeInfo&&this.details.GoChargeInfo.SeatPrice?this.details.GoChargeInfo.SeatPrice:0)+(this.details.BackChargeInfo&&this.details.BackChargeInfo.SeatPrice?this.details.BackChargeInfo.SeatPrice:0)+this.serviceCharge)*this.trainOrder.Passengers.length},goSeatType:function(){if(this.trainOrder.GoSelectedRoute&&!this.noValue(this.trainOrder.GoSelectedRoute.TrainCode)){var e=this.trainOrder.GoSelectedRoute.TypeCode;return"1"===e?3:"3"===e?4:"4"===e?5:0}return 0},isShowSeat:function(){if(this.trainOrder.GoSelectedRoute&&!this.noValue(this.trainOrder.GoSelectedRoute.TrainCode)){var e=this.trainOrder.GoSelectedRoute.TypeCode;if("4"===e||"9"===e)return!0}if(this.trainOrder.BackSelectedRoute&&!this.noValue(this.trainOrder.BackSelectedRoute.TrainCode)){var t=this.trainOrder.BackSelectedRoute.TypeCode;if("4"===t||"9"===t)return!0}return!1},backSeatType:function(){if(this.trainOrder.BackSelectedRoute&&!this.noValue(this.trainOrder.BackSelectedRoute.TrainCode)){var e=this.trainOrder.BackSelectedRoute.TypeCode;return"1"===e?3:"3"===e?4:"4"===e?5:0}return 0},passengerCount:function(){return this.trainOrder.Passengers.length}}),filters:{filterPayType:function(e){switch(e){case 1:return w.a.prototype.$t("base.CompanyPayment");case 2:return w.a.prototype.$t("base.PersonalPayment");case 3:return w.a.prototype.$t("base.CompanyPayment")+"("+w.a.prototype.$t("base.Prepayments")+")";default:return w.a.prototype.$t("base.Unknown")}}},data:function(){return{details:{},showContacts:!1,editingContact:{},showPriceDetail:!1,showCustomItem:!1,showViolationRank:!1,violationRankDetails:{},showTableTime:!1,currentTableTime:{},showRulesDialog:!1,rulesHtml:"",editingPassenger:{},seatsSelectTypeGo:[],seatsSelectTypeBack:[],isAcptStanding:!0}},methods:u()({},Object(I.d)(["SET_TRAIN_ORDER"]),{_getDetails:function(){var e=this,t={DepartStationCode:this.trainOrder.DepartStationCode,ArrivalStationCode:this.trainOrder.ArrivalStationCode,GoSelectedTrainInfo:{TrainCode:this.trainOrder.GoSelectedRoute.TrainCode,SeatTypeCode:this.trainOrder.GoSelectedRoute.TypeCode,DepartDate:this.trainOrder.GoSelectedRoute.DepartureDateTime,ChooseSeats:""},BackSelectedTrainInfo:this.noValue(this.trainOrder.BackSelectedRoute.TrainCode)?null:{TrainCode:this.trainOrder.BackSelectedRoute.TrainCode,SeatTypeCode:this.trainOrder.BackSelectedRoute.TypeCode,DepartDate:this.trainOrder.BackSelectedRoute.DepartureDateTime,ChooseSeats:""},TravelType:this.trainOrder.TravelType};Object(A._30)(t).then(function(t){if(e.details=t.ResultData,!e.noValue(h()(e.details.DefaultContacts))){var a=JSON.parse(h()(e.trainOrder));a.Contacts=[l()(e.details.DefaultContact,{openDelete:!1})],e.SET_TRAIN_ORDER(a)}e._creatPayTypePicker(e.details.PayTypes),e._creatApproversPicker(e.details.Approvers)})},_creatPayTypePicker:function(e){var t=this,a=[];1===Number(this.trainOrder.TravelType)?a=[B]:e&&e.forEach(function(e){1===e?a.push(V):2===e?a.push(B):3===e&&a.push(E)});var s=JSON.parse(h()(this.trainOrder));s.PayType=a[0]?a[0].value:null,this.SET_TRAIN_ORDER(s),this.payTypePicker=this.$createPicker({title:this.$t("base.PaymentWay"),data:[a],cancelTxt:this.$t("base.Cancel"),confirmTxt:this.$t("base.Confirm"),onSelect:function(e,a,s){var i=JSON.parse(h()(t.trainOrder));i.PayType=e[0],t.SET_TRAIN_ORDER(i)}})},_creatApproversPicker:function(e){var t=this,a=[];e&&e.forEach(function(e){a.push({text:e.Name,value:e.ID})}),this.approversPicker=this.$createPicker({title:this.$t("base.SelectApprover"),data:[a],cancelTxt:this.$t("base.Cancel"),confirmTxt:this.$t("base.Confirm"),onSelect:function(e,a,s){var i=JSON.parse(h()(t.trainOrder));i.AppointVettingPersonID=e[0],i.AppointVettingPersonName=s[0],t.SET_TRAIN_ORDER(i)}})},_getNoticeRules:function(){var e=this;g.a.get("/static/html/train_notice.html").then(function(t){e.rulesHtml=t.data,e.showRulesDialog=!0})},_delegateWithContacts:function(e){var t=JSON.parse(h()(this.trainOrder));t.Contacts.splice(e.index,1,l()(e,{openDelete:!1})),this.SET_TRAIN_ORDER(t)},_setContactsOpenDelete:function(e,t){var a=JSON.parse(h()(this.trainOrder));a.Contacts[t].openDelete=e,this.SET_TRAIN_ORDER(a)},_gotoContactsDetails:function(e){this.trainOrder.Contacts[e].openDelete?this._setContactsOpenDelete(!1,e):(this.editingContact=l()(JSON.parse(h()(this.trainOrder.Contacts[e])),{index:e}),this.showContacts=!0)},_deleteContact:function(e){var t=JSON.parse(h()(this.trainOrder));t.Contacts.splice(e,1),this.SET_TRAIN_ORDER(t)},_delegateWithFrequentContacts:function(e){var t=JSON.parse(h()(this.trainOrder));t.Contacts=e,this.SET_TRAIN_ORDER(t)},_delegateWithPassengerDetails:function(e){var t=JSON.parse(h()(this.trainOrder));t.Passengers.splice(e.index,1,e),this.SET_TRAIN_ORDER(t)},_delegateWithConfirm:function(e){var t=JSON.parse(h()(this.trainOrder));t.Passengers=e,this.SET_TRAIN_ORDER(t)},_setPassengerOpenDelete:function(e,t){var a=JSON.parse(h()(this.trainOrder));a.Passengers[t].openDelete=e,this.SET_TRAIN_ORDER(a)},_gotoPassengerDetails:function(e){this.trainOrder.Passengers[e].openDelete?this._setPassengerOpenDelete(!1,e):(this.editingPassenger=l()(JSON.parse(h()(this.trainOrder.Passengers[e])),{index:e}),this.$refs.PassengerDetails.open())},_deletePassenger:function(e){var t=JSON.parse(h()(this.trainOrder));t.Passengers.splice(e,1),this.SET_TRAIN_ORDER(t),this.seatsSelectTypeGo=[],this.seatsSelectTypeBack=[]},_seatHaveSelect:function(e,t,a){return 1===e?this.seatsSelectTypeGo.filter(function(e){return e.row===t&&e.seatNo===a}).length>0:2===e?this.seatsSelectTypeBack.filter(function(e){return e.row===t&&e.seatNo===a}).length>0:void 0},_seatSelection:function(e,t,a){this._seatHaveSelect(e,t,a)||(1===e&&(this.seatsSelectTypeGo.length===this.passengerCount&&this.seatsSelectTypeGo.shift(),this.seatsSelectTypeGo.push({row:t,seatNo:a})),2===e&&(this.seatsSelectTypeBack.length===this.passengerCount&&this.seatsSelectTypeBack.shift(),this.seatsSelectTypeBack.push({row:t,seatNo:a})))},_delegateWithCustomItem:function(e){var t=JSON.parse(h()(this.trainOrder));t.CustomItem=e,this.SET_TRAIN_ORDER(t)},_gotoConfirm:function(){var e=this;if(this.noValue(h()(this.details)))return this.$toast(this.$t("TM.TheSysteIsBusyPleaseReOperate")),void this.$router.replace("/home");if(this.seatsSelectTypeGo.length>0&&this.seatsSelectTypeGo.length<this.trainOrder.Passengers.length||this.seatsSelectTypeBack.length>0&&this.seatsSelectTypeBack.length<this.trainOrder.Passengers.length)this.$toast(this.$t("TM.YouAlsoHaveUnselectedPassengers"));else if(0!==this.trainOrder.Passengers.length)if(this.details.IsRequiredCustomItem&&this.noValue(h()(this.trainOrder.CustomItem)))this.$toast(this.$t("TM.PleaseSelect","function",this.details.CustomItemName));else if(0!==this.trainOrder.Contacts.length)if(this.details.IsRequiredPurpose&&this.noValue(this.trainOrder.Purpose))this.$toast(this.$t("TM.PleaseFill","function",this.$t("base.TravelPurpose")));else if(this.trainOrder.Purpose.length>30)this.$toast(this.$t("TM.LengthMustNotExceedXDigits","function",{name:this.$t("base.TravelPurpose"),number:30}));else if(3===this.details.VettingType&&this.details.EnableVetting&&this.noValue(this.trainOrder.AppointVettingPersonName))this.$toast(this.$t("TM.PleaseSelect","function",this.$t("base.Approver")));else if(this.details.IsRequiredAuthorizationCode&&this.noValue(this.trainOrder.AuthorizationCode))this.$toast(this.$t("TM.PleaseFill","function",this.$t("base.AuthorizationCode")));else if(this.trainOrder.AuthorizationCode.length>20)this.$toast(this.$t("TM.LengthMustNotExceedXDigits","function",{name:this.$t("base.AuthorizationCode"),number:20}));else if(1!==this.trainOrder.PayType&&2!==this.trainOrder.PayType&3!==this.trainOrder.PayType)this.$toast(this.$t("TM.PleaseSelect","function",this.$t("base.PaymentWay")));else if(this.details.IsNeedDelivery&&2!==this.trainOrder.DeliveryType&&3!==this.trainOrder.DeliveryType&&this.noValue(this.trainOrder.DeliveryAddress))this.$toast(this.$t("TM.PleaseFill","function",this.$t("base.DeliveryAddress")));else{var t=!0,a=!1,s=void 0;try{for(var n,o=i()(this.trainOrder.Passengers);!(t=(n=o.next()).done);t=!0){var l=n.value;if(this.noValue(l.Mobile))return void this.$toast(this.$t("TM.PleaseFillX","function",{name:l.Name,thing:this.$t("base.CellphoneNumber")}));if(this.details.IsRequiredCostCenter&&this.noValue(h()(l.CostCenter)))return void this.$toast(this.$t("TM.PleaseFillX","function",{name:l.Name,thing:this.$t("base.CostCenter")}));if(this.details.IsRequiedDepartment&&this.noValue(h()(l.Department)))return void this.$toast(this.$t("TM.PleaseFillX","function",{name:l.Name,thing:this.$t("base.Department")}));if(this.details.IsRequiredBusinessUnit&&this.noValue(h()(l.BusinessUnit)))return void this.$toast(this.$t("TM.PleaseFillX","function",{name:l.Name,thing:this.details.BusinessUnitName}));if(this.noValue(h()(l.Credential))||this.noValue(l.Credential.CredentialNo))return void this.$toast(this.$t("TM.PleaseFillX","function",{name:l.Name,thing:this.$t("base.ID")}))}}catch(e){a=!0,s=e}finally{try{!t&&o.return&&o.return()}finally{if(a)throw s}}var c=!0,u=!1,d=void 0;try{for(var p,g=i()(this.trainOrder.Contacts);!(c=(p=g.next()).done);c=!0){var _=p.value;if(this.noValue(_.Mobile))return void this.$toast(this.$t("TM.PleaseFillX","function",{name:_.Name,thing:this.$t("base.CellphoneNumber")}));if(this.noValue(_.Email)&&(_.IsSendBookEmail||_.IsSendIssuedEmail||_.IsSendConfirmEmail))return void this.$toast(this.$t("TM.PleaseFillX","function",{name:_.Name,thing:this.$t("base.Email")}))}}catch(e){u=!0,d=e}finally{try{!c&&g.return&&g.return()}finally{if(u)throw d}}var v=new r.a;if(this.trainOrder.Contacts.filter(function(e){return!v.has(e.Mobile)&&v.set(e.Mobile,1)}).length<this.trainOrder.Contacts.length)this.$toast(this.$t("TM.ThereMustBeNoContactWithTheSamePhoneNumber"));else{var m=JSON.parse(h()(this.trainOrder));m.Passengers.forEach(function(e,t){m.Passengers[t].Name=0===e.DefaultNameType?e.ChName:e.LastName+" "+e.FirstName}),this.SET_TRAIN_ORDER(m);var f=this.trainOrder.Passengers.map(function(e){return{Name:e.Name,Credential:e.Credential}});Object(A._43)({Passengers:f}).then(function(t){t.ResultData.IsSuccess?0===Number(e.trainOrder.TravelType)?e._checkReason():e._nextStep():e.$toast(e.$t("TM.XIDIsWrong","function",t.ResultData.Passengers.join(",")))})}}else this.$toast(this.$t("TM.PleaseSelect","function",this.$t("base.Contacts")));else this.$toast(this.$t("TM.PleaseFill","function",this.$t("base.Passenger")))},_checkReason:function(){var e=this,t={DepartStationCode:this.trainOrder.DepartStationCode,ArrivalStationCode:this.trainOrder.ArrivalStationCode,GoSelectedTrainInfo:{TrainCode:this.trainOrder.GoSelectedRoute.TrainCode,SeatTypeCode:this.trainOrder.GoSelectedRoute.TypeCode,DepartDate:this.trainOrder.GoSelectedRoute.DepartureDateTime,ChooseSeats:""},BackSelectedTrainInfo:this.noValue(this.trainOrder.BackSelectedRoute.TrainCode)?null:{TrainCode:this.trainOrder.BackSelectedRoute.TrainCode,SeatTypeCode:this.trainOrder.BackSelectedRoute.TypeCode,DepartDate:this.trainOrder.BackSelectedRoute.DepartureDateTime,ChooseSeats:""},CheckPassengers:this.trainOrder.Passengers,CustomItem:this.noValue(h()(this.trainOrder.CustomItem))?null:this.trainOrder.CustomItem,AppointVettingPersonID:this.noValue(this.trainOrder.AppointVettingPersonID)?null:this.trainOrder.AppointVettingPersonID,AppointVettingPersonName:this.noValue(this.trainOrder.AppointVettingPersonName)?null:this.trainOrder.AppointVettingPersonName,PayType:this.trainOrder.PayType};Object(A._29)(t).then(function(t){if(t.ResultData.IsNeedVetting&&!e.noValue(t.ResultData.VettingProcessList)){var a=JSON.parse(h()(e.trainOrder));a.VettingProcessList=t.ResultData.VettingProcessList,e.SET_TRAIN_ORDER(a)}if(t.ResultData.IsViolate){if(1===t.ResultData.ViolateRankResult)e.violationRankDetails=t.ResultData,e.showViolationRank=!0;else if(2===t.ResultData.ViolateRankResult){var s=t.ResultData,i=s.GoPassengers,n=s.BackPassengers,r=void 0,o=void 0,l=void 0;e.noValue(h()(i))||(r=e.$t("TM.XViolateAndXCannotBook","function",{violatedName:i.map(function(e){return e.Name}).join(","),BookingName:i.filter(function(e){return 2===e.ViolateRankResult}).map(function(e){return e.Name}).join(",")})),e.noValue(h()(n))||(o=e.$t("TM.XViolateAndXCannotBook","function",{violatedName:n.map(function(e){return e.Name}).join(","),BookingName:n.filter(function(e){return 2===e.ViolateRankResult}).map(function(e){return e.Name}).join(",")})),l=r&&o?e.$t("base.Going")+r+"\n"+e.$t("base.Return")+o:o?e.$t("base.Return")+o:r,e.$toast(""+l)}}else{var c=JSON.parse(h()(e.trainOrder));c.ViolationRankName="",c.ViolationRankReason="",e.SET_TRAIN_ORDER(c),e._nextStep()}})},_nextStep:function(){var e=JSON.parse(h()(this.trainOrder)),t="",a=!0,s=!1,n=void 0;try{for(var r,o=i()(this.seatsSelectTypeGo);!(a=(r=o.next()).done);a=!0){var l=r.value;t+=l.row+l.seatNo}}catch(e){s=!0,n=e}finally{try{!a&&o.return&&o.return()}finally{if(s)throw n}}e.GoSelectedRoute.ChooseSeats=t;var c="",u=!0,d=!1,p=void 0;try{for(var g,_=i()(this.seatsSelectTypeBack);!(u=(g=_.next()).done);u=!0){var v=g.value;c+=v.row+v.seatNo}}catch(e){d=!0,p=e}finally{try{!u&&_.return&&_.return()}finally{if(d)throw p}}e.BackSelectedRoute.ChooseSeats=c,e.BackSelectedRoute.IsAcptStanding=this.isAcptStanding,this.SET_TRAIN_ORDER(e),this.$router.push({name:"trainBookConfirm",params:{details:this.details}})},_clickTableTime:function(e){this.currentTableTime={DepartStationCode:e.DepartStationCode,DepartStationName:e.DepartStationName,ArrivalStationCode:e.ArrivalStationCode,ArrivalStationName:e.ArrivalStationName,DepartDate:e.DepartureDateTime,TrainNo:e.TrainNo,TrainCode:e.TrainCode},this.showTableTime=!0},_showTipDialog:function(e,t,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.$t("base.Confirm");this.dialog=this.$createDialog({type:"confirm",icon:"cubeic-alert",title:this.$t("base.Tips"),content:e,confirmBtn:{text:s,active:!0,disabled:!1,href:"javascript:"},cancelBtn:{text:this.$t("base.Cancel"),active:!1,disabled:!1,href:"javascript:"},onConfirm:t,onCancel:a}),this.dialog.show()}}),components:{CContacts:_.a,CFrequentContacts:v.a,CHeader:m.a,CPassenger:f.a,CTableTime:function(){return a.e(69).then(a.bind(null,"fnlI"))},CustomItem:C.a,HsButton:T.a,HsCell1:S.a,HsCellSmallTitle:b.a,HsDialog:y.a,HsGradientButton:O.a,HsNull:k.a,HsScroll:R.a,HsSection:P.a,HsTab:$.a,PassengerDetails:D.a,TrainRoute:N.a,ViolationRank:function(){return a.e(70).then(a.bind(null,"83cM"))}}},M={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hs-container"},[a("c-header",{attrs:{isBackNav:"",title:e.$t("base.TrainTicketsBooking")+"-"+(0===Number(e.trainOrder.TravelType)?e.$t("base.Business"):e.$t("base.Personal"))}}),e._v(" "),a("hs-scroll",{ref:"tableView",staticClass:"table-view",attrs:{data:[e.details]}},[a("train-route",{attrs:{route:e.trainOrder.GoSelectedRoute},on:{delegateForTableTime:e._clickTableTime,delegateNotice:e._getNoticeRules}}),e._v(" "),a("train-route",{attrs:{route:e.trainOrder.BackSelectedRoute},on:{delegateForTableTime:e._clickTableTime,delegateNotice:e._getNoticeRules}}),e._v(" "),a("hs-section",[a("hs-cell-1",{attrs:{showLogo:!1}},[a("div",{staticClass:"cell-passenger"},[a("div",{staticClass:"cell-passenger-top",attrs:{type:e.language}},[a("div",[a("p",[e._v(e._s(e.$t("base.PassengerInformation")))]),e._v(" "),a("span",[e._v(e._s(e.$t("base.OnlyAdultTicketBookingsAreSupported")))])]),e._v(" "),a("button",{on:{click:function(t){e.$refs.CPassenger.open()}}},[e._v(e._s(e.$t("base.Add"))+" + ")])])])]),e._v(" "),e._l(e.trainOrder.Passengers,function(t,s){return a("hs-cell-1",{key:"passengers"+s},[a("div",{staticClass:"passenger-infor",style:{transform:"translateX("+(e.trainOrder.Passengers[s].openDelete?"-65px":"0px")+")"}},[a("div",{staticClass:"left",on:{click:function(t){e._setPassengerOpenDelete(!0,s)}}},[a("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/plane-ticket/book/delete.png')"}})]),e._v(" "),a("div",{staticClass:"right",on:{click:function(t){e._gotoPassengerDetails(s)}}},[a("div",{staticClass:"item"},[0===t.DefaultNameType?a("p",{staticClass:"name"},[e._v(e._s(t.ChName))]):a("p",{staticClass:"name"},[e._v(e._s(t.LastName)+" "+e._s(t.FirstName))])]),e._v(" "),t.Credentials&&t.Credentials.filter(function(e){return e.CredentialType===t.DefaultCredentialType})[0]&&t.Credentials.filter(function(e){return e.CredentialType===t.DefaultCredentialType})[0].CredentialNo?a("div",{staticClass:"item"},[a("p",{staticClass:"other-title"},[e._v(e._s(t.Credentials.filter(function(e){return e.CredentialType===t.DefaultCredentialType})[0].CredentialName))]),e._v(" "),a("p",{staticClass:"other-value"},[e._v(e._s(t.Credentials.filter(function(e){return e.CredentialType===t.DefaultCredentialType})[0].CredentialNo))])]):e._e(),e._v(" "),t.Mobile?a("div",{staticClass:"item"},[a("p",{staticClass:"other-title"},[e._v(e._s(e.$t("base.CellphoneNumber")))]),e._v(" "),a("p",{staticClass:"other-value"},[e._v(e._s(t.Mobile))])]):e._e(),e._v(" "),a("div",{staticClass:"delete",on:{click:function(t){t.stopPropagation(),e._deletePassenger(s)}}},[e._v(e._s(e.$t("base.Delete")))])])])])}),e._v(" "),a("hs-cell-1",{attrs:{showLogo:!1}},[a("div",{staticClass:"cell-passenger-price"},[a("p",[e._v(e._s(e.$t("base.ServiceFee"))+" ￥"+e._s(e.serviceCharge)+e._s(e.$t("base.PreQuantifier")))])])]),e._v(" "),e.goSeatType>0&&e.passengerCount>0?a("hs-cell-1",{attrs:{showLogo:!1}},[a("div",{staticClass:"cell-selection"},[a("div",{staticClass:"cell-selection-top"},[a("p",[e._v(e._s(e.$t("base.Selection"))),e.backSeatType>0?[e._v(" ("+e._s(e.$t("base.Going"))+")")]:e._e()],2),e._v(" "),a("p",[e._v(e._s(e.seatsSelectTypeGo.length)+"/"+e._s(e.passengerCount))])]),e._v(" "),a("div",{staticClass:"cell-selection-bottom",attrs:{type:e.language}},[a("p",[e._v(e._s(e.$t("base.Window")))]),e._v(" "),a("button",{style:{"background-image":e._seatHaveSelect(1,1,"a")?"url('static/image/train/seat_red_a.png')":"url('static/image/train/seat_a.png')"},on:{click:function(t){e._seatSelection(1,1,"a")}}}),e._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:3!==e.goSeatType&&4!==e.goSeatType,expression:"goSeatType!==3 && goSeatType!==4"}],style:{"background-image":e._seatHaveSelect(1,1,"b")?"url('static/image/train/seat_red_b.png')":"url('static/image/train/seat_b.png')"},on:{click:function(t){e._seatSelection(1,1,"b")}}}),e._v(" "),a("button",{style:{"background-image":e._seatHaveSelect(1,1,"c")?"url('static/image/train/seat_red_c.png')":"url('static/image/train/seat_c.png')"},on:{click:function(t){e._seatSelection(1,1,"c")}}}),e._v(" "),a("p",[e._v(e._s(e.$t("base.Aisle")))]),e._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:3!==e.goSeatType,expression:"goSeatType!==3"}],style:{"background-image":e._seatHaveSelect(1,1,"d")?"url('static/image/train/seat_red_d.png')":"url('static/image/train/seat_d.png')"},on:{click:function(t){e._seatSelection(1,1,"d")}}}),e._v(" "),a("button",{style:{"background-image":e._seatHaveSelect(1,1,"f")?"url('static/image/train/seat_red_f.png')":"url('static/image/train/seat_f.png')"},on:{click:function(t){e._seatSelection(1,1,"f")}}}),e._v(" "),a("p",[e._v(e._s(e.$t("base.Window")))])]),e._v(" "),e.passengerCount>1?a("div",{staticClass:"cell-selection-bottom",attrs:{type:e.language}},[a("p",[e._v(e._s(e.$t("base.Window")))]),e._v(" "),a("button",{style:{"background-image":e._seatHaveSelect(1,2,"a")?"url('static/image/train/seat_red_a.png')":"url('static/image/train/seat_a.png')"},on:{click:function(t){e._seatSelection(1,2,"a")}}}),e._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:3!==e.goSeatType&&4!==e.goSeatType,expression:"goSeatType!==3 && goSeatType!==4"}],style:{"background-image":e._seatHaveSelect(1,2,"b")?"url('static/image/train/seat_red_b.png')":"url('static/image/train/seat_b.png')"},on:{click:function(t){e._seatSelection(1,2,"b")}}}),e._v(" "),a("button",{style:{"background-image":e._seatHaveSelect(1,2,"c")?"url('static/image/train/seat_red_c.png')":"url('static/image/train/seat_c.png')"},on:{click:function(t){e._seatSelection(1,2,"c")}}}),e._v(" "),a("p",[e._v(e._s(e.$t("base.Aisle")))]),e._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:3!==e.goSeatType,expression:"goSeatType!==3"}],style:{"background-image":e._seatHaveSelect(1,2,"d")?"url('static/image/train/seat_red_d.png')":"url('static/image/train/seat_d.png')"},on:{click:function(t){e._seatSelection(1,2,"d")}}}),e._v(" "),a("button",{style:{"background-image":e._seatHaveSelect(1,2,"f")?"url('static/image/train/seat_red_f.png')":"url('static/image/train/seat_f.png')"},on:{click:function(t){e._seatSelection(1,2,"f")}}}),e._v(" "),a("p",[e._v(e._s(e.$t("base.Window")))])]):e._e()])]):e._e(),e._v(" "),e.backSeatType>0&&e.passengerCount>0?a("hs-cell-1",{attrs:{showLogo:!1}},[a("div",{staticClass:"cell-selection"},[a("div",{staticClass:"cell-selection-top"},[a("p",[e._v(e._s(e.$t("base.Selection"))+" ("+e._s(e.$t("base.Return"))+")")]),e._v(" "),a("p",[e._v(e._s(e.seatsSelectTypeBack.length)+"/"+e._s(e.passengerCount))])]),e._v(" "),a("div",{staticClass:"cell-selection-bottom",attrs:{type:e.language}},[a("p",[e._v(e._s(e.$t("base.Window")))]),e._v(" "),a("button",{style:{"background-image":e._seatHaveSelect(2,1,"a")?"url('static/image/train/seat_red_a.png')":"url('static/image/train/seat_a.png')"},on:{click:function(t){e._seatSelection(2,1,"a")}}}),e._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:3===e.goSeatType||4===e.goSeatType,expression:"goSeatType===3||goSeatType===4"}],style:{"background-image":e._seatHaveSelect(2,1,"b")?"url('static/image/train/seat_red_b.png')":"url('static/image/train/seat_b.png')"},on:{click:function(t){e._seatSelection(2,1,"b")}}}),e._v(" "),a("button",{style:{"background-image":e._seatHaveSelect(2,1,"c")?"url('static/image/train/seat_red_c.png')":"url('static/image/train/seat_c.png')"},on:{click:function(t){e._seatSelection(2,1,"c")}}}),e._v(" "),a("p",[e._v(e._s(e.$t("base.Aisle")))]),e._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:3===e.goSeatType,expression:"goSeatType===3"}],style:{"background-image":e._seatHaveSelect(2,1,"d")?"url('static/image/train/seat_red_d.png')":"url('static/image/train/seat_d.png')"},on:{click:function(t){e._seatSelection(2,1,"d")}}}),e._v(" "),a("button",{style:{"background-image":e._seatHaveSelect(2,1,"f")?"url('static/image/train/seat_red_f.png')":"url('static/image/train/seat_f.png')"},on:{click:function(t){e._seatSelection(2,1,"f")}}}),e._v(" "),a("p",[e._v(e._s(e.$t("base.Window")))])]),e._v(" "),e.passengerCount>1?a("div",{staticClass:"cell-selection-bottom",attrs:{type:e.language}},[a("p",[e._v(e._s(e.$t("base.Window")))]),e._v(" "),a("button",{style:{"background-image":e._seatHaveSelect(2,2,"a")?"url('static/image/train/seat_red_a.png')":"url('static/image/train/seat_a.png')"},on:{click:function(t){e._seatSelection(2,2,"a")}}}),e._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:3===e.goSeatType||4===e.goSeatType,expression:"goSeatType===3||goSeatType===4"}],style:{"background-image":e._seatHaveSelect(2,2,"b")?"url('static/image/train/seat_red_b.png')":"url('static/image/train/seat_b.png')"},on:{click:function(t){e._seatSelection(2,2,"b")}}}),e._v(" "),a("button",{style:{"background-image":e._seatHaveSelect(2,2,"c")?"url('static/image/train/seat_red_c.png')":"url('static/image/train/seat_c.png')"},on:{click:function(t){e._seatSelection(2,2,"c")}}}),e._v(" "),a("p",[e._v(e._s(e.$t("base.Aisle")))]),e._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:3===e.goSeatType,expression:"goSeatType===3"}],style:{"background-image":e._seatHaveSelect(2,2,"d")?"url('static/image/train/seat_red_d.png')":"url('static/image/train/seat_d.png')"},on:{click:function(t){e._seatSelection(2,2,"d")}}}),e._v(" "),a("button",{style:{"background-image":e._seatHaveSelect(2,2,"f")?"url('static/image/train/seat_red_f.png')":"url('static/image/train/seat_f.png')"},on:{click:function(t){e._seatSelection(2,2,"f")}}}),e._v(" "),a("p",[e._v(e._s(e.$t("base.Window")))])]):e._e()])]):e._e(),e._v(" "),e.isShowSeat?a("hs-cell-1",{attrs:{showLogo:!1},nativeOn:{click:function(t){e.isAcptStanding=!e.isAcptStanding}}},[a("div",{staticClass:"cell-passenger-seat"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isAcptStanding,expression:"!isAcptStanding"}],staticClass:"logo",staticStyle:{"background-image":"url('static/image/base/check-box/check-box-default.png')"}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isAcptStanding,expression:"isAcptStanding"}],staticClass:"logo",staticStyle:{"background-image":"url('static/image/base/check-box/check-box.png')"}}),e._v(" "),a("p",[e._v(e._s(e.$t("base.WhetherToAcceptTheSeatlessTicket")))])])]):e._e()],2),e._v(" "),a("hs-section",[e.details.IsDisplayCustomItem?a("hs-cell-small-title",{attrs:{title:e.details.CustomItemName,type:"disabled-input",value:e.trainOrder.CustomItem?e.trainOrder.CustomItem.Name:"",placeholder:"("+(e.details.IsRequiredCustomItem?e.$t("base.RequiredChoose"):e.$t("base.NotNecessaryChoose"))+") "+e.$t("base.PleaseChoose")},nativeOn:{click:function(t){e.showCustomItem=!0}}}):e._e(),e._v(" "),e.details.IsDisplayPurpose?a("hs-cell-small-title",{attrs:{title:e.$t("base.TravelPurpose"),type:"input",placeholder:"("+(e.details.IsRequiredPurpose?e.$t("base.RequiredFill"):e.$t("base.NotNecessaryFill"))+") "+e.$t("base.PleaseFill"),showLogo:!1},model:{value:e.purpose,callback:function(t){e.purpose=t},expression:"purpose"}}):e._e(),e._v(" "),e.details.IsDisplayAuthorizationCode?a("hs-cell-small-title",{attrs:{title:e.$t("base.AuthorizationCode"),type:"input",placeholder:"("+(e.details.IsRequiredAuthorizationCode?e.$t("base.RequiredFill"):e.$t("base.NotNecessaryFill"))+") "+e.$t("base.PleaseFill"),showLogo:!1},model:{value:e.authorizationCode,callback:function(t){e.authorizationCode=t},expression:"authorizationCode"}}):e._e(),e._v(" "),3===e.details.VettingType&&e.details.EnableVetting?a("hs-cell-small-title",{attrs:{title:e.$t("base.Approver"),type:"disabled-input",value:e.trainOrder.AppointVettingPersonName,placeholder:"("+e.$t("base.RequiredChoose")+") "+e.$t("base.PleaseChoose")},nativeOn:{click:function(t){e.approversPicker.show()}}}):e._e(),e._v(" "),a("hs-cell-small-title",{attrs:{title:e.$t("base.PaymentWay"),type:"disabled-input",value:e._f("filterPayType")(e.trainOrder.PayType)},nativeOn:{click:function(t){e.payTypePicker.show()}}})],1),e._v(" "),a("hs-section",[a("hs-cell-1",{attrs:{value:e.$t("base.ContactInformation"),logoName:"add.png"},nativeOn:{click:function(t){e.$refs.CFrequentContacts.open()}}}),e._v(" "),e._l(e.trainOrder.Contacts,function(t,s){return a("hs-cell-1",{key:s},[a("div",{staticClass:"passenger-infor",style:{transform:"translateX("+(e.trainOrder.Contacts[s].openDelete?"-65px":"0px")+")"}},[a("div",{staticClass:"left",on:{click:function(t){e._setContactsOpenDelete(!0,s)}}},[a("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/plane-ticket/book/delete.png')"}})]),e._v(" "),a("div",{staticClass:"right",on:{click:function(t){e._gotoContactsDetails(s)}}},[a("div",{staticClass:"item"},[a("p",{staticClass:"name"},[e._v(e._s(t.Name))])]),e._v(" "),a("div",{staticClass:"item"},[a("p",{staticClass:"other-title"},[e._v(e._s(e.$t("base.CellphoneNumber")))]),e._v(" "),a("p",{staticClass:"other-value"},[e._v(e._s(t.Mobile?t.Mobile:e.$t("base.Unfilled")))])]),e._v(" "),a("div",{staticClass:"item"},[a("p",{staticClass:"other-title"},[e._v(e._s(e.$t("base.Email")))]),e._v(" "),a("p",{staticClass:"other-value"},[e._v(e._s(t.Email?t.Email:e.$t("base.Unfilled")))])]),e._v(" "),a("div",{staticClass:"delete",on:{click:function(t){t.stopPropagation(),e._deleteContact(s)}}},[e._v(e._s(e.$t("base.Delete")))])])])])})],2)],1),e._v(" "),a("div",{staticClass:"footer",on:{click:function(t){e.showPriceDetail=!e.showPriceDetail}}},[a("div",{staticClass:"footer-price"},[a("p",[e._v("¥"+e._s(e.totalPrice))]),e._v(" "),a("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/base/cell/right_arrow_gray.png')"},style:{transform:e.showPriceDetail?"rotate(90deg)":"rotate(-90deg)"}})]),e._v(" "),a("hs-gradient-button",{attrs:{type:"common",width:"auto",title:e.$t("base.NextStep")},on:{click:e._gotoConfirm}})],1),e._v(" "),a("hs-dialog",{ref:"dialog",attrs:{height:"calc(100% - 50px)"},model:{value:e.showPriceDetail,callback:function(t){e.showPriceDetail=t},expression:"showPriceDetail"}},[a("hs-scroll",{staticClass:"showPriceDetail"},[a("hs-cell-1",{attrs:{showLogo:!1}},[a("div",{staticClass:"footer-price-cell"},[a("p",[e._v(e._s(e.trainOrder.GoSelectedRoute?e.trainOrder.GoSelectedRoute.TypeName:e.$t("base.Price"))),e.details.BackChargeInfo?[e._v("("+e._s(e.$t("base.Going"))+")")]:e._e()],2),e._v(" "),a("p",[a("span",[e._v("¥"+e._s(e.details.GoChargeInfo&&e.details.GoChargeInfo.SeatPrice))]),a("span",[e._v(" x "+e._s(e.trainOrder.Passengers.length)+e._s(e.$t("base.QuantifierPeople")))])])])]),e._v(" "),e.details.BackChargeInfo?a("hs-cell-1",{attrs:{showLogo:!1}},[a("div",{staticClass:"footer-price-cell"},[a("p",[e._v(e._s(e.trainOrder.BackSelectedRoute?e.trainOrder.BackSelectedRoute.TypeName:e.$t("base.Price"))+"("+e._s(e.$t("base.Return"))+")")]),e._v(" "),a("p",[a("span",[e._v("¥"+e._s(e.details.BackChargeInfo&&e.details.BackChargeInfo.SeatPrice))]),a("span",[e._v(" x "+e._s(e.trainOrder.Passengers.length)+e._s(e.$t("base.QuantifierPeople")))])])])]):e._e(),e._v(" "),a("hs-cell-1",{attrs:{showLogo:!1}},[a("div",{staticClass:"footer-price-cell"},[a("p",[e._v(e._s(e.$t("base.ServiceFee")))]),e._v(" "),a("p",[a("span",[e._v("￥"+e._s(e.serviceCharge))]),a("span",[e._v(" x "+e._s(e.trainOrder.Passengers.length)+e._s(e.$t("base.QuantifierPeople")))])])])])],1)],1),e._v(" "),a("c-passenger",{ref:"CPassenger",attrs:{XOrder:e.trainOrder,BookInit:e.details,OrderBusinessType:10},on:{delegateWithConfirm:e._delegateWithConfirm}}),e._v(" "),a("passenger-details",{ref:"PassengerDetails",attrs:{details:e.editingPassenger,BookInit:e.details,OrderBusinessType:10},on:{delegate:e._delegateWithPassengerDetails}}),e._v(" "),a("c-contacts",{attrs:{OrderBusinessType:10,show:e.showContacts,datalist:e.trainOrder.Contacts},on:{"update:show":function(t){e.showContacts=t},delegate:e._delegateWithContacts},model:{value:e.editingContact,callback:function(t){e.editingContact=t},expression:"editingContact"}}),e._v(" "),a("c-frequent-contacts",{ref:"CFrequentContacts",attrs:{orderInit:e.details,datalist:e.trainOrder.Contacts,OrderBusinessType:10},on:{"update:orderInit":function(t){e.details=t},delegate:e._delegateWithFrequentContacts}}),e._v(" "),a("custom-item",{attrs:{show:e.showCustomItem,orderInit:e.details},on:{"update:show":function(t){e.showCustomItem=t},"update:orderInit":function(t){e.details=t},delegate:e._delegateWithCustomItem}}),e._v(" "),e.showViolationRank?a("violation-rank",{attrs:{details:e.violationRankDetails},on:{delegate:e._nextStep},model:{value:e.showViolationRank,callback:function(t){e.showViolationRank=t},expression:"showViolationRank"}}):e._e(),e._v(" "),e.showTableTime?a("c-table-time",{attrs:{params:e.currentTableTime}}):e._e(),e._v(" "),a("hs-dialog",{model:{value:e.showRulesDialog,callback:function(t){e.showRulesDialog=t},expression:"showRulesDialog"}},[a("hs-scroll",{staticClass:"rulesDialog",attrs:{data:[e.rulesHtml]}},[a("ul",[a("div",{domProps:{innerHTML:e._s(e.rulesHtml)}})])])],1)],1)},staticRenderFns:[]};var H=a("VU/8")(x,M,!1,function(e){a("unXj")},"data-v-0d5f3f62",null);t.default=H.exports},"4i0H":function(e,t,a){"use strict";var s=a("4aFc"),i=a("9Vmw"),n=a("C0NF"),r={components:{HsCell1:s.a,HsSection:i.a,HsScroll:n.a},props:{route:{type:Object,default:function(){}}},data:function(){return{detail:""}},methods:{}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.noValue(e.route.TrainCode)?e._e():a("hs-section",[a("div",{staticClass:"segment"},[a("hs-cell-1",{attrs:{showLogo:!1}},[a("div",{staticClass:"cell-segment"},[a("div",{staticClass:"cell-segment-left"},[a("p",[e._v(e._s(e.$t(e.beTime(e.route.DepartureDateTime),"date",["MM月dd日","MM dd"]))+" "+e._s(e.getWeeks(e.beTime(e.route.DepartureDateTime))))]),e._v(" "),a("p",[e._v(e._s(e.beTime(e.route.DepartureDateTime,"hh:mm")))]),e._v(" "),a("p",[e._v(e._s(e.route.DepartStationName))])]),e._v(" "),a("div",{staticClass:"cell-segment-middle"},[a("p",[e._v(e._s(e.route.TrainCode))]),e._v(" "),a("div",{staticClass:"cell-segment-time",on:{click:function(t){t.stopPropagation(),e.$emit("delegateForTableTime",e.route)}}},[a("div",{staticClass:"layer"}),e._v(" "),a("div",{staticClass:"time"},[e._v(e._s(e.$t("base.Schedule")))]),e._v(" "),a("div",{staticClass:"layer"})]),e._v(" "),a("p",[e._v(e._s(e.route.RunTime))])]),e._v(" "),a("div",{staticClass:"cell-segment-right"},[a("p",[e._v(e._s(e.$t(e.beTime(e.route.ArrivalDateTime),"date",["MM月dd日","MM dd"]))+" "+e._s(e.getWeeks(e.beTime(e.route.ArrivalDateTime))))]),e._v(" "),a("p",[e._v(e._s(e.beTime(e.route.ArrivalDateTime,"hh:mm"))),e.route.ArrivalDays>0?a("span",{staticClass:"ArrivalDays"},[e._v("+"+e._s(e.route.ArrivalDays))]):e._e()]),e._v(" "),a("p",[e._v(e._s(e.route.ArrivalStationName))])])])]),e._v(" "),e._t("default",[a("hs-cell-1",{attrs:{showLogo:!1},nativeOn:{click:function(t){e.$emit("delegateNotice")}}},[a("div",{staticClass:"cell-segment-one",attrs:{type:e.language}},[a("p",[e._v(e._s(e.route.TypeName))]),e._v(" "),a("a",[e._v(e._s(e.$t("base.BookingInstructionsAndInstructionsForReturning")))])])])])],2)])},staticRenderFns:[]};var l=a("VU/8")(r,o,!1,function(e){a("tnQT")},"data-v-cc0f8828",null);t.a=l.exports},tnQT:function(e,t){},unXj:function(e,t){}});
//# sourceMappingURL=10.26d5b8b68cc81a593901.js.map