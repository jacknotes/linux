webpackJsonp([19],{"7C9S":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Dd8w"),i=s.n(a),o=s("CCVD"),l=s("bJna"),n=s("C0NF"),r=s("9Vmw"),c=s("4aFc"),d=s("LrqJ"),u=s("vgdM"),h=s("v2mk"),v=s("VXUB"),_=s("F+NM"),p=s("gSa9"),m=s("mT1R"),g=s("DC+l"),y=s("gyMJ"),b=s("NYxO"),f=s("7+uW"),C={created:function(){this.noValue(this.$route.query.OrderID)?this.$router.replace("/inter-hotel/orderList"):this.noValue(this.$route.query.OrderID)||this._getOrderDetails()},beforeRouteLeave:function(t,e,s){this.showExamineProcess||this.showMap?(this.showExamineProcess=!1,this.showMap=!1,s(!1)):(this.showAlert=!1,s())},computed:i()({},Object(b.c)(["isMiniprogram","interHotelRight"]),{infoIndex:function(){return this.details.VettingRecordInfos?this.details.VettingRecordInfos.map(function(t){return t.TemplateNodeProcessStatusDesc}).indexOf("进行中"):-1}}),filters:{filterPayType:function(t){switch(t){case 1:return f.a.prototype.$t("base.CompanyPayment");case 2:return f.a.prototype.$t("base.PersonalPayment");case 3:return f.a.prototype.$t("base.CompanyPayment")+"("+f.a.prototype.$t("base.Prepayments")+")";default:return f.a.prototype.$t("base.Unknown")}}},data:function(){return{tableViewOptions:{pullDownRefresh:{threshold:50}},details:{},showDetailsDialog:!1,showExamineProcess:!1,vettingContent:1,vettingMemo:"",showMap:!1,showAlert:!1,showTravelStandard:!1}},methods:i()({},Object(b.b)(["dispatchInterHotelRight"]),{_getOrderDetails:function(){var t=this;Object(y._11)({orderID:this.$route.query.OrderID}).then(function(e){t.details=e.ResultData})},_switchDetailsDialog:function(){this.showDetailsDialog?this.$refs.detailsDialog.showDetails=!1:this.showDetailsDialog=!0},_callPhone:function(t){window.location.href="tel:"+t},_gotoPay:function(){this.$refs.Pay&&this.$refs.Pay.gotoPay({OrderBusinessType:11,OrderID:this.$route.query.OrderID,PayWay:3,TravelType:Number(this.TravelType),CallbackPathName:"interHotelOrderList"})},_cancel:function(){var t=this;this.$alert({content:this.$t("TM.AreYouSureToCancelTheOrder"),cancelTxt:this.$t("base.Cancel"),confirmFn:function(){var e={orderID:t.$route.query.OrderID};Object(y._7)(e).then(function(e){!0===e.ResultData.IsSuccess?(t.$toast(t.$t("TM.OrderCancelled")),setTimeout(function(){h.a.$emit("refresh")},0),t.$router.replace({name:"interHotelOrderList",params:{TravelType:t.details.TravelType}})):t.$toast(t.$t("TM.OrderCancelFailed"))})}})},_examineSubmit:function(){var t=this,e={ID:this.$route.query.OrderID,InstanceID:this.details.VettingRecordInfos[this.infoIndex].InstanceID,TemplateNodeID:this.details.VettingRecordInfos[this.infoIndex].TemplateNodeID,VettingContent:this.vettingContent,VettingMemo:this.vettingMemo,BusinessType:5};Object(y._66)(e).then(function(e){!0===e.ResultData&&t.$toast(t.$t("TM.ApprovalSubmitted"),{complete:function(){setTimeout(function(){h.a.$emit("refresh")},0),t.$router.replace({path:"/message/examine",query:{QuerySource:0}})}})})},_getTravelStandard:function(){var t=this;this.dispatchInterHotelRight().then(function(e){t.showTravelStandard=!0})}}),components:{CHeader:o.a,HsDialog:l.a,HsScroll:n.a,HsSection:r.a,HsCell1:c.a,HsCellSmallTitle:d.a,HsButton:u.a,CExamineProcess:_.a,InforDetailsMap:v.a,HsAlert:m.a,CTravelStandard:p.a,Pay:g.a}},w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return this.noValue(JSON.stringify(t.details))?t._e():s("div",{staticClass:"hs-container"},[s("c-header",{attrs:{title:t.$t("base.OrderDetails"),isBackNav:""}}),t._v(" "),s("hs-scroll",{staticClass:"table-view",attrs:{data:[t.details],options:t.tableViewOptions},on:{"pulling-down":t._getOrderDetails}},[s("ul",[s("hs-section",[s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"state-details"},[s("div",{staticClass:"header",attrs:{type:t.language}},[s("p",[t._v(t._s(t.details.OrderStatusDesc))]),t._v(" "),s("p",[t._v(t._s(t.details.VettingStatusDesc))]),t._v(" "),s("p",[t._v(t._s(t.details.OrderStatusDesc))])]),t._v(" "),s("p",{staticClass:"infor"},[t._v(t._s(t.$t("base.OrderNumber"))+": "+t._s(t.details.OrderNumber))]),t._v(" "),s("p",{staticClass:"infor"},[t._v(t._s(t.$t("base.OrderDate"))+": "+t._s(t.$t(t.beTime(t.details.BookDate),"date",["yyyy-MM-dd","MM dd, yyyy"]))+" "+t._s(t.beTime(t.details.BookDate,"hh:mm")))]),t._v(" "),t.$route.query.isOwner?s("div",{staticClass:"buttons"},[t.details.PageBtnInfo.IsAllowPay?s("hs-button",{staticClass:"button",on:{click:t._gotoPay}},[t._v(t._s(t.$t("base.Pay")))]):t._e(),t._v(" "),t.details.PageBtnInfo.IsAllowCancel?s("hs-button",{staticClass:"button",attrs:{type:"common"},on:{click:t._cancel}},[t._v(t._s(t.$t("base.CancelOrder")))]):t._e()],1):t._e(),t._v(" "),t.infoIndex>=0&&t.$route.query.isExamine&&1===Number(t.details.VettingStatus)?s("div",{staticClass:"buttons"},[s("hs-button",{staticClass:"button",on:{click:function(e){t.vettingContent=1,t.showAlert=!0}}},[t._v(t._s(t.$t("base.Pass")))]),t._v(" "),s("hs-button",{staticClass:"button",attrs:{type:"common"},on:{click:function(e){t.vettingContent=0,t.showAlert=!0}}},[t._v(t._s(t.$t("base.Reject")))])],1):t._e()])])],1),t._v(" "),s("hs-section",[s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"custom-cell-hotel"},[s("p",[t._v(t._s(t.details.HotelInfo.HotelName))]),t._v(" "),s("p",[t._v(t._s(t.details.RoomAmount)+t._s(t.$t("base.QuantifierHotel"))+" "+t._s(t.details.HotelInfo.RoomType))]),t._v(" "),s("p",[t._v(t._s(t.details.HotelInfo.BedType)+" | "+t._s(t.details.HotelInfo.BreadFast))]),t._v(" "),s("p",[t._v(t._s(t.$t("base.CheckInDate"))+" "+t._s(t.$t(t.beTime(t.details.CheckInDate),"date",["yyyy-MM-dd","MM dd, yyyy"])))]),t._v(" "),s("p",[t._v(t._s(t.$t("base.CheckOutDate"))+" "+t._s(t.$t(t.beTime(t.details.CheckOutDate),"date",["yyyy-MM-dd","MM dd, yyyy"]))+" "+t._s(t.$t("base.TotalNights","function",t.getApartDayCount(this.beTime(t.details.CheckInDate),this.beTime(t.details.CheckOutDate)))))]),t._v(" "),t.details.ArrivalTime?s("p",[t._v(t._s(t.$t("base.GoToTheStoreBeforeOClock","function",t.details.ArrivalTime)))]):t._e()])]),t._v(" "),s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"custom-cell-cancel"},[s("div",{staticStyle:{"background-image":"url('static/image/hotel/irreversible.png')"}}),t._v(" "),s("div",[s("p",[t._v(t._s(t.details.CancelRuleDesc))])])])])],1),t._v(" "),s("hs-section",t._l(t.details.Guests,function(e,a){return s("hs-cell-1",{key:a,attrs:{showLogo:!1,showSeparator:!1}},[s("div",{staticClass:"custom-cell-people"},[s("div",{staticClass:"left",style:{opacity:0===a?1:0}},[s("p",[t._v(t._s(t.$t("base.Roomer")))])]),t._v(" "),s("div",{staticClass:"right",style:{"border-bottom-width":a===t.details.Guests.length-1?"0px":"1px"}},[s("div",{staticClass:"name"},[t._v(t._s(e.Name))]),t._v(" "),s("div",{staticClass:"others"},[s("p",[t._v(t._s(t.$t("base.CellphoneNumber"))+" "+t._s(e.Mobile?e.Mobile:t.$t("base.Unfilled")))])])])])])})),t._v(" "),s("hs-section",[t.details.SpecificRequirements?s("hs-cell-small-title",{attrs:{title:t.$t("base.SpecificRequirements"),type:"bold",value:t.details.SpecificRequirements,showLogo:!1}}):t._e(),t._v(" "),t.details.CustomItem&&t.details.DisplayConfig?s("hs-cell-small-title",{attrs:{title:t.details.DisplayConfig.CustomItemName,type:"bold",value:t.details.CustomItem,showLogo:!1}}):t._e(),t._v(" "),t.details.Purpose?s("hs-cell-small-title",{attrs:{title:t.$t("base.Purpose"),type:"bold",value:t.details.Purpose,showLogo:!1}}):t._e(),t._v(" "),s("hs-cell-small-title",{attrs:{title:t.$t("base.BookingSource"),type:"bold",value:t.details.BookingSourceDesc,showLogo:!1}}),t._v(" "),"CN"===t.language?[t.details.VettingRecordInfos?s("hs-cell-small-title",{attrs:{title:t.$t("base.ApprovalInformation"),type:"bold"},nativeOn:{click:function(e){t.showExamineProcess=!0}}}):t._e()]:[t.details.VettingRecordInfos?s("hs-cell-small-title",{attrs:{title:t.$t("base.ApprovalInformation"),type:"bold",value:t.details.VettingStatusDesc},nativeOn:{click:function(e){t.showExamineProcess=!0}}}):t._e()],t._v(" "),0===Number(t.details.TravelType)?s("hs-cell-small-title",{attrs:{title:t.$t("base.PaymentWay"),type:"bold",value:t._f("filterPayType")(t.details.PayType),showLogo:!1}}):t._e(),t._v(" "),t.details.ReasonCode?s("hs-cell-small-title",{attrs:{title:t.$t("base.ViolationOfRank"),type:"bold",value:t.details.ReasonCode,warning:!1,showLogo:!1},on:{header:t._getTravelStandard}}):t._e()],2),t._v(" "),s("hs-section",t._l(t.details.Contacts,function(e,a){return s("hs-cell-1",{key:a,attrs:{showLogo:!1,showSeparator:!1}},[s("div",{staticClass:"custom-cell-people"},[s("div",{staticClass:"left",style:{opacity:0===a?1:0}},[s("p",[t._v(t._s(t.$t("base.ContactInformation")))])]),t._v(" "),s("div",{staticClass:"right",style:{"border-bottom-width":a===t.details.Contacts.length-1?"0px":"1px"}},[s("div",{staticClass:"name"},[t._v(t._s(e.Name))]),t._v(" "),s("div",{staticClass:"others"},[s("p",[t._v(t._s(t.$t("base.CellphoneNumber"))+" "+t._s(e.Mobile?e.Mobile:t.$t("base.Unfilled")))]),t._v(" "),s("p",[t._v(t._s(t.$t("base.Email"))+" "+t._s(e.Email?e.Email:t.$t("base.Unfilled")))])])])])])}))],1)]),t._v(" "),s("div",{staticClass:"footer",on:{click:t._switchDetailsDialog}},[s("div",{staticClass:"price"},[s("p",[t._v(t._s(t.$t("base.TotalAmount")))]),t._v(" "),s("p",[t._v("￥"+t._s(t.details.TotalPrice))])]),t._v(" "),s("div",{staticClass:"details"},[s("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/base/cell/right_arrow_gray.png')"},style:{transform:t.showDetailsDialog?"rotate(90deg)":"rotate(-90deg)"}})])]),t._v(" "),s("hs-dialog",{ref:"detailsDialog",attrs:{height:"calc(100% - 50px)"},model:{value:t.showDetailsDialog,callback:function(e){t.showDetailsDialog=e},expression:"showDetailsDialog"}},[s("hs-scroll",{staticClass:"detailsDialog",attrs:{data:[t.details]},nativeOn:{click:function(t){t.stopPropagation()}}},[s("ul",[s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[t._v(t._s(t.$t("base.PriceHotel")))]),t._v(" "),s("p",[s("span",[t._v("￥"+t._s(t.details.TotalRoomPrice))]),s("span")])])]),t._v(" "),s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[t._v(t._s(t.$t("base.ServiceFee")))]),t._v(" "),s("p",[s("span",[t._v("￥"+t._s(t.details.ServicePrice))]),s("span")])])])],1)])],1),t._v(" "),s("c-examine-process",{attrs:{businessName:t.$t("base.Roomer"),datalist:t.details.VettingRecordInfos,passengers:t.details.Guests},model:{value:t.showExamineProcess,callback:function(e){t.showExamineProcess=e},expression:"showExamineProcess"}}),t._v(" "),s("infor-details-map",{attrs:{details:t.details.HotelInfo},model:{value:t.showMap,callback:function(e){t.showMap=e},expression:"showMap"}}),t._v(" "),s("hs-alert",{attrs:{show:t.showAlert,title:1===t.vettingContent?t.$t("base.ApprovedPass"):t.$t("base.ApprovalRejection"),cancelBtn:"",maskClose:""},on:{"update:show":function(e){t.showAlert=e},confirm:t._examineSubmit}},[s("div",{staticClass:"hs-alert-content",attrs:{slot:"content"},slot:"content"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.vettingMemo,expression:"vettingMemo"}],attrs:{maxlength:"50",placeholder:t.$t("base.PleaseEnterAComment")},domProps:{value:t.vettingMemo},on:{input:function(e){e.target.composing||(t.vettingMemo=e.target.value)}}})])]),t._v(" "),s("c-travel-standard",{attrs:{type:2,details:t.interHotelRight.HotelRank,travelPolicy:t.interHotelRight.TravelPolicy},model:{value:t.showTravelStandard,callback:function(e){t.showTravelStandard=e},expression:"showTravelStandard"}}),t._v(" "),s("pay",{ref:"Pay"})],1)},staticRenderFns:[]};var D=s("VU/8")(C,w,!1,function(t){s("K7Cx")},"data-v-f495f438",null);e.default=D.exports},K7Cx:function(t,e){}});
//# sourceMappingURL=19.6bc5bcf0834669ac68ac.js.map