webpackJsonp([20],{"6+tp":function(t,e){},bUVB:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("mvHQ"),i=s.n(a),l=s("Dd8w"),r=s.n(l),o=s("7+uW"),n=s("UgQm"),c=s("CCVD"),g=s("4Sih"),d=s("vgdM"),h=s("4aFc"),_=s("LrqJ"),v=s("bJna"),u=s("C0NF"),m=s("9Vmw"),p=s("DC+l"),b=s("QZDT"),f=s("NYxO"),C=s("gyMJ"),y={created:function(){this.noValue(this.intlFlightOrder.TravelType)&&this._gotoHomePage()},computed:r()({},Object(f.c)(["intlFlightOrder"]),{details:function(){return this.$route.params.details}}),data:function(){return{submitSuccess:!1,showSegmentDetailsDialog:!1,showDetailsDialog:!1,showCExamineProcess:!1}},filters:{filterPayType:function(t){switch(t){case 1:return o.a.prototype.$t("base.CompanyPayment");case 2:return o.a.prototype.$t("base.PersonalPayment");case 3:return o.a.prototype.$t("base.CompanyPayment")+"("+o.a.prototype.$t("base.Prepayments")+")";default:return o.a.prototype.$t("base.Unknown")}}},methods:r()({},Object(f.d)(["SET_INTL_FLIGHT_ORDER"]),{_gotoHomePage:function(){this.$router.replace("/home")},_showSegmentTitle:function(t){var e=this.intlFlightOrder.SelectedSegment&&!this.noValue(i()(this.intlFlightOrder.SelectedSegment))?this.intlFlightOrder.SelectedSegment.length:0;return 1===e?this.$t("base.OneWay"):2===e&&this.intlFlightOrder.SelectedSegment[0].DepartAirportName===this.intlFlightOrder.SelectedSegment[1].ArrivalAirportName?0===t?this.$t("base.Going"):this.$t("base.Return"):this.$t("base.NoXSegment","function",t+1)},_gotoSubmitAndPay:function(){var t=this;this.$alert({content:this.$t("TM.AreYouSureToSubmitAndPayForTheOrder"),cancelTxt:this.$t("base.Cancel"),confirmFn:function(){var e={OrderIDs:t.intlFlightOrder.OrderIDs};Object(C._14)(e).then(function(e){!0===e.ResultData?(t.submitSuccess=!0,t._gotoPay()):t.$toast(t.$t("TM.TheSubmissionFailedPleaseTryAgainLater"))})}})},_confirm:function(){var t=this;this.$alert({content:this.$t("TM.AreYouSureToSubmitYourOrder"),cancelTxt:this.$t("base.Cancel"),confirmFn:function(){var e={OrderIDs:t.intlFlightOrder.OrderIDs};Object(C._14)(e).then(function(e){!0===e.ResultData?(t.submitSuccess=!0,t.$refs.COrderSuccess.open()):t.$toast(t.$t("TM.TheSubmissionFailedPleaseTryAgainLater"))})}})},_gotoPay:function(){this.$refs.Pay&&this.$refs.Pay.gotoPay({OrderBusinessType:6,OrderID:this.intlFlightOrder.OrderIDs[0],PayWay:3,TravelType:Number(this.intlFlightOrder.TravelType),CallbackPathName:"intlPlaneTicketOrderList"})},_openSegmentDetailsDialog:function(){var t=this;this.showSegmentDetailsDialog=!0,setTimeout(function(){t.$refs.segmentTableView.forceUpdate()},500)},_switchDetailsDialog:function(){var t=this;this.showDetailsDialog?this.$refs.detailsDialog.showDetails=!1:(this.showDetailsDialog=!0,setTimeout(function(){var e=t.$refs.detailsDialog.$children[0].scroll;e.wrapperHeight<e.scrollerHeight?t.$refs["show-more"].style.opacity=1:t.$refs["show-more"].style.opacity=0},400))},_scrollStart:function(){this.$refs["show-more"].style.opacity=0}}),components:{CExamineProcess:n.default,CHeader:c.a,COrderSuccess:g.a,HsButton:d.a,HsCell1:h.a,HsCellSmallTitle:_.a,HsDialog:v.a,HsScroll:u.a,HsSection:m.a,Pay:p.a,Segment:b.a}},D={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hs-container"},[s("c-header",{attrs:{leftIcon1:"home_2.png",leftFn1:t._gotoHomePage,title:t.$t("base.IntlFlightsOrderConfirmation")}}),t._v(" "),s("hs-scroll",{staticClass:"table-view"},[s("ul",[s("hs-section",[s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"state-details"},[s("div",{staticClass:"header"},[s("p",[t._v(t._s(0===Number(t.intlFlightOrder.TravelType)?t.$t("base.BusinessTrip"):t.$t("base.PersonalTrip")))])]),t._v(" "),s("p",{staticClass:"infor"},[t._v(t._s(t.$t("base.OrderDate"))+": "+t._s(t.$t(t.beTime(new Date),"date",["yyyy-MM-dd","MM dd, yyyy"]))+" "+t._s(t.beTime(new Date,"hh:mm")))]),t._v(" "),s("div",{staticClass:"buttons"},[t.intlFlightOrder.PageBtnInfo.IsAllowPayAndSubmit?s("hs-button",{staticClass:"button",on:{click:t._gotoSubmitAndPay}},[t._v(t._s(t.$t("base.SubmitAndPay")))]):t._e(),t._v(" "),t.intlFlightOrder.PageBtnInfo.IsAllowSubmit?s("hs-button",{staticClass:"button",on:{click:t._confirm}},[t._v(t._s(t.$t("base.Submit")))]):t._e(),t._v(" "),t.intlFlightOrder.PageBtnInfo.IsAllowPay?s("hs-button",{staticClass:"button",on:{click:t._gotoPay}},[t._v(t._s(t.$t("base.Pay")))]):t._e()],1)])])],1),t._v(" "),s("hs-section",{attrs:{backgroundColor:"#F6F7F8"}},[s("div",{staticClass:"custom-cell-segments"},[s("div",{staticClass:"segments",on:{click:t._openSegmentDetailsDialog}},[s("div",{staticClass:"details"},t._l(t.intlFlightOrder.SelectedSegment,function(e,a){return s("div",{key:a,staticClass:"item"},[s("div",{staticClass:"mark"},[t._v(t._s(t._showSegmentTitle(a)))]),t._v(" "),s("p",[t._v(t._s(e.DepartDate))]),t._v(" "),s("p",[t._v(t._s(e.DepartDayOfWeek))]),t._v(" "),s("p",[t._v(t._s(e.DepartDateTime.split(" ")[1]))]),t._v(" "),s("p",[t._v(t._s(t.intlFlightOrder.SearchParams.Segments[a].DepartObject["AirPortName_"+t.language])+"-"+t._s(t.intlFlightOrder.SearchParams.Segments[a].ArrivalObject["AirPortName_"+t.language]))])])})),t._v(" "),s("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/base/cell/right_arrow_gray.png')"}})]),t._v(" "),t.details&&t.details.ChargeInfoList?s("div",{staticClass:"infor"},[s("div",[s("p",[t._v(t._s(t.$t("base.AirTickets"))),s("span",[t._v("¥"+t._s(t.details.ChargeInfoList[0].Price))])]),t._v(" "),s("p",[t._v(t._s(t.$t("base.Tax"))),s("span",[t._v("¥"+t._s(t.details.ChargeInfoList[0].Tax))])]),t._v(" "),t.details.ChargeInfoList[0].Rebate>0?s("p",[t._v(t._s(t.$t("base.FrontReturn"))),s("span",[t._v("-¥"+t._s(t.details.ChargeInfoList[0].Rebate))])]):t._e()]),t._v(" "),s("p",[t._v("退改签 >")])]):t._e()])]),t._v(" "),s("hs-section",t._l(t.intlFlightOrder.Passengers,function(e,a){return s("hs-cell-1",{key:a,attrs:{showLogo:!1,showSeparator:!1}},[s("div",{staticClass:"custom-cell-people"},[s("div",{staticClass:"left",style:{opacity:0===a?1:0}},[s("p",[t._v(t._s(t.$t("base.Passenger")))])]),t._v(" "),s("div",{staticClass:"right",style:{"border-bottom-width":a===t.intlFlightOrder.Passengers.length-1?"0px":"1px"}},[s("div",{staticClass:"name"},[t._v(t._s(e.Name))]),t._v(" "),s("div",{staticClass:"others"},[s("p",[t._v(t._s(e.Credential.CredentialName)+" "+t._s(e.Credential.CredentialNo))])])])])])})),t._v(" "),t.details.IsDisplayCustomItem||t.details.IsDisplayPurpose||t.details.IsDisplayAuthorizationCode||0===Number(t.intlFlightOrder.TravelType)||t.intlFlightOrder.ViolationCabinRankReason?s("hs-section",[t.details.IsDisplayCustomItem&&t.intlFlightOrder.CustomItem&&t.intlFlightOrder.CustomItem.Name?s("hs-cell-small-title",{attrs:{title:t.details.CustomItemName,type:"bold",value:t.intlFlightOrder.CustomItem.Name,showLogo:!1}}):t._e(),t._v(" "),t.details.IsDisplayPurpose?s("hs-cell-small-title",{attrs:{title:t.$t("base.TravelPurpose"),type:"bold",value:t.intlFlightOrder.Purpose,showLogo:!1}}):t._e(),t._v(" "),t.details.IsDisplayAuthorizationCode?s("hs-cell-small-title",{attrs:{title:t.$t("base.AuthorizationCode"),type:"bold",value:t.intlFlightOrder.AuthorizationCode,showLogo:!1}}):t._e(),t._v(" "),0===Number(t.intlFlightOrder.TravelType)?s("hs-cell-small-title",{class:{disabled:t.noValue(JSON.stringify(t.intlFlightOrder.VettingProcessList))},attrs:{title:t.$t("base.ApprovalInformation"),type:"bold",value:t.noValue(JSON.stringify(t.intlFlightOrder.VettingProcessList))?t.$t("base.NoApprovalRequired"):"CN"===t.language?"":t.$t("base.ApprovalInformation"),showLogo:!t.noValue(JSON.stringify(t.intlFlightOrder.VettingProcessList))},nativeOn:{click:function(e){t.showCExamineProcess=!0}}}):t._e(),t._v(" "),0===Number(t.intlFlightOrder.TravelType)?s("hs-cell-small-title",{attrs:{title:t.$t("base.PaymentWay"),type:"bold",value:t._f("filterPayType")(t.intlFlightOrder.PayType),showLogo:!1}}):t._e()],1):t._e(),t._v(" "),s("hs-section",t._l(t.intlFlightOrder.Contacts,function(e,a){return s("hs-cell-1",{key:a,attrs:{showLogo:!1,showSeparator:!1}},[s("div",{staticClass:"custom-cell-people"},[s("div",{staticClass:"left",style:{opacity:0===a?1:0}},[s("p",[t._v(t._s(t.$t("base.ContactInformation")))])]),t._v(" "),s("div",{staticClass:"right",style:{"border-bottom-width":a===t.intlFlightOrder.Contacts.length-1?"0px":"1px"}},[s("div",{staticClass:"name"},[t._v(t._s(e.Name))]),t._v(" "),s("div",{staticClass:"others"},[s("p",[t._v(t._s(t.$t("base.CellphoneNumber"))+" "+t._s(e.Mobile?e.Mobile:t.$t("base.Unfilled")))]),t._v(" "),s("p",[t._v(t._s(t.$t("base.Email"))+" "+t._s(e.Email?e.Email:t.$t("base.Unfilled")))])])])])])}))],1)]),t._v(" "),s("div",{staticClass:"footer",on:{click:t._switchDetailsDialog}},[s("div",{staticClass:"price"},[s("p",[t._v(t._s(t.$t("base.TotalAmount")))]),t._v(" "),s("p",[t._v("￥"+t._s(t.intlFlightOrder.TotalPrice))])]),t._v(" "),s("div",{staticClass:"details"},[s("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/base/cell/right_arrow_gray.png')"},style:{transform:t.showDetailsDialog?"rotate(90deg)":"rotate(-90deg)"}})])]),t._v(" "),s("hs-dialog",{ref:"detailsDialog",attrs:{height:"calc(100% - 50px)"},model:{value:t.showDetailsDialog,callback:function(e){t.showDetailsDialog=e},expression:"showDetailsDialog"}},[s("hs-scroll",{staticClass:"detailsDialog",attrs:{isListenScroll:!0},on:{scrollStart:t._scrollStart},nativeOn:{click:function(t){t.stopPropagation()}}},[s("ul",[t.details.ChargeInfoList&&t.details.ChargeInfoList[0]?s("hs-section",[t.details.ChargeInfoList[0].Price>=0?s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[t._v(t._s(t.$t("base.AirTickets")))]),t._v(" "),s("p",[s("span",[t._v("￥"+t._s(t.details.ChargeInfoList[0].Price))]),s("span",[t._v("x "+t._s(t.intlFlightOrder.Passengers.length)+t._s(t.$t("base.QuantifierPeople")))])])])]):t._e(),t._v(" "),t.details.ChargeInfoList[0].Tax>=0?s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[t._v(t._s(t.$t("base.Tax")))]),t._v(" "),s("p",[s("span",[t._v("￥"+t._s(t.details.ChargeInfoList[0].Tax))]),s("span",[t._v("x "+t._s(t.intlFlightOrder.Passengers.length)+t._s(t.$t("base.QuantifierPeople")))])])])]):t._e(),t._v(" "),t.details.ChargeInfoList[0].Rebate>0?s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[t._v(t._s(t.$t("base.FrontReturn")))]),t._v(" "),s("p",[s("span",[t._v("-￥"+t._s(t.details.ChargeInfoList[0].Rebate))]),s("span",[t._v("x "+t._s(t.intlFlightOrder.Passengers.length)+t._s(t.$t("base.QuantifierPeople")))])])])]):t._e(),t._v(" "),t.details.ChargeInfoList[0].ServicePrice>=0?s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[t._v(t._s(t.$t("base.ServiceFee")))]),t._v(" "),s("p",[s("span",[t._v("￥"+t._s(t.details.ChargeInfoList[0].ServicePrice))]),s("span",[t._v("x "+t._s(t.intlFlightOrder.Passengers.length)+t._s(t.$t("base.QuantifierPeople")))])])])]):t._e(),t._v(" "),t._l(t.details.InsuranceProducts.filter(function(t){return t.select}),function(e,a){return s("hs-cell-1",{key:a,attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[t._v(t._s(e.ClientShowName)+" | "+t._s(t._showSegmentTitle(0)))]),t._v(" "),s("p",[s("span",[t._v("￥"+t._s(e.SalePrice))]),s("span",[t._v("x "+t._s(t.intlFlightOrder.Passengers.length)+t._s(t.$t("base.Copy")))])])])])})],2):t._e()],1)]),t._v(" "),s("div",{ref:"show-more",staticClass:"show-more"},[t._v(t._s(t.$t("base.SlideUpToSeeMore")))])],1),t._v(" "),s("hs-dialog",{ref:"SegmentDetails",model:{value:t.showSegmentDetailsDialog,callback:function(e){t.showSegmentDetailsDialog=e},expression:"showSegmentDetailsDialog"}},[s("div",{staticClass:"segmentDetails",nativeOn:{click:function(t){t.stopPropagation()}}},[s("div",{staticClass:"header"},[s("div",{staticClass:"logo"}),t._v(" "),s("p",[t._v("航班详情")]),t._v(" "),s("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/plane-ticket/query/close.png')"},on:{click:function(e){t.$refs.SegmentDetails.showDetails=!1}}})]),t._v(" "),s("hs-scroll",{ref:"segmentTableView",staticClass:"details",attrs:{data:[t.intlFlightOrder.SelectedSegment]}},[s("ul",t._l(t.intlFlightOrder.SelectedSegment,function(e,a){return s("div",{key:a,staticClass:"item"},[s("div",{staticClass:"item-header"},[s("div",{staticClass:"mark"},[t._v(t._s(t._showSegmentTitle(a)))]),t._v(" "),s("p",[t._v(t._s(e.DepartDate))]),t._v(" "),s("p",[t._v(t._s(e.DepartDayOfWeek))]),t._v(" "),s("p",[t._v(t._s(e.DepartDateTime.split(" ")[1]))]),t._v(" "),s("p",[t._v(t._s(t.intlFlightOrder.SearchParams.Segments[a].DepartObject["AirPortName_"+t.language])+"-"+t._s(t.intlFlightOrder.SearchParams.Segments[a].ArrivalObject["AirPortName_"+t.language]))])]),t._v(" "),s("segment",{attrs:{datalist:e.FlightLegs}})],1)}))])],1)]),t._v(" "),s("c-examine-process",{attrs:{details:t.intlFlightOrder,passengerWarning:t.$t("base.Passenger")},model:{value:t.showCExamineProcess,callback:function(e){t.showCExamineProcess=e},expression:"showCExamineProcess"}}),t._v(" "),s("pay",{ref:"Pay"}),t._v(" "),s("c-order-success",{ref:"COrderSuccess",attrs:{XOrder:t.intlFlightOrder,OrderBusinessType:6}})],1)},staticRenderFns:[]};var O=s("VU/8")(y,D,!1,function(t){s("6+tp")},"data-v-f1155ce6",null);e.default=O.exports}});
//# sourceMappingURL=20.86cd12cef91925c9eb8c.js.map