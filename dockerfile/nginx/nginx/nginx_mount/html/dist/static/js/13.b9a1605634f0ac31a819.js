webpackJsonp([13],{DCil:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("BO1k"),o=s.n(i),a=s("ifoU"),r=s.n(a),n=s("pFYg"),l=s.n(n),c=s("woOf"),h=s.n(c),u=s("mvHQ"),d=s.n(u),m=s("Dd8w"),p=s.n(m),_=s("7+uW"),v=s("CCVD"),f=s("C0NF"),O=s("vgdM"),C=s("yyVE"),T=s("9Vmw"),g=s("4aFc"),R=s("A7tv"),H=s("LrqJ"),D=s("bJna"),b=s("SKRv"),$=s("FZO4"),y=s("w8HC"),N=s("5Xkm"),I=s("NYxO"),P={props:{show:{type:Boolean,default:!1},details:{type:Object,default:function(){return{}}}},watch:{otherReason:function(e){!this.noValue(e)&&(this.selectedIndex=void 0)}},computed:p()({},Object(I.c)(["interHotelOrder"])),data:function(){return{selectedIndex:0,otherReason:""}},methods:p()({},Object(I.d)(["SET_INTER_HOTEL_ORDER"]),{_close:function(){this.$emit("update:show",!1)},_nextStep:function(){if(this.noValue(this.otherReason.trim())&&void 0===this.selectedIndex)this.$toast(this.$t("TM.PleaseSelectOrFillInTheReasonForViolatingTheTravelRank"));else if(this.otherReason.length>50)this.$toast(this.$t("TM.TheLengthOfTheViolationOfTheTravelRankCannotExceedXWords"));else{var e=JSON.parse(d()(this.interHotelOrder)),t="";this.details.GuestNames&&(t=this.details.GuestNames.map(function(e){return e.Name}).join("、")),e.ViolationRankName=t,e.ViolationRankReason=void 0===this.selectedIndex?""+this.$t("base.Other")+this.otherReason:this.details.ReasonCodes[this.selectedIndex].ReasonDescription,this.SET_INTER_HOTEL_ORDER(e),this._close(),this.$emit("delegate")}}}),components:{CHeader:v.a,HsScroll:f.a,HsSection:T.a,HsCell1:g.a,HsButton:O.a}},k={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("transition",{attrs:{name:"slide"}},[e.show?s("div",{staticClass:"hs-container-child"},[s("c-header",{attrs:{title:e.$t("base.ViolationOfTravelRank"),isBackNav:""}}),e._v(" "),s("hs-scroll",{staticClass:"table-view"},[s("ul",[s("hs-section",[s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"custom-cell-header"},[s("p",[e._v(e._s(e.$t("base.ThePeopleOfViolatedTravelRank"))+": "),e._l(e.details.GuestNames,function(t,i){return s("span",{key:i},[e._v(e._s(t.Name)),e.details.GuestNames&&e.details.GuestNames.length>1?[e._v("、")]:e._e()],2)})],2),e._v(" "),s("p",[e._v(e._s(e.$t("base.PleaseChooseTheReason"))+":")])])])],1),e._v(" "),s("hs-section",[e._l(e.details.ReasonCodes,function(t,i){return s("hs-cell-1",{key:i,attrs:{value:t.ReasonDescription,logoName:"select.png",showLogo:e.selectedIndex===i},nativeOn:{click:function(t){e.selectedIndex=i}}})}),e._v(" "),s("hs-cell-1",{attrs:{logoName:"select.png",showLogo:void 0===e.selectedIndex},nativeOn:{click:function(t){e.selectedIndex=void 0}}},[s("div",{staticClass:"other-reason",style:{width:void 0===e.selectedIndex?"calc(100% - 30px)":"100%"}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.otherReason,expression:"otherReason"}],attrs:{placeholder:e.$t("base.OtherReasons")},domProps:{value:e.otherReason},on:{input:function(t){t.target.composing||(e.otherReason=t.target.value)}}})])])],2)],1)]),e._v(" "),s("div",{staticClass:"footer"},[s("hs-button",{attrs:{width:"80%",height:"40px"},on:{click:e._nextStep}},[e._v(e._s(e.$t("base.NextStep")))])],1)],1):e._e()])},staticRenderFns:[]};var E=s("VU/8")(P,k,!1,function(e){s("X7Np")},"data-v-76195ff0",null).exports,w=s("2lc2"),S=s("gyMJ"),A={text:_.a.prototype.$t("base.CompanyPayment"),value:1},x={text:_.a.prototype.$t("base.PersonalPayment"),value:2},V={text:_.a.prototype.$t("base.CompanyPayment")+"("+_.a.prototype.$t("base.Prepayments")+")",value:3},G={beforeRouteEnter:function(e,t,s){s(function(e){"/inter-hotel/inforDetails"!==t.path?s(!1):s()})},beforeRouteLeave:function(e,t,s){this.$refs.CPassenger&&this.$refs.CPassenger.show?(this.$refs.CPassenger.close(),s(!1)):this.$refs.PassengerDetails&&this.$refs.PassengerDetails.show?(this.$refs.PassengerDetails.close(),s(!1)):(this.showViolationRank=!1,this.showCCustomItem=!1,this.showCContacts=!1,s())},created:function(){this.noValue(this.interHotelOrder.TravelType)?this.$router.replace("/home"):(this._resetContentInTheHotelOrder(),this._getDetails(),this._initArrivalTimeItems())},computed:p()({},Object(I.c)(["interHotelOrder"]),{hotel:function(){return this.$route.params.hotel},room:function(){return this.$route.params.room},ratePlan:function(){return this.$route.params.ratePlan},purpose:{get:function(){return this.interHotelOrder.Purpose},set:function(e){var t=JSON.parse(d()(this.interHotelOrder));t.Purpose=e,this.SET_INTER_HOTEL_ORDER(t)}},authorizationCode:{get:function(){return this.interHotelOrder.AuthorizationCode},set:function(e){var t=JSON.parse(d()(this.interHotelOrder));t.AuthorizationCode=e,this.SET_INTER_HOTEL_ORDER(t)}},specificRequirements:{get:function(){return this.interHotelOrder.SpecificRequirements},set:function(e){var t=JSON.parse(d()(this.interHotelOrder));t.SpecificRequirements=e,this.SET_INTER_HOTEL_ORDER(t)}}}),watch:{showArrivalTimeDialog:function(e){e&&this._initArrivalTimeItems()}},filters:{filterPayType:function(e){switch(e){case 1:return _.a.prototype.$t("base.CompanyPayment");case 2:return _.a.prototype.$t("base.PersonalPayment");case 3:return _.a.prototype.$t("base.CompanyPayment")+"("+_.a.prototype.$t("base.Prepayments")+")";default:return _.a.prototype.$t("base.Unknown")}}},data:function(){return{details:{},showDetailsDialog:!1,showRoomAmount:!0,GuestToRoomNo:void 0,showArrivalTimeDialog:!1,arrivalTimeItems:[],showCCustomItem:!1,showCContacts:!1,contactDetails:{},showViolationRank:!1,violationRankDetails:{},editingPassenger:{}}},methods:p()({},Object(I.d)(["SET_INTER_HOTEL_ORDER"]),{_getDetails:function(){var e=this,t={HotelID:this.interHotelOrder.HotelID,CheckInDate:this.beTimeNumber(this.interHotelOrder.CheckInDate),CheckOutDate:this.beTimeNumber(this.interHotelOrder.CheckOutDate),RoomID:this.interHotelOrder.RoomID,RatePlanID:this.interHotelOrder.RatePlanID,TravelType:this.interHotelOrder.TravelType,RoomAmount:this.interHotelOrder.RoomAmount};Object(S._4)(t).then(function(t){if(e.details=t.ResultData,!e.noValue(d()(e.details.DefaultContacts))){var s=JSON.parse(d()(e.interHotelOrder));s.Contacts=[h()(e.details.DefaultContact,{openDelete:!1})],e.SET_INTER_HOTEL_ORDER(s)}e._creatPayTypePicker(e.details.PayTypes),e._creatApproversPicker(e.details.Approvers),e._setRoomAmount(e.interHotelOrder.RoomAmount)})},_initArrivalTimeItems:function(){var e=this.beTime(new Date),t=this.beTime(new Date,"hh:mm"),s=e===this.interHotelOrder.CheckInDate,i=["14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00","23:00","23:59",""+this.$t("base.Tomorrow","function",1),""+this.$t("base.Tomorrow","function",2),""+this.$t("base.Tomorrow","function",3),""+this.$t("base.Tomorrow","function",4),""+this.$t("base.Tomorrow","function",5),""+this.$t("base.Tomorrow","function",6)];s&&(i=i.filter(function(e){return t<e})),this.arrivalTimeItems=i,i[0]>this.interHotelOrder.ArrivalTime&&this._selectArrivalTimeItem(i[0])},_creatApproversPicker:function(e){var t=[];e&&e.forEach(function(e){t.push({text:e.Name,value:e.ID})}),this.picker=this.$createPicker({title:this.$t("base.SelectApprover"),data:[t],cancelTxt:this.$t("base.Cancel"),confirmTxt:this.$t("base.Confirm"),onSelect:this._selectApproversPickerHandle})},_selectApproversPickerHandle:function(e,t,s){var i=JSON.parse(d()(this.interHotelOrder));i.AppointVettingPersonID=e[0],i.AppointVettingPersonName=s[0],this.SET_INTER_HOTEL_ORDER(i)},_creatPayTypePicker:function(e){var t=[];1===Number(this.interHotelOrder.TravelType)?t=[x]:e&&e.forEach(function(e){1===e?t.push(A):2===e?t.push(x):3===e&&t.push(V)});var s=JSON.parse(d()(this.interHotelOrder));s.PayType=t[0]?t[0].value:null,this.SET_INTER_HOTEL_ORDER(s),this.payTypePicker=this.$createPicker({title:this.$t("base.PaymentWay"),data:[t],cancelTxt:this.$t("base.Cancel"),confirmTxt:this.$t("base.Confirm"),onSelect:this._payTypePickerSelectHandle})},_payTypePickerSelectHandle:function(e,t,s){var i=JSON.parse(d()(this.interHotelOrder));i.PayType=e[0],this.SET_INTER_HOTEL_ORDER(i)},_switchDetailsDialog:function(){var e=this;this.showDetailsDialog?this.$refs.detailsDialog.showDetails=!1:(this.showDetailsDialog=!0,setTimeout(function(){var t=e.$refs.detailsDialog.$children[0].scroll;t.wrapperHeight<t.scrollerHeight?e.$refs["show-more"].style.opacity=1:e.$refs["show-more"].style.opacity=0},400))},_setRoomAmount:function(e){var t=this,s=JSON.parse(d()(this.interHotelOrder));s.RoomAmount=e,this.SET_INTER_HOTEL_ORDER(s);var i={HotelID:this.interHotelOrder.HotelID,CheckInDate:this.beTimeNumber(this.interHotelOrder.CheckInDate),CheckOutDate:this.beTimeNumber(this.interHotelOrder.CheckOutDate),RoomID:this.interHotelOrder.RoomID,RatePlanID:this.interHotelOrder.RatePlanID,RoomAmount:this.interHotelOrder.RoomAmount,TravelType:this.interHotelOrder.TravelType};Object(S._23)(i).then(function(e){t.details.ChargeInfo=e.ResultData;var s=p()({},t.interHotelOrder);s.ChargeInfo=t.details.ChargeInfo,t.SET_INTER_HOTEL_ORDER(s)})},_delegateWithAdd:function(e){this.GuestToRoomNo=e,this.$refs.CPassenger.open()},_delegateWithConfirm:function(e){var t=JSON.parse(d()(this.interHotelOrder));t.Guests=e,this.SET_INTER_HOTEL_ORDER(t)},_setPassengerOpenDelete:function(e,t,s){if(this.interHotelOrder.Guests.filter(function(e){return e.GuestToRoomNo===t-1})[s-1]){var i=JSON.parse(d()(this.interHotelOrder));i.Guests.filter(function(e){return e.GuestToRoomNo===t-1})[s-1].openDelete=e,this.SET_INTER_HOTEL_ORDER(i)}},_gotoPassengerDetails:function(e,t){this.editingPassenger=this.interHotelOrder.Guests.filter(function(t){return t.GuestToRoomNo===e-1})[t-1],this.editingPassenger&&(this.editingPassenger.openDelete?this._setPassengerOpenDelete(!1,e,t):this.$refs.PassengerDetails.open())},_delegateWithPassengerDetails:function(e){var t=JSON.parse(d()(this.interHotelOrder)),s=this.interHotelOrder.Guests.map(function(e){return e.ID}).indexOf(e.ID);t.Guests.splice(s,1,e),this.SET_INTER_HOTEL_ORDER(t)},_deletePassenger:function(e){var t=JSON.parse(d()(this.interHotelOrder)),s=this.interHotelOrder.Guests.map(function(e){return e.ID}).indexOf(e.ID);t.Guests.splice(s,1),this.SET_INTER_HOTEL_ORDER(t)},_selectArrivalTimeItem:function(e){var t=JSON.parse(d()(this.interHotelOrder));t.ArrivalTime=e,this.SET_INTER_HOTEL_ORDER(t)},_delegateWithCustomItem:function(e){var t=JSON.parse(d()(this.interHotelOrder));t.CustomItem=e,this.SET_INTER_HOTEL_ORDER(t)},_delegateWithContacts:function(e){var t=JSON.parse(d()(this.interHotelOrder));t.Contacts.splice(e.index,1,h()(e,{openDelete:!1})),this.SET_INTER_HOTEL_ORDER(t)},_setContactsOpenDelete:function(e,t){var s=JSON.parse(d()(this.interHotelOrder));s.Contacts[t].openDelete=e,this.SET_INTER_HOTEL_ORDER(s)},_gotoContactsDetails:function(e){this.interHotelOrder.Contacts[e].openDelete?this._setContactsOpenDelete(!1,e):(this.contactDetails=h()(JSON.parse(d()(this.interHotelOrder.Contacts[e])),{index:e}),this.showCContacts=!0)},_deleteContact:function(e){var t=JSON.parse(d()(this.interHotelOrder));t.Contacts.splice(e,1),this.SET_INTER_HOTEL_ORDER(t)},_delegateWithFrequentContacts:function(e){var t=JSON.parse(d()(this.interHotelOrder));t.Contacts=e,this.SET_INTER_HOTEL_ORDER(t)},_scrollStart:function(){this.$refs["show-more"].style.opacity=0},_gotoConfirm:function(){for(var e=this,t=function(t){if(0===e.interHotelOrder.Guests.filter(function(e){return e.GuestToRoomNo===t}).length)return e.$toast(e.$t("base.RoomNoXAtLeastChooseOneRoomer","function",t+1)),{v:void 0}},s=0;s<this.interHotelOrder.RoomAmount;s++){var i=t(s);if("object"===(void 0===i?"undefined":l()(i)))return i.v}if(this.noValue(d()(this.details)))return this.$toast(this.$t("TM.TheSysteIsBusyPleaseReOperate")),void this.$router.replace("/home");if(0!==this.interHotelOrder.Guests.length)if(this.interHotelOrder.Guests.length<this.interHotelOrder.RoomAmount)this.$toast(this.$t("TM.ChooseAtLeastXPeople","function",this.interHotelOrder.RoomAmount));else if(this.interHotelOrder.Guests.length>this.interHotelOrder.RoomAmount*this.room.Capcity)this.$toast(this.$t("TM.ChooseUpToXPeople","function",this.interHotelOrder.RoomAmount*this.room.Capcity));else if(this.details.IsRequiredCustomItem&&this.noValue(d()(this.interHotelOrder.CustomItem)))this.$toast(this.$t("TM.PleaseSelect","function",this.details.CustomItemName));else if(0!==this.interHotelOrder.Contacts.length)if(this.details.IsRequiredPurpose&&this.noValue(this.interHotelOrder.Purpose))this.$toast(this.$t("TM.PleaseFill","function",this.$t("base.Purpose")));else if(this.interHotelOrder.Purpose.length>30)this.$toast(this.$t("TM.LengthMustNotExceedXDigits","function",{name:this.$t("base.Purpose"),number:30}));else if(3===this.details.VettingType&&this.details.EnableVetting&&this.noValue(this.interHotelOrder.AppointVettingPersonName))this.$toast(this.$t("TM.PleaseSelect","function",this.$t("base.Approver")));else if(this.details.IsRequiredAuthorizationCode&&this.noValue(this.interHotelOrder.AuthorizationCode))this.$toast(this.$t("TM.PleaseFill","function",this.$t("base.AuthorizationCode")));else if(this.interHotelOrder.AuthorizationCode.length>20)this.$toast(this.$t("TM.LengthMustNotExceedXDigits","function",{name:this.$t("base.AuthorizationCode"),number:20}));else if(this.noValue(this.interHotelOrder.PayType))this.$toast(this.$t("TM.PleaseSelect","function",this.$t("base.PaymentWay")));else{var a=!0,n=!1,c=void 0;try{for(var h,u=o()(this.interHotelOrder.Guests);!(a=(h=u.next()).done);a=!0){var m=h.value;if(this.noValue(m.Mobile))return void this.$toast(this.$t("TM.PleaseFillX","function",{name:m.Name,thing:this.$t("base.CellphoneNumber")}));if(this.details.IsRequiredCostCenter&&this.noValue(d()(m.CostCenter)))return void this.$toast(this.$t("TM.PleaseFillX","function",{name:m.Name,thing:this.$t("base.CostCenter")}));if(this.details.IsRequiedDepartment&&this.noValue(d()(m.Department)))return void this.$toast(this.$t("TM.PleaseFillX","function",{name:m.Name,thing:this.$t("base.Department")}));if(this.details.IsRequiredBusinessUnit&&this.noValue(d()(m.BusinessUnit)))return void this.$toast(this.$t("TM.PleaseFillX","function",{name:m.Name,thing:this.details.BusinessUnitName}))}}catch(e){n=!0,c=e}finally{try{!a&&u.return&&u.return()}finally{if(n)throw c}}var p=!0,_=!1,v=void 0;try{for(var f,O=o()(this.interHotelOrder.Contacts);!(p=(f=O.next()).done);p=!0){var C=f.value;if(this.noValue(C.Mobile))return void this.$toast(this.$t("TM.PleaseFillX","function",{name:C.Name,thing:this.$t("base.CellphoneNumber")}));if(this.noValue(C.Email)&&(C.IsSendBookEmail||C.IsSendIssuedEmail||C.IsSendConfirmEmail))return void this.$toast(this.$t("TM.PleaseFillX","function",{name:C.Name,thing:this.$t("base.Email")}))}}catch(e){_=!0,v=e}finally{try{!p&&O.return&&O.return()}finally{if(_)throw v}}var T=JSON.parse(d()(this.interHotelOrder));T.Guests.forEach(function(e,t){T.Guests[t].Name=0===e.DefaultNameType?e.ChName:e.LastName+" "+e.FirstName}),this.SET_INTER_HOTEL_ORDER(T);var g=new r.a;this.interHotelOrder.Contacts.filter(function(e){return!g.has(e.Mobile)&&g.set(e.Mobile,1)}).length<this.interHotelOrder.Contacts.length?this.$toast(this.$t("TM.ThereMustBeNoContactWithTheSamePhoneNumber")):this._checkVetting()}else this.$toast(this.$t("TM.PleaseSelect","function",this.$t("base.Contacts")));else this.$toast(this.$t("base.PleaseAddARoomer"))},_checkVetting:function(){var e=this,t={HotelID:this.interHotelOrder.HotelID,CheckInDate:this.beTimeNumber(this.interHotelOrder.CheckInDate),CheckOutDate:this.beTimeNumber(this.interHotelOrder.CheckOutDate),RoomID:this.interHotelOrder.RoomID,RatePlanID:this.interHotelOrder.RatePlanID,CheckGuests:this.interHotelOrder.Guests,CustomItem:this.interHotelOrder.CustomItem,AppointVettingPersonID:this.interHotelOrder.AppointVettingPersonID,AppointVettingPersonName:this.interHotelOrder.AppointVettingPersonName,PayType:this.interHotelOrder.PayType,TravelType:Number(this.interHotelOrder.TravelType)};Object(S._3)(t).then(function(t){if(!0===t.ResultData.IsNeedVetting&&!1===t.ResultData.IsSameVetting)e.$alert({content:e.$t("TM.IfTheApproverIsInconsistent")});else{if(!0===t.ResultData.IsNeedVetting){var s=JSON.parse(d()(e.interHotelOrder));s.VettingProcessList=t.ResultData.VettingProcessList,e.SET_INTER_HOTEL_ORDER(s)}e._checkReason()}})},_checkReason:function(){var e=this,t=JSON.parse(d()(this.interHotelOrder));t.CheckGuests=this.interHotelOrder.Guests,t.CheckInDate=this.beTimeNumber(this.interHotelOrder.CheckInDate),t.CheckOutDate=this.beTimeNumber(this.interHotelOrder.CheckOutDate),Object(S._2)(t).then(function(t){if(!0===t.ResultData.IsViolate){var s="";t.ResultData.GuestNames&&t.ResultData.GuestNames.forEach(function(e){2===e.ViolateRankResult&&(s+=e.Name+"、")}),e.noValue(s)?(e.showViolationRank=!0,e.violationRankDetails=t.ResultData):(s=s.substring(0,s.length-1),e.$toast(e.$t("TM.XIsNotAllowedToBook","function",s)))}else e._checkOrderRepeat()})},_checkOrderRepeat:function(){var e=this,t={CheckInDate:this.beTimeNumber(this.interHotelOrder.CheckInDate),CheckOutDate:this.beTimeNumber(this.interHotelOrder.CheckOutDate),Guests:this.interHotelOrder.Guests};Object(S.L)(t).then(function(t){t.ResultData.IsRepeat?e.$alert({content:t.ResultData.Message,cancelTxt:e.$t("base.Cancel"),confirmTxt:e.$t("base.Continue"),confirmFn:function(){e._nextStep()}}):e._nextStep()})},_nextStep:function(){this.$router.push({name:"interHotelConfirm",params:h()(this.$route.params,{hotelOrderInit:this.details,room:this.room,ratePlan:this.ratePlan})})},_resetContentInTheHotelOrder:function(){var e=p()({},this.interHotelOrder);e.ViolationRankName="",e.ViolationRankReason="",e.Guests=[],this.SET_INTER_HOTEL_ORDER(e)}}),components:{CHeader:v.a,HsScroll:f.a,HsButton:O.a,HsGradientButton:C.a,HsSection:T.a,HsCell1:g.a,HsCell3:R.a,HsCellSmallTitle:H.a,HsDialog:D.a,CPassenger:b.a,CCustomItem:$.a,CContacts:y.a,CFrequentContacts:N.a,ViolationRank:E,PassengerDetails:w.a}},L={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hs-container"},[s("c-header",{staticClass:"c-header",attrs:{title:e.$t("base.HotelBooking")+"-"+(0===Number(e.interHotelOrder.TravelType)?e.$t("base.Business"):e.$t("base.Personal")),isBackNav:""}}),e._v(" "),e.noValue(JSON.stringify(e.hotel))?e._e():s("hs-scroll",{staticClass:"table-view"},[s("ul",[s("hs-section",[s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"custom-cell-hotel"},[s("p",{staticClass:"title"},[e._v(e._s(e.hotel.NameChn)+"("+e._s(e.hotel.NameEng)+")")]),e._v(" "),s("p",{staticClass:"little-title"},[e._v(e._s(e.ratePlan.RoomNameChn))]),e._v(" "),s("p",[e._v(e._s(e.ratePlan.BedType)+" | "+e._s(e.$t("base.CanAccommodateXPeople","function",e.interHotelOrder.AdultAmount))+" | "+e._s(e.ratePlan.BreadFast))]),e._v(" "),s("p",[e._v(e._s(e.$t("base.CheckInDate"))+" "+e._s(e.$t(e.interHotelOrder.CheckInDate,"date",["yyyy-MM-dd","MM dd, yyyy"])))]),e._v(" "),s("p",[e._v(e._s(e.$t("base.CheckOutDate"))+" "+e._s(e.$t(e.interHotelOrder.CheckOutDate,"date",["yyyy-MM-dd","MM dd, yyyy"]))+" "+e._s(e.$t("base.TotalNights","function",e.getApartDayCount(e.interHotelOrder.CheckInDate,e.interHotelOrder.CheckOutDate))))])])]),e._v(" "),e.noValue(e.ratePlan.CancelRule)?e._e():s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"custom-cell-cancel"},[s("div",{staticStyle:{"background-image":"url('static/image/hotel/irreversible.png')"}}),e._v(" "),s("div",[s("p",[e._v(e._s(e.ratePlan.CancelRule.CancelRuleDesc))])])])])],1),e._v(" "),s("hs-section",[s("hs-cell-1",{attrs:{showLogo:!1,showSeparator:!1}},[s("div",{staticClass:"custom-cell-room"},[s("div",{on:{click:function(t){e.showRoomAmount=!e.showRoomAmount}}},[s("div",{attrs:{type:e.language}},[s("p",[e._v(e._s(e.$t("base.NumberOfRooms")))]),e._v(" "),s("p",[e._v(e._s(e.interHotelOrder.RoomAmount)+e._s(e.$t("base.QuantifierHotel"))),s("span",[e._v(e._s(e.$t("base.CanAccommodateUpToXPeople","function",e.interHotelOrder.AdultAmount)))])])]),e._v(" "),s("div",{staticClass:"arrow",staticStyle:{"background-image":"url('static/image/base/cell/right_arrow_gray.png')"},style:{transform:"rotate("+(e.showRoomAmount?"90deg":"-90deg")+")"}})]),e._v(" "),e.showRoomAmount?s("div",e._l(5,function(t){return s("p",{key:t,class:{active:e.interHotelOrder.RoomAmount===t},on:{click:function(s){e._setRoomAmount(t)}}},[e._v(e._s(t))])})):e._e()])])],1),e._v(" "),e._l(e.interHotelOrder.RoomAmount,function(t){return s("hs-section",{key:t},[s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"custom-cell-guest"},[s("div",{staticClass:"header"},[s("div",{attrs:{type:e.language}},[s("p",[e._v(e._s(e.$t("base.Room")))]),e._v(" "),s("p",[e._v(e._s(e.$t("base.FillInAccordingToTheActualNumber")))])]),e._v(" "),s("hs-button",{attrs:{type:"common",fontSize:"0.8rem"},nativeOn:{click:function(s){e._delegateWithAdd(t-1)}}},[e._v(e._s(e.$t("base.Add"))+" +")])],1),e._v(" "),e._l(e.interHotelOrder.AdultAmount,function(i){return s("div",{key:"AdultAmount"+i,staticClass:"cell"},[s("div",{staticClass:"view",style:{transform:"translateX("+(e.interHotelOrder.Guests.filter(function(e){return e.GuestToRoomNo===t-1})[i-1]&&e.interHotelOrder.Guests.filter(function(e){return e.GuestToRoomNo===t-1})[i-1].openDelete?"-60px":"0px")+")"}},[s("div",{staticClass:"logo",on:{click:function(s){e._setPassengerOpenDelete(!0,t,i)}}},[s("div",{staticStyle:{"background-image":"url('static/image/plane-ticket/book/delete.png')"}})]),e._v(" "),s("div",{staticClass:"details",on:{click:function(s){e._gotoPassengerDetails(t,i)}}},[s("p",[1===i?[e._v(e._s(e.$t("base.MainRoomer")))]:e._e()],2),e._v(" "),e.interHotelOrder.Guests.filter(function(e){return e.GuestToRoomNo===t-1})[i-1]?s("p",[0===e.interHotelOrder.Guests.filter(function(e){return e.GuestToRoomNo===t-1})[i-1].DefaultNameType?[e._v("\n                      "+e._s(e.interHotelOrder.Guests.filter(function(e){return e.GuestToRoomNo===t-1})[i-1].ChName)+"\n                    ")]:[e._v("\n                      "+e._s(e.interHotelOrder.Guests.filter(function(e){return e.GuestToRoomNo===t-1})[i-1].FirstName)+"\n                      "+e._s(e.interHotelOrder.Guests.filter(function(e){return e.GuestToRoomNo===t-1})[i-1].LastName)+"\n                    ")]],2):s("p",[e._v(e._s(e.$t("base.PleaseAddARoomer")))])]),e._v(" "),s("div",{staticClass:"delete",on:{click:function(s){e._deletePassenger(e.interHotelOrder.Guests.filter(function(e){return e.GuestToRoomNo===t-1})[i-1])}}},[e._v(e._s(e.$t("base.Delete")))])])])})],2)]),e._v(" "),e.details.ChargeInfo&&e.interHotelOrder.RoomAmount===t?s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"service-fee"},[s("p",[e._v(e._s(e.$t("base.ServiceFee")))]),e._v(" "),s("p",[e._v("￥"+e._s(e.details.ChargeInfo.ServiceCharge))])])]):e._e()],1)}),e._v(" "),s("hs-section",[s("hs-cell-small-title",{attrs:{title:e.$t("base.ArrivalHotelTime"),type:"disabled-input",value:e.interHotelOrder.ArrivalTime,placeholder:"("+e.$t("base.NotNecessaryChoose")+") "+e.$t("base.PleaseChoose")},nativeOn:{click:function(t){e.showArrivalTimeDialog=!0}}}),e._v(" "),s("hs-cell-small-title",{attrs:{title:e.$t("base.SpecificRequirements"),type:"input",placeholder:"("+e.$t("base.NotNecessaryFill")+") "+e.$t("base.PleaseFill"),showLogo:!1},model:{value:e.specificRequirements,callback:function(t){e.specificRequirements=t},expression:"specificRequirements"}}),e._v(" "),e.details.IsDisplayCustomItem?s("hs-cell-small-title",{attrs:{title:e.details.CustomItemName,type:"disabled-input",value:e.interHotelOrder.CustomItem?e.interHotelOrder.CustomItem.Name:"",placeholder:"("+(e.details.IsRequiredCustomItem?e.$t("base.RequiredChoose"):e.$t("base.NotNecessaryChoose"))+") "+e.$t("base.PleaseChoose")},nativeOn:{click:function(t){e.showCCustomItem=!0}}}):e._e(),e._v(" "),e.details.IsDisplayPurpose?s("hs-cell-small-title",{attrs:{title:e.$t("base.Purpose"),type:"input",placeholder:"("+(e.details.IsRequiredPurpose?e.$t("base.RequiredFill"):e.$t("base.NotNecessaryFill"))+") "+e.$t("base.PleaseFill"),showLogo:!1},model:{value:e.purpose,callback:function(t){e.purpose=t},expression:"purpose"}}):e._e(),e._v(" "),3===e.details.VettingType&&e.details.EnableVetting?s("hs-cell-small-title",{attrs:{title:e.$t("base.Approver"),type:"disabled-input",value:e.interHotelOrder.AppointVettingPersonName,placeholder:"("+e.$t("base.RequiredChoose")+") "+e.$t("base.PleaseChoose")},nativeOn:{click:function(t){e.picker.show()}}}):e._e(),e._v(" "),0===Number(e.interHotelOrder.TravelType)?s("hs-cell-small-title",{attrs:{title:e.$t("base.PaymentWay"),type:"disabled-input",value:e._f("filterPayType")(e.interHotelOrder.PayType),placeholder:"("+e.$t("base.RequiredChoose")+") "+e.$t("base.PleaseChoose")},nativeOn:{click:function(t){e.payTypePicker.show()}}}):e._e()],1),e._v(" "),s("hs-section",[s("hs-cell-1",{attrs:{value:e.$t("base.ContactInformation"),logoName:"add.png"},nativeOn:{click:function(t){e.$refs.CFrequentContacts.open()}}}),e._v(" "),e._l(e.interHotelOrder.Contacts,function(t,i){return s("hs-cell-1",{key:i},[s("div",{staticClass:"people-infor",style:{transform:"translateX("+(e.interHotelOrder.Contacts[i].openDelete?"-65px":"0px")+")"}},[s("div",{staticClass:"left",on:{click:function(t){e._setContactsOpenDelete(!0,i)}}},[s("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/plane-ticket/book/delete.png')"}})]),e._v(" "),s("div",{staticClass:"right",on:{click:function(t){e._gotoContactsDetails(i)}}},[s("div",{staticClass:"item"},[s("p",{staticClass:"name"},[e._v(e._s(t.Name))])]),e._v(" "),s("div",{staticClass:"item"},[s("p",{staticClass:"other-title"},[e._v(e._s(e.$t("base.CellphoneNumber")))]),e._v(" "),s("p",{staticClass:"other-value"},[e._v(e._s(t.Mobile?t.Mobile:e.$t("base.Unfilled")))])]),e._v(" "),s("div",{staticClass:"item"},[s("p",{staticClass:"other-title"},[e._v(e._s(e.$t("base.Email")))]),e._v(" "),s("p",{staticClass:"other-value"},[e._v(e._s(t.Email?t.Email:e.$t("base.Unfilled")))])]),e._v(" "),s("div",{staticClass:"delete",on:{click:function(t){t.stopPropagation(),e._deleteContact(i)}}},[e._v(e._s(e.$t("base.Delete")))])])])])})],2)],2)]),e._v(" "),s("div",{staticClass:"footer",on:{click:e._switchDetailsDialog}},[s("div",{staticClass:"price"},[e.details.ChargeInfo?s("p",[e._v("￥"+e._s(e.details.ChargeInfo.TotalPrice))]):e._e(),e._v(" "),s("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/base/cell/right_arrow_gray.png')"},style:{transform:e.showDetailsDialog?"rotate(90deg)":"rotate(-90deg)"}})]),e._v(" "),s("div",{staticClass:"details"},[s("hs-gradient-button",{attrs:{type:"common",width:"auto",title:e.$t("base.NextStep")},on:{click:e._gotoConfirm}})],1)]),e._v(" "),s("hs-dialog",{ref:"detailsDialog",attrs:{height:"calc(100% - 50px)"},model:{value:e.showDetailsDialog,callback:function(t){e.showDetailsDialog=t},expression:"showDetailsDialog"}},[e.details.ChargeInfo?s("hs-scroll",{staticClass:"detailsDialog",attrs:{data:[e.interHotelOrder],isListenScroll:!0},on:{scrollStart:e._scrollStart},nativeOn:{click:function(e){e.stopPropagation()}}},[s("ul",[s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[e._v(e._s(e.$t("base.PriceHotel")))]),e._v(" "),s("p",[s("span",[e._v("￥"+e._s(e.details.ChargeInfo.AverageRate*e.getApartDayCount(e.interHotelOrder.CheckInDate,e.interHotelOrder.CheckOutDate)))]),e._v(" "),s("span",[e._v("x "+e._s(e.getApartDayCount(e.interHotelOrder.CheckInDate,e.interHotelOrder.CheckOutDate))+e._s(e.$t("base.QuantifierNight")))]),e._v(" "),s("span",[e._v("x "+e._s(e.interHotelOrder.RoomAmount)+e._s(e.$t("base.QuantifierHotel")))])])])]),e._v(" "),s("hs-cell-1",{attrs:{showLogo:!1}},[s("div",{staticClass:"detailsDialog-custom-cell"},[s("p",[e._v(e._s(e.$t("base.ServiceFee")))]),e._v(" "),s("p",[s("span",[e._v("￥"+e._s(e.details.ChargeInfo.ServiceCharge))])])])])],1)]):e._e(),e._v(" "),s("div",{ref:"show-more",staticClass:"show-more"},[e._v(e._s(e.$t("base.SlideUpToSeeMore")))])],1),e._v(" "),s("hs-dialog",{model:{value:e.showArrivalTimeDialog,callback:function(t){e.showArrivalTimeDialog=t},expression:"showArrivalTimeDialog"}},[s("hs-scroll",{ref:"arrivalTimeDialog",staticClass:"arrivalTimeDialog",attrs:{data:e.arrivalTimeItems}},[s("ul",[s("div",{staticClass:"item-header"},[e._v(e._s(e.$t("base.ETA")))]),e._v(" "),s("div",{staticClass:"item-header-little"},[e._v(e._s(e.$t("base.TheRoomIsReservedAllNight")))]),e._v(" "),s("div",{staticClass:"items"},e._l(e.arrivalTimeItems,function(t,i){return s("p",{key:i,class:{actived:e.interHotelOrder.ArrivalTime===t},style:{"margin-right":i%3==2?"0px":"","margin-bottom":i%3==0?"20px":""},on:{click:function(s){e._selectArrivalTimeItem(t)}}},[e._v(e._s(t))])}))])])],1),e._v(" "),e.ratePlan&&e.ratePlan.MaxAdultAmount?[s("c-passenger",{ref:"CPassenger",attrs:{XOrder:e.interHotelOrder,BookInit:e.details,OrderBusinessType:11,MaxLength:e.ratePlan.MaxAdultAmount,GuestToRoomNo:e.GuestToRoomNo},on:{delegateWithConfirm:e._delegateWithConfirm}})]:e._e(),e._v(" "),s("passenger-details",{ref:"PassengerDetails",attrs:{details:e.editingPassenger,BookInit:e.details,OrderBusinessType:11},on:{delegate:e._delegateWithPassengerDetails}}),e._v(" "),s("c-custom-item",{attrs:{show:e.showCCustomItem,orderInit:e.details},on:{"update:show":function(t){e.showCCustomItem=t},"update:orderInit":function(t){e.details=t},delegate:e._delegateWithCustomItem}}),e._v(" "),s("c-contacts",{attrs:{show:e.showCContacts,datalist:e.interHotelOrder.Contacts,OrderBusinessType:2},on:{"update:show":function(t){e.showCContacts=t},delegate:e._delegateWithContacts},model:{value:e.contactDetails,callback:function(t){e.contactDetails=t},expression:"contactDetails"}}),e._v(" "),s("c-frequent-contacts",{ref:"CFrequentContacts",attrs:{orderInit:e.details,datalist:e.interHotelOrder.Contacts,OrderBusinessType:2},on:{"update:orderInit":function(t){e.details=t},delegate:e._delegateWithFrequentContacts}}),e._v(" "),s("violation-rank",{attrs:{show:e.showViolationRank,details:e.violationRankDetails},on:{"update:show":function(t){e.showViolationRank=t},delegate:e._nextStep}})],2)},staticRenderFns:[]};var M=s("VU/8")(G,L,!1,function(e){s("UpX8")},"data-v-ddb601dc",null);t.default=M.exports},UpX8:function(e,t){},X7Np:function(e,t){}});
//# sourceMappingURL=13.b9a1605634f0ac31a819.js.map