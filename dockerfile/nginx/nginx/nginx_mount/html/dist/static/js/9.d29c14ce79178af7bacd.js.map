{"version":3,"sources":["webpack:///src/pages/personal/link-cellphone/change-mobile.vue","webpack:///./src/pages/personal/link-cellphone/change-mobile.vue?90e3","webpack:///./src/pages/personal/link-cellphone/change-mobile.vue","webpack:///src/pages/personal/link-cellphone/input-mobile.vue","webpack:///./src/pages/personal/link-cellphone/input-mobile.vue?bd70","webpack:///./src/pages/personal/link-cellphone/input-mobile.vue","webpack:///src/pages/personal/link-cellphone/link-cellphone.vue","webpack:///./src/pages/personal/link-cellphone/link-cellphone.vue?e3cb","webpack:///./src/pages/personal/link-cellphone/link-cellphone.vue"],"names":["change_mobile","data","show","timeSecond","Code","methods","extends_default","Object","vuex_esm","open","this","_setCountDown","close","_this","myInterval","setInterval","clearInterval","_getValidCode","_this2","params","mobile","$parent","api","then","res","ResultData","$toast","$t","_submit","_this3","noValue","Mobile","SET_PERSONAL_CENTER_DATA","$router","push","components","CHeader","c_header","HsGradientButton","hs_gradient_button","link_cellphone_change_mobile","render","_vm","_h","$createElement","_c","_self","attrs","name","staticClass","title","leftIcon1","leftFn1","_v","_s","on","click","staticStyle","background-image","directives","rawName","value","expression","maxlength","placeholder","domProps","input","$event","target","composing","_e","staticRenderFns","personal_link_cellphone_change_mobile","__webpack_require__","normalizeComponent","ssrContext","details","_getData","dispatchPersonalCenterData","$refs","changeMobile","_nextStep","isPhoneNumber","UserInfo","ChangeMobile","link_cellphone_input_mobile","ref","personal_link_cellphone_input_mobile","input_mobile_normalizeComponent","input_mobile","beforeRouteLeave","to","from","next","inputMobile","created","_gotoChangeMobild","InputMobile","link_cellphone_link_cellphone","isBackNav","fixedBackPath","link_cellphone_Component","link_cellphone_normalizeComponent","link_cellphone","__webpack_exports__"],"mappings":"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","file":"static/js/9.d29c14ce79178af7bacd.js","sourcesContent":["<template>\n  <transition name=\"slide\">\n    <div class=\"hs-container-child\" v-if=\"show\">\n      <c-header :title=\"$t('base.ChangeMobileNumber')\" leftIcon1=\"return.png\" :leftFn1=\"close\"></c-header>\n      <div class=\"main\">\n        <p>\n          {{$t('base.SendSMS_1')}}\n          <span>{{$parent.mobile}}</span>\n          {{$t('base.SendSMS_2')}}\n          <span v-if=\"timeSecond > 0\">{{$t('base.ResendPleaseWait')}}{{timeSecond}}s</span>\n          <span v-else @click=\"_getValidCode\">\n            {{$t('base.ClickToResend')}}\n          </span>\n        </p>\n        <div class=\"infor\">\n          <div class=\"item\">\n            <div class=\"logo\" style=\"background-image: url('static/image/personal-center/link-cellphone/verification.png')\"></div>\n            <input maxlength='50' v-model=\"Code\" :placeholder=\"$t('base.EnterVerificationCode')\"/>\n          </div>\n        </div>\n        <hs-gradient-button :title=\"$t('base.ConfirmTheChanges')\" @click=\"_submit\"></hs-gradient-button>\n      </div>\n    </div>\n  </transition>\n</template>\n<script type=\"text/ecmascript-6\">\nimport CHeader from 'components/c-header/c-header'\nimport HsGradientButton from 'base/hs-button/hs-gradient-button'\nimport {mapMutations} from 'vuex'\nimport {kpiUserSendBindMobileValidCode, kpiUserBindMobile} from 'api'\nexport default {\n  data() {\n    return {\n      show: false,\n      timeSecond: 0,\n      Code: ''\n    }\n  },\n  methods: {\n    ...mapMutations([\n      'SET_PERSONAL_CENTER_DATA'\n    ]),\n    open() {\n      this.show = true\n      this._setCountDown()\n    },\n    close() {\n      this.show = false\n    },\n    _setCountDown() {\n      this.timeSecond = 60\n      let myInterval = setInterval(() => {\n        if (--this.timeSecond <= 0) {\n          clearInterval(myInterval)\n        }\n      }, 1000)\n    },\n    _getValidCode() {\n      this._setCountDown()\n      let params = {\n        mobile: this.$parent.mobile\n      }\n      kpiUserSendBindMobileValidCode(params).then((res) => {\n        console.log('获取验证码: ', res)\n        if (res.ResultData === true) {\n          this.$toast(this.$t('TM.VerificationCodeHasBeenSent'))\n        } else {\n          this.$toast(this.$t('TM.VerificationCodeFailedToSend'))\n        }\n      })\n    },\n    _submit() {\n      if (this.noValue(this.Code)) {\n        this.$toast(this.$t('base.EnterVerificationCode'))\n        return\n      }\n      let params = {\n        Mobile: this.$parent.mobile,\n        Code: this.Code\n      }\n      kpiUserBindMobile(params).then((res) => {\n        console.log('修改手机号')\n        if (res.ResultData === true) {\n          this.$toast(this.$t('TM.ChangeSucceed'))\n          this.SET_PERSONAL_CENTER_DATA({})\n          this.close()\n          this.$parent.close()\n          this.$router.push('/personal/setting')\n        }\n      })\n    }\n  },\n  components: {\n    CHeader,\n    HsGradientButton\n  }\n}\n</script>\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n@import '~common/stylus/base'\n@import '~common/stylus/variable'\n.hs-container-child\n  width 100%\n  height 100%\n  position absolute\n  top 0\n  left 0\n  background-color $color_gray_background_0\n  >.main\n    @extend .flex-column\n    @extend .flex-start\n    width 100%\n    height calc(100% - 45px)\n    padding-top 20px\n    >p\n      width 90%\n      line-height 1.4em\n      color $color_black_text_1\n      word-wrap break-word\n      >span\n        color $color_theme\n        margin 0 3px\n    >.infor\n      width 90%\n      border 1px solid $color_gray_layer\n      border-radius 4px\n      padding 0 10px\n      background-color $color_white\n      margin 20px 0\n      >.item\n        @extend .flex-row\n        @extend .flex-start\n        width 100%\n        height 44px\n        border-bottom 1px solid $color_gray_layer\n        >.logo\n          width 20px\n          height 20px\n          background-size 100% 100%\n          margin-right 10px\n        >input\n          width calc(100% - 30px)\n          height 30px\n        &:last-child\n          border-bottom-width 0px\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/personal/link-cellphone/change-mobile.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[(_vm.show)?_c('div',{staticClass:\"hs-container-child\"},[_c('c-header',{attrs:{\"title\":_vm.$t('base.ChangeMobileNumber'),\"leftIcon1\":\"return.png\",\"leftFn1\":_vm.close}}),_vm._v(\" \"),_c('div',{staticClass:\"main\"},[_c('p',[_vm._v(\"\\n        \"+_vm._s(_vm.$t('base.SendSMS_1'))+\"\\n        \"),_c('span',[_vm._v(_vm._s(_vm.$parent.mobile))]),_vm._v(\"\\n        \"+_vm._s(_vm.$t('base.SendSMS_2'))+\"\\n        \"),(_vm.timeSecond > 0)?_c('span',[_vm._v(_vm._s(_vm.$t('base.ResendPleaseWait'))+_vm._s(_vm.timeSecond)+\"s\")]):_c('span',{on:{\"click\":_vm._getValidCode}},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('base.ClickToResend'))+\"\\n        \")])]),_vm._v(\" \"),_c('div',{staticClass:\"infor\"},[_c('div',{staticClass:\"item\"},[_c('div',{staticClass:\"logo\",staticStyle:{\"background-image\":\"url('static/image/personal-center/link-cellphone/verification.png')\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.Code),expression:\"Code\"}],attrs:{\"maxlength\":\"50\",\"placeholder\":_vm.$t('base.EnterVerificationCode')},domProps:{\"value\":(_vm.Code)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.Code=$event.target.value}}})])]),_vm._v(\" \"),_c('hs-gradient-button',{attrs:{\"title\":_vm.$t('base.ConfirmTheChanges')},on:{\"click\":_vm._submit}})],1)],1):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-77b528be\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/personal/link-cellphone/change-mobile.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-77b528be\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./change-mobile.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./change-mobile.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./change-mobile.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-77b528be\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./change-mobile.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-77b528be\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/personal/link-cellphone/change-mobile.vue\n// module id = null\n// module chunks = ","<template>\n  <transition name=\"slide\">\n    <div class=\"hs-container-child\" v-if=\"show\">\n      <c-header :title=\"$t('base.ChangeMobileNumber')\" leftIcon1=\"return.png\" :leftFn1=\"close\"></c-header>\n      <div class=\"main\">\n        <p>\n          {{$t('base.PleaseFillIn')}}\n          <template v-if=\"details.UserInfo && details.UserInfo.Mobile\">\n            {{$t('base.CurrentMobile')}}<span>{{details.UserInfo.Mobile}}</span>\n          </template>\n        </p>\n        <div class=\"infor\">\n          <div class=\"item\">\n            <div class=\"logo\" style=\"background-image: url('static/image/personal-center/link-cellphone/mobile.png')\"></div>\n            <input maxlength='50' v-model=\"mobile\" :placeholder=\"$t('base.EnterNewMobile')\"/>\n          </div>\n        </div>\n        <hs-gradient-button :title=\"$t('base.NextStep')\" @click=\"_nextStep\"></hs-gradient-button>\n      </div>\n      <change-mobile ref=\"changeMobile\"></change-mobile>\n    </div>\n  </transition>\n</template>\n<script type=\"text/ecmascript-6\">\nimport CHeader from 'components/c-header/c-header'\nimport HsGradientButton from 'base/hs-button/hs-gradient-button'\nimport ChangeMobile from './change-mobile'\nimport {kpiUserSendBindMobileValidCode} from 'api'\nimport {mapActions} from 'vuex'\nexport default {\n  data() {\n    return {\n      show: false,\n      details: {},\n      mobile: ''\n    }\n  },\n  methods: {\n    ...mapActions([\n      'dispatchPersonalCenterData'\n    ]),\n    open() {\n      this.show = true\n      this._getData()\n    },\n    close() {\n      this.show = false\n    },\n    _getData() {\n      this.dispatchPersonalCenterData().then((res) => {\n        console.log('个人中心: ', res)\n        this.details = res\n      })\n    },\n    _getValidCode() {\n      let params = {\n        mobile: this.mobile\n      }\n      kpiUserSendBindMobileValidCode(params).then((res) => {\n        console.log('获取验证码: ', res)\n        if (res.ResultData === true) {\n          this.$toast(this.$t('TM.VerificationCodeHasBeenSent'))\n          this.$refs.changeMobile.open()\n        } else {\n          this.$toast(this.$t('TM.VerificationCodeFailedToSend'))\n        }\n      })\n    },\n    _nextStep() {\n      if (!this.isPhoneNumber(this.mobile)) {\n        this.$toast(this.$t('TM.XFormatIsIncorrect', 'function', this.$t('base.CellphoneNumber')))\n        return\n      } else if (this.details.UserInfo && !this.noValue(this.details.UserInfo.Mobile) && this.mobile === this.details.UserInfo.Mobile) {\n        this.$toast(this.$t('TM.ThePhoneNumberIsTheSameAsTheCurrentlyBoundMobilePhoneNumber'))\n        return\n      }\n      this._getValidCode()\n    }\n  },\n  components: {\n    CHeader,\n    HsGradientButton,\n    ChangeMobile\n  }\n}\n</script>\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n@import '~common/stylus/base'\n@import '~common/stylus/variable'\n.hs-container-child\n  width 100%\n  height 100%\n  position absolute\n  top 0\n  left 0\n  background-color $color_gray_background_0\n  >.main\n    @extend .flex-column\n    @extend .flex-start\n    width 100%\n    height calc(100% - 45px)\n    padding-top 20px\n    >p\n      width 90%\n      line-height 1.4em\n      color $color_black_text_1\n      >span\n        color $color_theme\n        margin 0 5px\n    >.infor\n      width 90%\n      border 1px solid $color_gray_layer\n      border-radius 4px\n      padding 0 10px\n      background-color $color_white\n      margin 20px 0\n      >.item\n        @extend .flex-row\n        @extend .flex-start\n        width 100%\n        height 44px\n        border-bottom 1px solid $color_gray_layer\n        >.logo\n          width 20px\n          height 20px\n          background-size 100% 100%\n          margin-right 10px\n        >input\n          width calc(100% - 30px)\n          height 30px\n        &:last-child\n          border-bottom-width 0px\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/personal/link-cellphone/input-mobile.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[(_vm.show)?_c('div',{staticClass:\"hs-container-child\"},[_c('c-header',{attrs:{\"title\":_vm.$t('base.ChangeMobileNumber'),\"leftIcon1\":\"return.png\",\"leftFn1\":_vm.close}}),_vm._v(\" \"),_c('div',{staticClass:\"main\"},[_c('p',[_vm._v(\"\\n        \"+_vm._s(_vm.$t('base.PleaseFillIn'))+\"\\n        \"),(_vm.details.UserInfo && _vm.details.UserInfo.Mobile)?[_vm._v(\"\\n          \"+_vm._s(_vm.$t('base.CurrentMobile'))),_c('span',[_vm._v(_vm._s(_vm.details.UserInfo.Mobile))])]:_vm._e()],2),_vm._v(\" \"),_c('div',{staticClass:\"infor\"},[_c('div',{staticClass:\"item\"},[_c('div',{staticClass:\"logo\",staticStyle:{\"background-image\":\"url('static/image/personal-center/link-cellphone/mobile.png')\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mobile),expression:\"mobile\"}],attrs:{\"maxlength\":\"50\",\"placeholder\":_vm.$t('base.EnterNewMobile')},domProps:{\"value\":(_vm.mobile)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.mobile=$event.target.value}}})])]),_vm._v(\" \"),_c('hs-gradient-button',{attrs:{\"title\":_vm.$t('base.NextStep')},on:{\"click\":_vm._nextStep}})],1),_vm._v(\" \"),_c('change-mobile',{ref:\"changeMobile\"})],1):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-305c4cee\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/personal/link-cellphone/input-mobile.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-305c4cee\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./input-mobile.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./input-mobile.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./input-mobile.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-305c4cee\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./input-mobile.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-305c4cee\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/personal/link-cellphone/input-mobile.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"hs-container\">\n    <c-header :title=\"$t('base.LinkYourCellphone')\" isBackNav fixedBackPath=\"/personal/setting\"></c-header>\n    <div class=\"main\">\n      <div class=\"logo\" style=\"background-image: url('static/image/personal-center/link-cellphone/phone.png')\"></div>\n      <p>{{details.UserInfo && details.UserInfo.Mobile ? details.UserInfo.Mobile : $t('base.Unlinked')}}</p>\n      <p>{{details.UserInfo && details.UserInfo.Mobile ? $t('base.MobileLinked') : $t('base.MobileUnlinked')}}</p>\n      <hs-gradient-button v-if=\"details.UserInfo\"\n        :title=\"details.UserInfo.Mobile ? $t('base.ChangeMobileNumber') : $t('base.GoToBind')\" @click=\"_gotoChangeMobild\"></hs-gradient-button>\n    </div>\n    <input-mobile ref=\"inputMobile\"></input-mobile>\n  </div>\n</template>\n<script type=\"text/ecmascript-6\">\nimport CHeader from 'components/c-header/c-header'\nimport HsGradientButton from 'base/hs-button/hs-gradient-button'\nimport InputMobile from './input-mobile'\nimport {mapActions} from 'vuex'\nexport default {\n  beforeRouteLeave(to, from, next) {\n    if (this.$refs.inputMobile.$refs.changeMobile && this.$refs.inputMobile.$refs.changeMobile.show) {\n      this.$refs.inputMobile.$refs.changeMobile.close()\n      next(false)\n    } else if (this.$refs.inputMobile && this.$refs.inputMobile.show) {\n      this.$refs.inputMobile.close()\n      next(false)\n    } else {\n      next()\n    }\n  },\n  created() {\n    this._getData()\n  },\n  data() {\n    return {\n      details: {}\n    }\n  },\n  methods: {\n    ...mapActions([\n      'dispatchPersonalCenterData'\n    ]),\n    _getData() {\n      this.dispatchPersonalCenterData().then((res) => {\n        console.log('个人中心: ', res)\n        this.details = res\n      })\n    },\n    _gotoChangeMobild() {\n      this.$refs.inputMobile.open()\n    }\n  },\n  components: {\n    CHeader,\n    HsGradientButton,\n    InputMobile\n  }\n}\n</script>\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n@import '~common/stylus/base'\n@import '~common/stylus/variable'\n.hs-container\n  width 100%\n  height 100%\n  >.main\n    @extend .flex-column\n    @extend .flex-center\n    width 100%\n    height calc(100% - 45px)\n    >.logo\n      width 80px\n      height 80px\n      background-size 100% 100%\n      margin-bottom 50px\n    >p\n      width 90%\n      line-height 1.4em\n      text-align center\n      &:nth-child(2)\n        font-size 1.1rem\n        font-weight bold\n        margin-bottom 10px\n      &:nth-child(3)\n        color $color_gray_text\n        margin-bottom 20px\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/personal/link-cellphone/link-cellphone.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hs-container\"},[_c('c-header',{attrs:{\"title\":_vm.$t('base.LinkYourCellphone'),\"isBackNav\":\"\",\"fixedBackPath\":\"/personal/setting\"}}),_vm._v(\" \"),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"logo\",staticStyle:{\"background-image\":\"url('static/image/personal-center/link-cellphone/phone.png')\"}}),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.details.UserInfo && _vm.details.UserInfo.Mobile ? _vm.details.UserInfo.Mobile : _vm.$t('base.Unlinked')))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.details.UserInfo && _vm.details.UserInfo.Mobile ? _vm.$t('base.MobileLinked') : _vm.$t('base.MobileUnlinked')))]),_vm._v(\" \"),(_vm.details.UserInfo)?_c('hs-gradient-button',{attrs:{\"title\":_vm.details.UserInfo.Mobile ? _vm.$t('base.ChangeMobileNumber') : _vm.$t('base.GoToBind')},on:{\"click\":_vm._gotoChangeMobild}}):_vm._e()],1),_vm._v(\" \"),_c('input-mobile',{ref:\"inputMobile\"})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1469afbe\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/personal/link-cellphone/link-cellphone.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1469afbe\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./link-cellphone.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./link-cellphone.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./link-cellphone.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1469afbe\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./link-cellphone.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1469afbe\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/personal/link-cellphone/link-cellphone.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}