{"version":3,"sources":["webpack:///src/pages/home/home.vue","webpack:///./src/pages/home/home.vue?f5ed","webpack:///./src/pages/home/home.vue"],"names":["home","mounted","this","_checkVersion","_getDetails","_getBannners","_getNotice","_getCalendarGet","beforeDestroy","clearInterval","timeInterval","data","tableViewOptions","pullDownRefresh","threshold","details","banners","bannerSwiper","undefined","version","bookActivedIndex","messages","messagesIndex","methods","extends_default","Object","vuex_esm","StartDate","beTime","Date","EndDate","getNewDate","params","beTimeNumber","api","then","res","window","localStorage","CALENDAR","stringify_default","ResultData","_this","PageIndex","Source","Notices","map","v","Title","$refs","M1","innerHTML","innerText","M2","length","_startInterval","_this2","w1","AnnouncementTitle","getBoundingClientRect","width","w2","AnnouncementMore","AnnouncementMessage","style","setInterval","top","setTimeout","_reloadWebview","clear","location","reload","_this3","PayTypePermission","SET_UN_HANDLE_VETTING_COUNT","UnHandleVettingCount","height","document","body","offsetHeight","BookBox","_checkLocalStorageWithStaticJson","catch","tableView","forceUpdate","_this4","adType","_this5","CityVersion","NationVersion","FlightCityVersion","IntlFlightCityVersion","HotelCityVersion","IntlHotelCityVersion","TrainCityVersion","localStorageCityVersion","JSON","parse","_saveLocalStorageWithStaticJson","Name","original","hot","list","slice","open","removeItem","setItem","GetVersion","title","_gotoPlaneTicketQuery","$router","push","path","query","TravelType","_gotoHotelQuery","_gotoTrainTicketQuery","components","HsScroll","hs_scroll","HsSwiper","hs_swiper","CTabbar","c_tabbar","home_home","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","options","on","pulling-down","_v","_s","$t","CompanyName","images","PicUrl","click","$event","staticStyle","background-image","class","item-actived","_e","MenuPermissions","indexOf","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/17.1d7e71a103613b01ec75.js","sourcesContent":["<template>\n  <div class=\"hs-container\">\n    <hs-scroll\n      ref=\"tableView\"\n      class=\"table-view\"\n      :data=\"[details]\"\n      :options=\"tableViewOptions\"\n      @pulling-down=\"_reloadWebview\">\n      <ul>\n        <div class=\"color-box\">\n          <p>{{$t('base.Welcome')}}!</p>\n          <p>{{details.CompanyName}}</p>\n        </div>\n        <div class=\"slider-box\">\n          <div>\n            <hs-swiper :images=\"banners.map(v => v.PicUrl)\"></hs-swiper>\n          </div>\n        </div>\n\n        <!-- 公告入口 -->\n        <div class=\"announcement\" @click=\"$router.push('/announcement/list')\">\n          <div class=\"details\">\n            <div class=\"logo\" style=\"background-image: url('static/image/home/announcement.png')\"></div>\n            <p class=\"title\" ref=\"AnnouncementTitle\">{{$t('base.Announcement')}}</p>\n            <div class=\"messages\" ref=\"AnnouncementMessage\">\n              <p class=\"m1\" ref=\"M1\"></p>\n              <p class=\"m2\" ref=\"M2\"></p>\n            </div>\n            <p ref=\"AnnouncementMore\">&nbsp;|&nbsp;{{$t('base.More_2')}}</p>\n          </div>\n        </div>\n\n        <!-- 预订板块 -->\n        <div class=\"book-box\" ref=\"BookBox\">\n          <div class=\"header\">\n            <div class=\"item\" :class=\"{'item-actived': bookActivedIndex === 1}\" @click=\"bookActivedIndex = 1\">{{$t('base.BusinessTrip')}}</div>\n            <div class=\"item\" :class=\"{'item-actived': bookActivedIndex === 2}\" v-if=\"details.EnablePrivate\" @click=\"bookActivedIndex = 2\">{{$t('base.PersonalTrip')}}</div>\n          </div>\n          <div class=\"entry\">\n            <div class=\"blank\" v-if=\"details.MenuPermissions && (details.MenuPermissions.indexOf(1) != -1 || details.MenuPermissions.indexOf(3) != -1)\" @click=\"_gotoPlaneTicketQuery\">\n              <div class=\"logo\" style=\"background-image: url('static/image/tabbar/plane@2x.png')\"></div>\n              <div class=\"des\">\n                <p>{{$t('base.Flights')}}</p>\n                <p>{{$t('base.FlightsDes')}}</p>\n              </div>\n              <div class=\"arrow\" style=\"background-image: url('static/image/base/cell/right_arrow_gray.png')\"></div>\n            </div>\n            <div class=\"blank\" v-if=\"details.MenuPermissions && (details.MenuPermissions.indexOf(2) != -1 || details.MenuPermissions.indexOf(4) != -1)\" @click=\"_gotoHotelQuery\">\n              <div class=\"logo\" style=\"background-image: url('static/image/tabbar/hotel@2x.png')\"></div>\n              <div class=\"des\">\n                <p>{{$t('base.Hotel')}}</p>\n                <p>{{$t('base.HotelDes')}}</p>\n              </div>\n              <div class=\"arrow\" style=\"background-image: url('static/image/base/cell/right_arrow_gray.png')\"></div>\n            </div>\n            <div class=\"blank\" v-if=\"details.MenuPermissions && details.MenuPermissions.indexOf(5) != -1\" @click=\"_gotoTrainTicketQuery\">\n              <div class=\"logo\" style=\"background-image: url('static/image/tabbar/train@2x.png')\"></div>\n              <div class=\"des\">\n                <p>{{$t('base.Trains')}}</p>\n                <p>{{$t('base.TrainsDes')}}</p>\n              </div>\n              <div class=\"arrow\" style=\"background-image: url('static/image/base/cell/right_arrow_gray.png')\"></div>\n            </div>\n          </div>\n        </div>\n        <div style=\"width: 100%;height: 20px;\"></div>\n      </ul>\n    </hs-scroll>\n    <c-tabbar></c-tabbar>\n    <!-- 控制版本 需要和后端版本信息保持一致 !!!!-->\n    <div ref=\"GetVersion\" class=\"getVersion\" title=\"1.3.0.4\"></div>\n  </div>\n</template>\n<script type=\"text/ecmascript-6\">\nimport HsScroll from 'base/hs-scroll/hs-scroll'\nimport HsSwiper from 'base/hs-swiper/hs-swiper'\nimport CTabbar from 'components/c-tabbar/c-tabbar'\nimport {\n  kpiHomeGethomeinitinfo,\n  kpiAdList,\n  kpiIntlflightGetNationList,\n  kpiFlightGetAllCities,\n  kpiIntlflightGetIntlFlightCityList,\n  kpiHotelGetHotelCityList,\n  kpiIntlHotelGetIntlHotelCityList,\n  kpiTrainGetTrainCityList,\n  kpiNoticeList,\n  kpiCalendarGet\n} from 'api'\nimport {mapMutations} from 'vuex'\nexport default {\n  mounted() {\n    // 检查版本号\n    this._checkVersion()\n    // 获取首页数据\n    this._getDetails()\n    // 获取banner数据\n    this._getBannners()\n    // 获取公告\n    this._getNotice()\n    // 获取日历\n    this._getCalendarGet()\n  },\n  beforeDestroy() {\n    clearInterval(this.timeInterval)\n  },\n  data() {\n    return {\n      tableViewOptions: {\n        pullDownRefresh: {\n          threshold: 50\n        }\n      },\n      details: {},\n      banners: [],\n      bannerSwiper: undefined,\n      version: '',\n      bookActivedIndex: 1, // 读取权限 1: 因公出行 2: 因私出行\n      messages: [],\n      messagesIndex: 0\n    }\n  },\n  methods: {\n    ...mapMutations([\n      'SET_UN_HANDLE_VETTING_COUNT'\n    ]),\n\n    /** 获取日期 */\n    _getCalendarGet() {\n      let StartDate = this.beTime(new Date())\n      let EndDate = this.getNewDate(this.beTime(new Date()), 1, 0, 0)\n      let params = {\n        StartDate: this.beTimeNumber(StartDate),\n        EndDate: this.beTimeNumber(EndDate)\n      }\n      kpiCalendarGet(params).then((res) => {\n        console.log('日历: ', res)\n        window.localStorage.CALENDAR = JSON.stringify(res.ResultData)\n      })\n    },\n\n    /** 获取公告 */\n    _getNotice() {\n      let params = {\n        PageIndex: 1,\n        Source: 0\n      }\n      kpiNoticeList(params).then(res => {\n        console.log('公告: ', res.ResultData.Notices)\n        this.messages = res.ResultData.Notices.map(v => v.Title)\n        this.$refs.M1.innerHTML = this.messages[0]\n        this.$refs.M1.innerText = this.messages[0]\n        this.$refs.M2.innerHTML = this.messages[1]\n        this.$refs.M2.innerText = this.messages[1]\n        if (this.messages.length > 1) {\n          // 定时器\n          this._startInterval()\n        }\n      })\n    },\n    /** 定时器 */\n    _startInterval() {\n      this.timeInterval && clearInterval(this.timeInterval)\n      let w1 = this.$refs.AnnouncementTitle.getBoundingClientRect().width\n      let w2 = this.$refs.AnnouncementMore.getBoundingClientRect().width\n      this.$refs.AnnouncementMessage.style.width = `calc(100% - ${w1}px - ${w2}px - 40px)`\n      this.timeInterval = setInterval(() => {\n        this.messagesIndex++\n        if (this.messagesIndex % 2 === 0) {\n          this.$refs.M1.style.top = '0px'\n          this.$refs.M2.style.top = '-40px'\n          this.$refs.M1.style['z-index'] = 9\n          this.$refs.M2.style['z-index'] = 1\n          setTimeout(() => {\n            this.$refs.M2.style.top = '40px'\n            this.$refs.M2.innerHTML = this.messages[(this.messagesIndex + 1) % this.messages.length]\n            this.$refs.M2.innerText = this.messages[(this.messagesIndex + 1) % this.messages.length]\n          }, 500)\n        } else {\n          this.$refs.M1.style.top = '-40px'\n          this.$refs.M2.style.top = '0px'\n          this.$refs.M1.style['z-index'] = 1\n          this.$refs.M2.style['z-index'] = 9\n          setTimeout(() => {\n            this.$refs.M1.style.top = '40px'\n            this.$refs.M1.innerHTML = this.messages[(this.messagesIndex + 1) % this.messages.length]\n            this.$refs.M1.innerText = this.messages[(this.messagesIndex + 1) % this.messages.length]\n          }, 500)\n        }\n      }, 5000)\n    },\n\n    /**\n     * 下拉刷新网页\n     */\n    _reloadWebview() {\n      window.localStorage.clear()\n      window.location.reload()\n    },\n    /**\n     * 获取首页数据\n     */\n    _getDetails() {\n      kpiHomeGethomeinitinfo().then((res) => {\n        console.log('首页: ', res)\n        this.details = res.ResultData\n        // 根据数据设置一些页面的初始值\n        this.bookActivedIndex = this.details.PayTypePermission === 2 ? 2 : 1\n        this.SET_UN_HANDLE_VETTING_COUNT(this.details.UnHandleVettingCount)\n        let height = document.body.offsetHeight\n        this.$refs.BookBox.style['min-height'] = `${height - 170 - 50 - 50 - 40 - 60}px`\n\n        this._checkLocalStorageWithStaticJson()\n      }).catch(() => {\n        this.$refs.tableView && this.$refs.tableView.forceUpdate()\n      })\n    },\n    /**\n     * 获取轮播图\n     */\n    _getBannners() {\n      let params = {\n        adType: 0\n      }\n      kpiAdList(params).then((res) => {\n        console.log('首页广告: ', res)\n        this.banners = res.ResultData\n      })\n    },\n    /**\n     * 根据首页接口返回的版本号, 校验保存本地城市,国籍静态数据\n     */\n    _checkLocalStorageWithStaticJson() {\n      if (!window.localStorage.CityVersion) {\n        let res = {\n          NationVersion: '',\n          FlightCityVersion: '',\n          IntlFlightCityVersion: '',\n          HotelCityVersion: '',\n          IntlHotelCityVersion: '',\n          TrainCityVersion: ''\n        }\n        window.localStorage.CityVersion = JSON.stringify(res)\n      }\n      let localStorageCityVersion = JSON.parse(window.localStorage.CityVersion)\n\n      if (localStorageCityVersion.NationVersion !== this.details.CityVersion.NationVersion) {\n        // 更新国籍JSON\n        kpiIntlflightGetNationList().then((res) => {\n          console.log('更新国籍JSON: ', res)\n          this._saveLocalStorageWithStaticJson('NATION', res.ResultData)\n          localStorageCityVersion.NationVersion = this.details.CityVersion.NationVersion\n          window.localStorage.CityVersion = JSON.stringify(localStorageCityVersion)\n        })\n      }\n\n      if (localStorageCityVersion.FlightCityVersion !== this.details.CityVersion.FlightCityVersion) {\n        // 更新国内机票JSON\n        kpiFlightGetAllCities().then((res) => {\n          console.log('更新国内机票JSON: ', res)\n\n          this._saveLocalStorageWithStaticJson('DOMESTIC_PLANE_CITY', res.ResultData)\n          localStorageCityVersion.FlightCityVersion = this.details.CityVersion.FlightCityVersion\n          window.localStorage.CityVersion = JSON.stringify(localStorageCityVersion)\n        })\n      }\n\n      if (localStorageCityVersion.IntlFlightCityVersion !== this.details.CityVersion.IntlFlightCityVersion) {\n        // 更新国际机票JSON\n        kpiIntlflightGetIntlFlightCityList().then((res) => {\n          console.log('更新国际机票JSON: ', res)\n\n          this._saveLocalStorageWithStaticJson('INTL_PLANE_CITY', res.ResultData)\n          localStorageCityVersion.IntlFlightCityVersion = this.details.CityVersion.IntlFlightCityVersion\n          window.localStorage.CityVersion = JSON.stringify(localStorageCityVersion)\n        })\n      }\n\n      if (localStorageCityVersion.HotelCityVersion !== this.details.CityVersion.HotelCityVersion) {\n        // 更新国内酒店JSON\n        kpiHotelGetHotelCityList().then((res) => {\n          console.log('更新国内酒店JSON: ', res)\n          this._saveLocalStorageWithStaticJson('DOMESTIC_HOTEL_CITY', res.ResultData)\n          localStorageCityVersion.HotelCityVersion = this.details.CityVersion.HotelCityVersion\n          window.localStorage.CityVersion = JSON.stringify(localStorageCityVersion)\n        })\n      }\n\n      if (localStorageCityVersion.IntlHotelCityVersion !== this.details.CityVersion.IntlHotelCityVersion) {\n        // 更新国际酒店JSON\n        kpiIntlHotelGetIntlHotelCityList().then((res) => {\n          console.log('更新国际酒店JSON: ', res)\n          this._saveLocalStorageWithStaticJson('INTER_HOTEL_CITY', res.ResultData)\n          localStorageCityVersion.IntlHotelCityVersion = this.details.CityVersion.IntlHotelCityVersion\n          window.localStorage.CityVersion = JSON.stringify(localStorageCityVersion)\n        })\n      }\n\n      if (localStorageCityVersion.TrainCityVersion !== this.details.CityVersion.TrainCityVersion) {\n        // 更新火车票JSON\n        kpiTrainGetTrainCityList().then((res) => {\n          console.log('更新火车票JSON: ', res)\n          this._saveLocalStorageWithStaticJson('DOMESTIC_TRAIN_CITY', res.ResultData)\n          localStorageCityVersion.TrainCityVersion = this.details.CityVersion.TrainCityVersion\n          window.localStorage.CityVersion = JSON.stringify(localStorageCityVersion)\n        })\n      }\n      // 更新localStorage版本号\n      window.localStorage.CityVersion = JSON.stringify(this.details.CityVersion)\n    },\n    _saveLocalStorageWithStaticJson(Name, original) {\n      // 挑选出热门\n      let hot = JSON.parse(JSON.stringify(original))[0]\n      let list = JSON.parse(JSON.stringify(original)).slice(1)\n      list.map(v => {\n        v.open = false\n        return v\n      })\n      // 重新组合\n      let res = {hot: hot, list: list}\n      let localStorage = window.localStorage\n      localStorage.removeItem(`HISTORY_${Name}`)\n      localStorage.setItem(Name, JSON.stringify(res))\n    },\n    /**\n     * 检查版本号\n     */\n    _checkVersion() {\n      window.localStorage.version = this.version = this.$refs.GetVersion.title\n    },\n    /**\n     * 去机票查询页面\n     */\n    _gotoPlaneTicketQuery() {\n      this.$router.push({path: '/planeTicket/query', query: {TravelType: this.bookActivedIndex - 1}})\n    },\n    /**\n     * 去酒店查询页面\n     */\n    _gotoHotelQuery() {\n      this.$router.push({path: '/hotel/query', query: {TravelType: this.bookActivedIndex - 1}})\n    },\n    /**\n     * 去火车票查询页面\n     */\n    _gotoTrainTicketQuery() {\n      this.$router.push({path: '/train/query', query: {TravelType: this.bookActivedIndex - 1}})\n    }\n  },\n  components: {\n    HsScroll,\n    HsSwiper,\n    CTabbar\n  }\n}\n</script>\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n@import '~common/stylus/base'\n@import '~common/stylus/variable'\n@import '~common/stylus/mixin'\n.hs-container\n  width 100%\n  height 100%\n  >.table-view\n    width 100%\n    height calc(100% - 50px)\n    overflow hidden\n    .color-box\n      width 100%\n      height 170px\n      background linear-gradient(to right, #E94746, #C40513)\n      // background linear-gradient(to left, #ff0844 0%, #E94746 100%)\n      padding 10px\n      >p\n        width 100%\n        color $color_white\n        font-size 1.1em\n        font-weight bold\n        text-align center\n        &:nth-child(1)\n          margin-bottom 8px\n    .slider-box\n      width 100%\n      height 50px\n      position relative\n      >div\n        position absolute\n        left 3%\n        bottom 0\n        width 94%\n        height 150px\n        border-radius 8px\n        overflow hidden\n        .image-view\n          border-radius 8px !important\n\n    // 公告\n    .announcement\n      width 100%\n      margin-top 20px\n      >.details\n        @extend .flex-row\n        @extend .flex-start\n        margin-left 3%\n        width 94%\n        height 40px\n        padding 0 10px\n        box-shadow 0 0 10px $color_gray_boxshadow\n        background-color $color_white\n        border-radius 8px\n        overflow hidden\n        font-size 0.8rem\n        color $color_gray_text\n        >.logo\n          width 20px\n          height 20px\n          background-size 100% 100%\n          margin-right 10px\n        >.title\n          font-size 1rem\n          font-weight bold\n          color $color_black_text_0\n          margin-right 10px\n        >.messages\n          height 40px\n          position relative\n          >p\n            @extend .flex-row\n            @extend .flex-start\n            width 100%\n            height 40px\n            line-height 40px\n            transition all 500ms\n            background-color $color_white\n            ellipsis(1)\n          >.m1\n            position absolute\n            top 0\n            left 0\n            opacity 1\n          >.m2\n            position absolute\n            top 40px\n            left 0\n            opacity 1\n\n    .book-box\n      margin-left 3%\n      width 94%\n      box-shadow 0 0 10px $color_gray_boxshadow\n      margin-top 20px\n      background-color $color_white\n      border-radius 8px\n      overflow hidden\n      >.header\n        @extend .flex-row\n        width 100%\n        height 50px\n        // background-color $color_theme\n        background linear-gradient(to right, #E94746, #C40513)\n        >.item\n          @extend .flex-center\n          border-radius 8px 8px 0 0\n          font-size 1.1em\n          font-weight bold\n          color $color_white_text_opacity\n          width 50%\n          height 52px\n        >.item-actived\n          background-color $color_white\n          color $color_black_text_0\n      >.entry\n        width 100%\n        padding 0 20px\n        >.blank\n          @extend .flex-row\n          @extend .flex-start\n          width 100%\n          height 80px\n          border-bottom 1px solid $color_gray_layer\n          >.logo\n            width 34px\n            height 34px\n            background-size 100% 100%\n            margin-right 10px\n          >.arrow\n            width 20px\n            height 20px\n            background-size 100% 100%\n            margin-left 10px\n          >.des\n            @extend .flex-column\n            @extend .flex-center\n            @extend .flex-top\n            width calc(100% - 80px)\n            height 100%\n            >p\n              &:nth-child(1)\n                font-size 1.1em\n                font-weight bold\n                margin-bottom 5px\n              &:nth-child(2)\n                font-size 0.9em\n                color $color_black_text_1\n          &:last-child\n            border-bottom-width 0px\n  >.getVersion\n    @extend .disabled\n    width 0px\n    height 0px\n    opacity 0\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/home/home.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hs-container\"},[_c('hs-scroll',{ref:\"tableView\",staticClass:\"table-view\",attrs:{\"data\":[_vm.details],\"options\":_vm.tableViewOptions},on:{\"pulling-down\":_vm._reloadWebview}},[_c('ul',[_c('div',{staticClass:\"color-box\"},[_c('p',[_vm._v(_vm._s(_vm.$t('base.Welcome'))+\"!\")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.details.CompanyName))])]),_vm._v(\" \"),_c('div',{staticClass:\"slider-box\"},[_c('div',[_c('hs-swiper',{attrs:{\"images\":_vm.banners.map(function (v) { return v.PicUrl; })}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"announcement\",on:{\"click\":function($event){_vm.$router.push('/announcement/list')}}},[_c('div',{staticClass:\"details\"},[_c('div',{staticClass:\"logo\",staticStyle:{\"background-image\":\"url('static/image/home/announcement.png')\"}}),_vm._v(\" \"),_c('p',{ref:\"AnnouncementTitle\",staticClass:\"title\"},[_vm._v(_vm._s(_vm.$t('base.Announcement')))]),_vm._v(\" \"),_c('div',{ref:\"AnnouncementMessage\",staticClass:\"messages\"},[_c('p',{ref:\"M1\",staticClass:\"m1\"}),_vm._v(\" \"),_c('p',{ref:\"M2\",staticClass:\"m2\"})]),_vm._v(\" \"),_c('p',{ref:\"AnnouncementMore\"},[_vm._v(\" | \"+_vm._s(_vm.$t('base.More_2')))])])]),_vm._v(\" \"),_c('div',{ref:\"BookBox\",staticClass:\"book-box\"},[_c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"item\",class:{'item-actived': _vm.bookActivedIndex === 1},on:{\"click\":function($event){_vm.bookActivedIndex = 1}}},[_vm._v(_vm._s(_vm.$t('base.BusinessTrip')))]),_vm._v(\" \"),(_vm.details.EnablePrivate)?_c('div',{staticClass:\"item\",class:{'item-actived': _vm.bookActivedIndex === 2},on:{\"click\":function($event){_vm.bookActivedIndex = 2}}},[_vm._v(_vm._s(_vm.$t('base.PersonalTrip')))]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"entry\"},[(_vm.details.MenuPermissions && (_vm.details.MenuPermissions.indexOf(1) != -1 || _vm.details.MenuPermissions.indexOf(3) != -1))?_c('div',{staticClass:\"blank\",on:{\"click\":_vm._gotoPlaneTicketQuery}},[_c('div',{staticClass:\"logo\",staticStyle:{\"background-image\":\"url('static/image/tabbar/plane@2x.png')\"}}),_vm._v(\" \"),_c('div',{staticClass:\"des\"},[_c('p',[_vm._v(_vm._s(_vm.$t('base.Flights')))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.$t('base.FlightsDes')))])]),_vm._v(\" \"),_c('div',{staticClass:\"arrow\",staticStyle:{\"background-image\":\"url('static/image/base/cell/right_arrow_gray.png')\"}})]):_vm._e(),_vm._v(\" \"),(_vm.details.MenuPermissions && (_vm.details.MenuPermissions.indexOf(2) != -1 || _vm.details.MenuPermissions.indexOf(4) != -1))?_c('div',{staticClass:\"blank\",on:{\"click\":_vm._gotoHotelQuery}},[_c('div',{staticClass:\"logo\",staticStyle:{\"background-image\":\"url('static/image/tabbar/hotel@2x.png')\"}}),_vm._v(\" \"),_c('div',{staticClass:\"des\"},[_c('p',[_vm._v(_vm._s(_vm.$t('base.Hotel')))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.$t('base.HotelDes')))])]),_vm._v(\" \"),_c('div',{staticClass:\"arrow\",staticStyle:{\"background-image\":\"url('static/image/base/cell/right_arrow_gray.png')\"}})]):_vm._e(),_vm._v(\" \"),(_vm.details.MenuPermissions && _vm.details.MenuPermissions.indexOf(5) != -1)?_c('div',{staticClass:\"blank\",on:{\"click\":_vm._gotoTrainTicketQuery}},[_c('div',{staticClass:\"logo\",staticStyle:{\"background-image\":\"url('static/image/tabbar/train@2x.png')\"}}),_vm._v(\" \"),_c('div',{staticClass:\"des\"},[_c('p',[_vm._v(_vm._s(_vm.$t('base.Trains')))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.$t('base.TrainsDes')))])]),_vm._v(\" \"),_c('div',{staticClass:\"arrow\",staticStyle:{\"background-image\":\"url('static/image/base/cell/right_arrow_gray.png')\"}})]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"20px\"}})])]),_vm._v(\" \"),_c('c-tabbar'),_vm._v(\" \"),_c('div',{ref:\"GetVersion\",staticClass:\"getVersion\",attrs:{\"title\":\"1.3.0.4\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fd098e32\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/home/home.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fd098e32\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./home.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./home.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./home.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fd098e32\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fd098e32\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/home/home.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}