webpackJsonp([12],{"4i0H":function(e,t,a){"use strict";var s=a("4aFc"),i=a("9Vmw"),r=a("C0NF"),o={components:{HsCell1:s.a,HsSection:i.a,HsScroll:r.a},props:{route:{type:Object,default:function(){}}},data:function(){return{detail:""}},methods:{}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.noValue(e.route.TrainCode)?e._e():a("hs-section",[a("div",{staticClass:"segment"},[a("hs-cell-1",{attrs:{showLogo:!1}},[a("div",{staticClass:"cell-segment"},[a("div",{staticClass:"cell-segment-left"},[a("p",[e._v(e._s(e.$t(e.beTime(e.route.DepartureDateTime),"date",["MM月dd日","MM dd"]))+" "+e._s(e.getWeeks(e.beTime(e.route.DepartureDateTime))))]),e._v(" "),a("p",[e._v(e._s(e.beTime(e.route.DepartureDateTime,"hh:mm")))]),e._v(" "),a("p",[e._v(e._s(e.route.DepartStationName))])]),e._v(" "),a("div",{staticClass:"cell-segment-middle"},[a("p",[e._v(e._s(e.route.TrainCode))]),e._v(" "),a("div",{staticClass:"cell-segment-time",on:{click:function(t){t.stopPropagation(),e.$emit("delegateForTableTime",e.route)}}},[a("div",{staticClass:"layer"}),e._v(" "),a("div",{staticClass:"time"},[e._v(e._s(e.$t("base.Schedule")))]),e._v(" "),a("div",{staticClass:"layer"})]),e._v(" "),a("p",[e._v(e._s(e.route.RunTime))])]),e._v(" "),a("div",{staticClass:"cell-segment-right"},[a("p",[e._v(e._s(e.$t(e.beTime(e.route.ArrivalDateTime),"date",["MM月dd日","MM dd"]))+" "+e._s(e.getWeeks(e.beTime(e.route.ArrivalDateTime))))]),e._v(" "),a("p",[e._v(e._s(e.beTime(e.route.ArrivalDateTime,"hh:mm"))),e.route.ArrivalDays>0?a("span",{staticClass:"ArrivalDays"},[e._v("+"+e._s(e.route.ArrivalDays))]):e._e()]),e._v(" "),a("p",[e._v(e._s(e.route.ArrivalStationName))])])])]),e._v(" "),e._t("default",[a("hs-cell-1",{attrs:{showLogo:!1},nativeOn:{click:function(t){e.$emit("delegateNotice")}}},[a("div",{staticClass:"cell-segment-one",attrs:{type:e.language}},[a("p",[e._v(e._s(e.route.TypeName))]),e._v(" "),a("a",[e._v(e._s(e.$t("base.BookingInstructionsAndInstructionsForReturning")))])])])])],2)])},staticRenderFns:[]};var l=a("VU/8")(o,n,!1,function(e){a("tnQT")},"data-v-cc0f8828",null);t.a=l.exports},PXxl:function(e,t){},tnQT:function(e,t){},udZe:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("mvHQ"),i=a.n(s),r=a("Dd8w"),o=a.n(r),n=a("7+uW"),l=a("CCVD"),c=a("4Sih"),d=a("QRZS"),u=a("C0NF"),h=a("9Vmw"),p=a("4aFc"),v=a("LrqJ"),m=a("EqUB"),_=a("bJna"),b=a("4i0H"),g=a("Zrlr"),T=a.n(g),C=function e(t){T()(this,e),this.Purpose=t&&t.Purpose?t.Purpose:"",this.AppointVettingPersonID=t&&t.AppointVettingPersonID?t.AppointVettingPersonID:"",this.AppointVettingPersonName=t&&t.AppointVettingPersonName?t.AppointVettingPersonName:"",this.ViolationRankName=t&&t.ViolationRankName?t.ViolationRankName:"",this.ViolationRankReason=t&&t.ViolationRankReason?t.ViolationRankReason:"",this.DepartStationCode=t&&t.DepartStationCode?t.DepartStationCode:"",this.ArrivalStationCode=t&&t.ArrivalStationCode?t.ArrivalStationCode:"",this.GoSelectedTrainInfo=t&&""!==t.GoSelectedRoute.TrainCode?{TrainCode:t.GoSelectedRoute.TrainCode,SeatTypeCode:t.GoSelectedRoute.TypeCode,DepartDate:t.GoSelectedRoute.DepartureDateTime,ChooseSeats:t.GoSelectedRoute.ChooseSeats}:null,this.BackSelectedTrainInfo=t&&""!==t.BackSelectedRoute.TrainCode?{TrainCode:t.BackSelectedRoute.TrainCode,SeatTypeCode:t.BackSelectedRoute.TypeCode,DepartDate:t.BackSelectedRoute.DepartureDateTime,ChooseSeats:t.BackSelectedRoute.ChooseSeats}:null,this.CustomItem=t&&t.CustomItem?t.CustomItem:null,this.Contacts=t&&t.Contacts?t.Contacts:[],this.Passengers=t&&t.Passengers?t.Passengers.map(function(e,t){return{PsgID:e.ID,UpID:e.UpID,Email:e.Email,Name:e.Name,Credential:e.Credential,Department:e.Department,CostCenter:e.CostCenter,BusinessUnit:e.BusinessUnit,Mobile:e.Mobile,IsSendIssuedEmail:e.IsSendIssuedEmail,IsSendIssuedSms:e.IsSendIssuedSms,UpType:e.UpType}}):[],this.IsAcptStanding=!(!t||!t.IsAcptStanding)&&t.IsAcptStanding,this.TravelType=t&&0===Number(t.TravelType)?0:1,this.PayType=t&&t.PayType?t.PayType:0,this.DeliveryInfo={ID:"",DeliveryType:t&&t.DeliveryType?t.DeliveryType:3,DeliveryAddress:t&&t.DeliveryAddress?t.DeliveryAddress:""}},f=a("gSa9"),y=a("DC+l"),S=a("NYxO"),P=a("mtWM"),I=a.n(P),D=a("gyMJ"),k={beforeRouteEnter:function(e,t,a){a(function(e){(e.noValue(e.trainOrder.TravelType)||e.noValue(e.bookInit))&&e.$router.replace("/home")})},beforeRouteLeave:function(e,t,a){this.showExamineProcess||this.showTableTime||this.showPriceDetail||this.showRulesDialog?(this.showExamineProcess=!1,this.showTableTime=!1,this.showPriceDetail=!1,this.showRulesDialog=!1,a(!1)):a()},computed:o()({},Object(S.c)(["trainOrder","isMiniprogram","trainRight"]),{bookInit:function(){return this.$route.params.details},serviceCharge:function(){return(this.bookInit&&this.bookInit.GoChargeInfo&&this.bookInit.GoChargeInfo.ServiceCharge?this.bookInit.GoChargeInfo.ServiceCharge:0)+(this.bookInit&&this.bookInit.BackChargeInfo&&this.bookInit.BackChargeInfo.ServiceCharge?this.bookInit.BackChargeInfo.ServiceCharge:0)},totalPrice:function(){return((this.bookInit&&this.bookInit.GoChargeInfo&&this.bookInit.GoChargeInfo.SeatPrice?this.bookInit.GoChargeInfo.SeatPrice:0)+(this.bookInit&&this.bookInit.BackChargeInfo&&this.bookInit.BackChargeInfo.SeatPrice?this.bookInit.BackChargeInfo.SeatPrice:0)+this.serviceCharge)*this.trainOrder.Passengers.length}}),filters:{filterPayType:function(e){switch(e){case 1:return n.a.prototype.$t("base.CompanyPayment");case 2:return n.a.prototype.$t("base.PersonalPayment");case 3:return n.a.prototype.$t("base.CompanyPayment")+"("+n.a.prototype.$t("base.Prepayments")+")";default:return n.a.prototype.$t("base.Unknown")}}},data:function(){return{showPriceDetail:!1,showExamineProcess:!1,showTableTime:!1,showRulesDialog:!1,rulesHtml:"",currentTableTime:{},showTravelStandard:!1}},methods:o()({},Object(S.d)(["SET_TRAIN_ORDER"]),Object(S.b)(["dispatchTrainRight"]),{_getNoticeRules:function(){var e=this;I.a.get("/static/html/train_notice.html").then(function(t){e.rulesHtml=t.data,e.showRulesDialog=!0})},_createOrder:function(){var e=this;this.$alert({content:this.$t("TM.AreYouSureToSubmitYourOrder"),cancelTxt:this.$t("base.Cancel"),confirmFn:function(){var t=new C(e.trainOrder);Object(D._39)(t).then(function(t){if(t.ResultData.IsSuccess){var a=JSON.parse(i()(e.trainOrder));a.Ids=t.ResultData.Ids,e.SET_TRAIN_ORDER(a),e.$refs.COrderSuccess.open()}else e.$toast(e.$t("TM.TheSubmissionFailedPleaseTryAgainLater"))})}})},_clickTableTime:function(e){this.currentTableTime={DepartStationCode:e.DepartStationCode,DepartStationName:e.DepartStationName,ArrivalStationCode:e.ArrivalStationCode,ArrivalStationName:e.ArrivalStationName,DepartDate:e.DepartureDateTime,TrainNo:e.TrainNo,TrainCode:e.TrainCode},this.showTableTime=!0},_gotoHomePage:function(){this.$router.replace("/home")},_gotoSubmitAndPay:function(){var e=this;this.$alert({content:this.$t("TM.AreYouSureToSubmitAndPayForTheOrder"),cancelTxt:this.$t("base.Cancel"),confirmFn:function(){var t=new C(e.trainOrder);Object(D._39)(t).then(function(t){t.ResultData.IsSuccess?e._gotoPay(t.ResultData.Ids[0]):e.$toast(e.$t("TM.TheSubmissionFailedPleaseTryAgainLater"))})}})},_gotoPay:function(e){this.$refs.Pay&&this.$refs.Pay.gotoPay({OrderBusinessType:10,OrderID:e,PayWay:3,TravelType:Number(this.trainOrder.TravelType),CallbackPathName:"TrainOrderInforList"})},_getTravelStandard:function(){var e=this;this.dispatchTrainRight().then(function(t){e.showTravelStandard=!0})}}),components:{CHeader:l.a,COrderSuccess:c.a,HsTab:d.a,HsScroll:u.a,HsSection:h.a,HsCell1:p.a,HsCellSmallTitle:v.a,HsNull:m.a,HsDialog:_.a,TrainRoute:b.a,CExamineProcess:function(){return a.e(71).then(a.bind(null,"UgQm"))},CTableTime:function(){return a.e(69).then(a.bind(null,"fnlI"))},CTravelStandard:f.a,Pay:y.a}},O={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.noValue(e.bookInit)?e._e():a("div",{staticClass:"hs-container"},[a("c-header",{attrs:{leftIcon1:"home_2.png",leftFn1:e._gotoHomePage,title:e.$t("base.TrainTicketConfirmation")}}),e._v(" "),a("hs-scroll",{staticClass:"table-view"},[a("hs-section",[a("hs-cell-1",{attrs:{showLogo:!1}},[a("div",{staticClass:"cell-top"},[a("div",{staticClass:"cell-top-one"},[a("p",[e._v(e._s(0===Number(e.trainOrder.TravelType)?e.$t("base.BusinessTrip"):e.$t("base.PersonalTrip")))])]),e._v(" "),a("div",{staticClass:"cell-top-two"},[a("p",{staticClass:"infor"},[e._v(e._s(e.$t("base.OrderDate"))+": "+e._s(e.$t(e.beTime(new Date),"date",["yyyy-MM-dd","MM dd, yyyy"]))+" "+e._s(e.beTime(new Date,"hh:mm")))])]),e._v(" "),a("div",{staticClass:"cell-button"},[2===Number(e.trainOrder.PayType)&&e.noValue(JSON.stringify(e.trainOrder.VettingProcessList))?a("button",{on:{click:e._gotoSubmitAndPay}},[e._v(e._s(e.$t("base.SubmitAndPay")))]):a("button",{on:{click:e._createOrder}},[e._v(e._s(e.$t("base.Submit")))])])])])],1),e._v(" "),a("train-route",{attrs:{route:e.trainOrder.GoSelectedRoute},on:{delegateForTableTime:e._clickTableTime,delegateNotice:e._getNoticeRules}}),e._v(" "),a("train-route",{attrs:{route:e.trainOrder.BackSelectedRoute},on:{delegateForTableTime:e._clickTableTime,delegateNotice:e._getNoticeRules}}),e._v(" "),a("hs-section",e._l(e.trainOrder.Passengers,function(t,s){return a("hs-cell-1",{key:s,attrs:{showLogo:!1,showSeparator:!1}},[a("div",{staticClass:"custom-cell-people"},[a("div",{staticClass:"left",style:{opacity:0===s?1:0}},[a("p",[e._v(e._s(e.$t("base.Passenger")))])]),e._v(" "),a("div",{staticClass:"right",style:{"border-bottom-width":s===e.trainOrder.Passengers.length-1?"0px":"1px"}},[a("p",[e._v(e._s(t.Name))]),e._v(" "),a("p",[e._v(e._s(t.Credential.CredentialName)+" "+e._s(t.Credential.CredentialNo))]),e._v(" "),a("p",[e._v(e._s(e.$t("base.CellphoneNumber"))+" "+e._s(t.Mobile?t.Mobile:e.$t("base.Unfilled")))])])])])})),e._v(" "),a("hs-section",[e.bookInit&&e.bookInit.IsDisplayCustomItem&&e.trainOrder.CustomItem&&e.trainOrder.CustomItem.Name?a("hs-cell-small-title",{attrs:{title:e.bookInit.CustomItemName,type:"bold",value:e.trainOrder.CustomItem.Name,showLogo:!1}}):e._e(),e._v(" "),e.bookInit&&e.bookInit.IsDisplayPurpose?a("hs-cell-small-title",{attrs:{title:e.$t("base.TravelPurpose"),type:"bold",value:e.trainOrder.Purpose,showLogo:!1}}):e._e(),e._v(" "),e.bookInit&&e.bookInit.IsDisplayAuthorizationCode?a("hs-cell-small-title",{attrs:{title:e.$t("base.AuthorizationCode"),type:"bold",value:e.trainOrder.AuthorizationCode,showLogo:!1}}):e._e(),e._v(" "),0===Number(e.trainOrder.TravelType)?a("hs-cell-small-title",{class:{disabled:e.noValue(JSON.stringify(e.trainOrder.VettingProcessList))},attrs:{title:e.$t("base.ApprovalInformation"),type:"bold",value:e.noValue(JSON.stringify(e.trainOrder.VettingProcessList))?e.$t("base.NoApprovalRequired"):"CN"===e.language?"":e.$t("base.ApprovalInformation"),showLogo:!e.noValue(JSON.stringify(e.trainOrder.VettingProcessList))},nativeOn:{click:function(t){e.showExamineProcess=!0}}}):e._e(),e._v(" "),0===Number(e.trainOrder.TravelType)?a("hs-cell-small-title",{attrs:{title:e.$t("base.PaymentWay"),type:"bold",value:e._f("filterPayType")(e.trainOrder.PayType),showLogo:!1}}):e._e(),e._v(" "),e.trainOrder.ViolationRankReason?a("hs-cell-small-title",{attrs:{title:e.$t("base.ViolationOfRank"),type:"bold",value:e.trainOrder.ViolationRankReason,warning:!1,showLogo:!1},on:{header:e._getTravelStandard}}):e._e()],1),e._v(" "),a("hs-section",e._l(e.trainOrder.Contacts,function(t,s){return a("hs-cell-1",{key:s,attrs:{showLogo:!1,showSeparator:!1}},[a("div",{staticClass:"custom-cell-people"},[a("div",{staticClass:"left",style:{opacity:0===s?1:0}},[a("p",[e._v(e._s(e.$t("base.Contacts")))])]),e._v(" "),a("div",{staticClass:"right",style:{"border-bottom-width":s===e.trainOrder.Contacts.length-1?"0px":"1px"}},[a("p",[e._v(e._s(t.Name))]),e._v(" "),a("p",[e._v(e._s(e.$t("base.CellphoneNumber"))+" "+e._s(t.Mobile?t.Mobile:e.$t("base.Unfilled")))]),e._v(" "),a("p",[e._v(e._s(e.$t("base.Email"))+" "+e._s(t.Email?t.Email:e.$t("base.Unfilled")))])])])])}))],1),e._v(" "),a("div",{staticClass:"footer",on:{click:function(t){e.showPriceDetail=!e.showPriceDetail}}},[a("div",{staticClass:"footer-price"},[a("p",[e._v(e._s(e.$t("base.TotalAmount")))]),e._v(" "),a("p",[e._v("¥"+e._s(e.totalPrice))])]),e._v(" "),a("div",{staticClass:"footer-price-detail"},[a("div",{staticClass:"logo",staticStyle:{"background-image":"url('static/image/base/cell/right_arrow_gray.png')"},style:{transform:e.showPriceDetail?"rotate(90deg)":"rotate(-90deg)"}})])]),e._v(" "),a("hs-dialog",{ref:"dialog",attrs:{height:"calc(100% - 50px)"},model:{value:e.showPriceDetail,callback:function(t){e.showPriceDetail=t},expression:"showPriceDetail"}},[a("hs-scroll",{staticClass:"showPriceDetail"},[e.bookInit.GoChargeInfo?a("hs-cell-1",{attrs:{showLogo:!1}},[a("div",{staticClass:"footer-price-cell"},[a("p",[e._v(e._s(e.trainOrder.GoSelectedRoute?e.trainOrder.GoSelectedRoute.TypeName:e.$t("base.Price"))),e.bookInit.BackChargeInfo?[e._v("("+e._s(e.$t("base.Going"))+")")]:e._e()],2),e._v(" "),a("p",[a("span",[e._v("¥"+e._s(e.bookInit.GoChargeInfo.SeatPrice))]),a("span",[e._v("x "+e._s(e.trainOrder.Passengers.length)+e._s(e.$t("base.QuantifierPeople")))])])])]):e._e(),e._v(" "),e.bookInit.BackChargeInfo?a("hs-cell-1",{attrs:{showLogo:!1}},[a("div",{staticClass:"footer-price-cell"},[a("p",[e._v(e._s(e.trainOrder.BackSelectedRoute?e.trainOrder.BackSelectedRoute.TypeName:e.$t("base.Price"))+"("+e._s(e.$t("base.Return"))+")")]),e._v(" "),a("p",[a("span",[e._v("¥"+e._s(e.bookInit.BackChargeInfo.SeatPrice))]),a("span",[e._v("x "+e._s(e.trainOrder.Passengers.length)+e._s(e.$t("base.QuantifierPeople")))])])])]):e._e(),e._v(" "),a("hs-cell-1",{attrs:{showLogo:!1}},[a("div",{staticClass:"footer-price-cell"},[a("p",[e._v(e._s(e.$t("base.ServiceFee")))]),e._v(" "),a("p",[a("span",[e._v("￥"+e._s(e.serviceCharge))]),a("span",[e._v("x "+e._s(e.trainOrder.Passengers.length)+e._s(e.$t("base.QuantifierPeople")))])])])])],1)],1),e._v(" "),a("c-examine-process",{attrs:{details:e.trainOrder,passengerWarning:e.$t("base.Passenger")},model:{value:e.showExamineProcess,callback:function(t){e.showExamineProcess=t},expression:"showExamineProcess"}}),e._v(" "),e.showTableTime?a("c-table-time",{attrs:{params:e.currentTableTime}}):e._e(),e._v(" "),a("hs-dialog",{model:{value:e.showRulesDialog,callback:function(t){e.showRulesDialog=t},expression:"showRulesDialog"}},[a("hs-scroll",{staticClass:"rulesDialog",attrs:{data:[e.rulesHtml]}},[a("ul",[a("div",{domProps:{innerHTML:e._s(e.rulesHtml)}})])])],1),e._v(" "),a("c-travel-standard",{attrs:{details:e.trainRight.TrainRank,travelPolicy:e.trainRight.TravelPolicy,type:3},model:{value:e.showTravelStandard,callback:function(t){e.showTravelStandard=t},expression:"showTravelStandard"}}),e._v(" "),a("c-order-success",{ref:"COrderSuccess",attrs:{XOrder:e.trainOrder,OrderBusinessType:10}}),e._v(" "),a("pay",{ref:"Pay"})],1)},staticRenderFns:[]};var w=a("VU/8")(k,O,!1,function(e){a("PXxl")},"data-v-0425793e",null);t.default=w.exports}});
//# sourceMappingURL=12.aafc742a7989b2ed1801.js.map